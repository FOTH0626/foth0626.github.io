<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Graphics on FOTH0626</title><link>https://foth0626.github.io/categories/graphics/</link><description>Recent content in Graphics on FOTH0626</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 08 Jun 2025 15:41:35 +0800</lastBuildDate><atom:link href="https://foth0626.github.io/categories/graphics/index.xml" rel="self" type="application/rss+xml"/><item><title>[GDC]3D Toon Rendering in 'Hi-Fi Rush'</title><link>https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/</link><pubDate>Sun, 08 Jun 2025 15:41:35 +0800</pubDate><guid>https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/</guid><description>&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/face2.png" alt="Featured image of post [GDC]3D Toon Rendering in 'Hi-Fi Rush'" /&gt;&lt;blockquote&gt;
&lt;p&gt;Refer:&lt;a class="link" href="https://youtu.be/gdBACyIOCtc?si=GvZljy0oLHoUwoGK" target="_blank" rel="noopener"
&gt;3D Toon Rendering in &amp;lsquo;Hi-Fi RUSH&amp;rsquo;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id="goals"&gt;Goals
&lt;/h1&gt;&lt;p&gt;ä½¿ç”¨ue4è¿›è¡Œå¡é€šæ¸²æŸ“ï¼ŒåŒ…æ‹¬è§’è‰²å’Œåœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜å…ˆç¡®ä¿60fps&lt;/p&gt;
&lt;p&gt;ç”»é¢å¹²å‡€é”åˆ©é²œäº®&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/renderFeatureOverview.png"
width="2062"
height="1067"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/renderFeatureOverview_hu_9f7a7032c5ff6838.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/renderFeatureOverview_hu_a37a1affe7a078f9.png 1024w"
loading="lazy"
alt="overview"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="463px"
&gt;&lt;/p&gt;
&lt;h1 id="overview"&gt;overview
&lt;/h1&gt;&lt;p&gt;Deferred lighting + toon post-processing.&lt;/p&gt;
&lt;p&gt;Target: decouple toon rendering and gbuffer rendering. Artists can change toon postprocess volume to change areas which want to use toon shading.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/gbuffer.png"
width="2057"
height="1141"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/gbuffer_hu_3c1b32b6b6ff09d8.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/gbuffer_hu_6d5eded44a771b00.png 1024w"
loading="lazy"
alt="gbuffer"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="432px"
&gt;&lt;/p&gt;
&lt;p&gt;use individual toon postprocessing params for each lighting layer&lt;/p&gt;
&lt;h1 id="shadow-color"&gt;Shadow color
&lt;/h1&gt;&lt;p&gt;Target:Need different shadow color.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/blackShadow.png"
width="1280"
height="709"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/blackShadow_hu_c90810bd284db38c.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/blackShadow_hu_c0cb96d1fc028639.png 1024w"
loading="lazy"
alt="blackShadow"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="433px"
&gt;&lt;br&gt;
&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/colorfulShadow.png"
width="1280"
height="717"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/colorfulShadow_hu_ce3c3d5584a6fdd.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/colorfulShadow_hu_c0c8639e31987824.png 1024w"
loading="lazy"
alt="colorfulShadow"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="428px"
&gt;&lt;/p&gt;
&lt;p&gt;Use shadow volume ,implemented by mapping 3d texture to 3d world position.&lt;/p&gt;
&lt;p&gt;Ambient cubemap volume to customlize ambient&lt;/p&gt;
&lt;h1 id="comic-shader"&gt;Comic shader
&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;Lit: halftone dot&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/halftoneDots.png"
width="1280"
height="649"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/halftoneDots_hu_5d5569b8e2f8673c.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/halftoneDots_hu_6b69a40c20811735.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="473px"
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Shadow : hatching lines&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/hatchingLines.png"
width="1280"
height="660"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/hatchingLines_hu_1da4e80c7c5cbe57.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/hatchingLines_hu_b0e237c889290e1f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="465px"
&gt;&lt;/p&gt;
&lt;h2 id="shader-on--off"&gt;Shader on / off
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/comicShaderOn.png"
width="1280"
height="660"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/comicShaderOn_hu_ae57e793af739672.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/comicShaderOn_hu_1383ab63ec0b4a95.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="465px"
&gt;&lt;br&gt;
&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/comicShaderOff.png"
width="1280"
height="717"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/comicShaderOff_hu_e2eee49e8be42603.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/comicShaderOff_hu_ec987d92049e1944.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="428px"
&gt;&lt;/p&gt;
&lt;p&gt;Dirty GI and SSAO, remove gradation&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/sdf.png"
width="1280"
height="715"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/sdf_hu_777a46ee27bf39cb.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/sdf_hu_784a02cbd22f5d3e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="179"
data-flex-basis="429px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/sdfShader.png"
width="1280"
height="631"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/sdfShader_hu_69442c05bfeba3d0.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/sdfShader_hu_30e4263f1d5db160.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="202"
data-flex-basis="486px"
&gt;&lt;/p&gt;
&lt;p&gt;Use smoothstep and alpha blend to anti aliasing&lt;/p&gt;
&lt;p&gt;Tips : not suit bloom things&lt;/p&gt;
&lt;p&gt;Avoid these halftones look like print on the camera instead of on the models(we dont want this )&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/worldNormal.png"
width="1280"
height="662"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/worldNormal_hu_fac4f998420d4a4c.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/worldNormal_hu_57a4fab403f70709.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="464px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/worldUV.png"
width="1280"
height="424"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/worldUV_hu_3d2677f5a69d0cb7.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/worldUV_hu_c735ecb8f8ea059c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="301"
data-flex-basis="724px"
&gt;&lt;/p&gt;
&lt;p&gt;Adapt to luminace strength, larger the luminace bigger&lt;/p&gt;
&lt;h1 id="toon-lights"&gt;Toon lights
&lt;/h1&gt;&lt;p&gt;In base pass , change lighting in forward render.&lt;/p&gt;
&lt;p&gt;Mostly use decal lights instead of forward lights&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/toonlights.png"
width="1280"
height="667"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/toonlights_hu_f95ac74667f8c149.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/toonlights_hu_bb2d912cc1add900.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="191"
data-flex-basis="460px"
&gt;&lt;/p&gt;
&lt;p&gt;Step gradiation lights&lt;/p&gt;
&lt;p&gt;Decal lights can use a decal volume to specifically assign which area needs to be lighted . Also, it will have a smaller area to lighting and better art control instead of forward lights because of the decal volume. Decal volume can be used to prevent light leaking .&lt;/p&gt;
&lt;p&gt;Character render is not influenced by environment lighting(decal lights and forward lights).&lt;/p&gt;
&lt;h1 id="shadows"&gt;Shadows
&lt;/h1&gt;&lt;h2 id="shadow-only-lights"&gt;Shadow-only lights
&lt;/h2&gt;&lt;p&gt;use shadow-only lights to player, character and environment.&lt;/p&gt;
&lt;p&gt;player and giant-boss&amp;rsquo;s shadow is seperated from environment cascaded shadows.&lt;/p&gt;
&lt;h2 id="enemy-shadows"&gt;Enemy shadows
&lt;/h2&gt;&lt;p&gt;enemy shadow use capsule shadows for high performance.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/enemyShadow.png"
width="432"
height="583"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/enemyShadow_hu_72b5418f86c8b917.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/enemyShadow_hu_2278b1d16a15e22.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="177px"
&gt;&lt;/p&gt;
&lt;p&gt;For little floating in the air enemy, use cpu raycast to decal shadows&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/decalShadow.png"
width="1280"
height="585"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/decalShadow_hu_966ea6600e6fc6d2.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/decalShadow_hu_a44302cba0803f06.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="218"
data-flex-basis="525px"
&gt;&lt;/p&gt;
&lt;h2 id="static-shadow-map"&gt;Static shadow map
&lt;/h2&gt;&lt;p&gt;è‰ºæœ¯å®¶æ‰‹åŠ¨æ”¾ç½®æ‘„åƒæœºç”Ÿæˆä¸€å¼ æ·±åº¦å›¾ï¼Œä½¿ç”¨volumeä»¥æ¸²æŸ“è¿™äº›æ·±åº¦å›¾å¯¹åº”çš„é˜´å½±ã€‚&lt;/p&gt;
&lt;p&gt;é¢„çƒ˜ç„™ç›¸æœºçš„æ·±åº¦å›¾ã€‚&lt;/p&gt;
&lt;p&gt;4x4çš„pcfæ¶ˆé™¤é”¯é½¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/staticShadow.png"
width="1280"
height="699"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/staticShadow_hu_45254efdc0285ec4.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/staticShadow_hu_5dd2f135f2e4abf6.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="183"
data-flex-basis="439px"
&gt;&lt;/p&gt;
&lt;h1 id="gi"&gt;GI
&lt;/h1&gt;&lt;p&gt;ue4 light mass çƒ˜ç„™æ—¶é—´å¤ªé•¿&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰ä¸€å¥—light volumetric light map ä»¥æé«˜çƒ˜ç„™é€Ÿåº¦å’Œå¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åŸå› ä¹‹ä¸€ï¼šå¯é€‰æ‹©éœ€è¦GIçƒ˜ç„™çš„éƒ¨åˆ†åŒºåŸŸ&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹äº†ue4 å°† å…‰ç…§æ¢é’ˆæŒ‰ç…§per actor å­˜å‚¨ è€Œä¸æ˜¯per level&lt;/p&gt;
&lt;h2 id="gi-workflow"&gt;GI workflow
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç”¨ä¸€ä¸ªworld volume lighting volumer actor é€‰æ‹©éœ€è¦çƒ˜ç„™GIçš„åŒºåŸŸ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼€å§‹çƒ˜ç„™ï¼Œç­‰å¾…1ï¼Œ2minsï¼ŒåŒºåŸŸå†…çš„GIçƒ˜ç„™å®Œæˆ&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/GIworkflow.png"
width="1280"
height="655"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/GIworkflow_hu_7ded80b007636a96.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/GIworkflow_hu_79d549b864f6a61b.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="195"
data-flex-basis="469px"
&gt;&lt;/p&gt;
&lt;h1 id="toon-face-shadow"&gt;Toon face shadow
&lt;/h1&gt;&lt;p&gt;Face shadow should &lt;strong&gt;always clean .&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Problems:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Model normal will lead to a messy shadow&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/face1.png"
width="1280"
height="652"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/face1_hu_49cab11d4461b84c.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/face1_hu_db61efd118f14509.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="471px"
&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Face motion will break shadow shape&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/face2.png"
width="1280"
height="658"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/face2_hu_1f883ea5dbcf89d5.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/face2_hu_c76328ec4215eeea.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="194"
data-flex-basis="466px"
&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;Artist cant solve 1 and 2 problems by adjusting model&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Solution&lt;/strong&gt; : mihoyo &amp;rsquo;s sdf face shadow (i can do it ,so i dont explain it )&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/faceSDF.png"
width="1280"
height="720"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/faceSDF_hu_51d26e1de31d0e63.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/faceSDF_hu_a8ec36663f797309.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/faceShadow.png"
width="1280"
height="715"
srcset="https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/faceShadow_hu_be71ed716adaebee.png 480w, https://foth0626.github.io/article/gdc-2024-hifirush-toonrendering-notes/faceShadow_hu_f7efb5df71ee2474.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="179"
data-flex-basis="429px"
&gt;&lt;/p&gt;</description></item><item><title>URP Shader æ¨¡æ¿</title><link>https://foth0626.github.io/article/urp-shader-template/</link><pubDate>Tue, 03 Jun 2025 15:49:54 +0800</pubDate><guid>https://foth0626.github.io/article/urp-shader-template/</guid><description>&lt;blockquote&gt;
&lt;p&gt;é¦–å…ˆé›¶å¸§èµ·æ‰‹
&lt;img src="https://foth0626.github.io/article/urp-shader-template/lowb_unity.jpg"
width="1438"
height="356"
srcset="https://foth0626.github.io/article/urp-shader-template/lowb_unity_hu_cc36d2568493413a.jpg 480w, https://foth0626.github.io/article/urp-shader-template/lowb_unity_hu_702b3cc5e2b5f8d5.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="403"
data-flex-basis="969px"
&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘å°±çº³é—·äº†ï¼Œunity6äº†ï¼Œurpå¤§ç‰ˆæœ¬å·éƒ½17äº†ï¼Œbyd å‚»é€¼unityå®˜æ–¹ï¼Œä½ ä»¬å¼•æ“å›¢é˜Ÿå…»çš„7kå·äººï¼Œéƒ½ä»–å¦ˆåƒå±çš„å§ï¼Œåˆ°ç°åœ¨è¿ä¸ªURPæ¨¡æ¿éƒ½æ²¡æœ‰ï¼Œæ¯æ¬¡åˆ›shaderé»˜è®¤éƒ½æ˜¯cgè¯­è¨€ğŸ˜…ğŸ˜…ï¼Œæˆ‘çœŸä»–å¦ˆæœäº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç„¶åæ˜¯æ¨¡æ¿ï¼Œæºè‡ªå…»ä¹å¤šå¤§ä½¬ï¼Œæˆ‘ä¹‹ååˆæ ¹æ®è‡ªå·±çš„éœ€æ±‚é­”æ”¹è¿‡ï¼Œåç»­ä¹Ÿå¯èƒ½ä¼šç»§ç»­é­”æ”¹ã€‚&lt;br&gt;
Githubä»“åº“åœ°å€ï¼š&lt;a class="link" href="https://github.com/FOTH0626/FothUrpShaderTemplate" target="_blank" rel="noopener"
&gt;FothUrpShaderTemplate&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt; 10
&lt;/span&gt;&lt;span class="lnt"&gt; 11
&lt;/span&gt;&lt;span class="lnt"&gt; 12
&lt;/span&gt;&lt;span class="lnt"&gt; 13
&lt;/span&gt;&lt;span class="lnt"&gt; 14
&lt;/span&gt;&lt;span class="lnt"&gt; 15
&lt;/span&gt;&lt;span class="lnt"&gt; 16
&lt;/span&gt;&lt;span class="lnt"&gt; 17
&lt;/span&gt;&lt;span class="lnt"&gt; 18
&lt;/span&gt;&lt;span class="lnt"&gt; 19
&lt;/span&gt;&lt;span class="lnt"&gt; 20
&lt;/span&gt;&lt;span class="lnt"&gt; 21
&lt;/span&gt;&lt;span class="lnt"&gt; 22
&lt;/span&gt;&lt;span class="lnt"&gt; 23
&lt;/span&gt;&lt;span class="lnt"&gt; 24
&lt;/span&gt;&lt;span class="lnt"&gt; 25
&lt;/span&gt;&lt;span class="lnt"&gt; 26
&lt;/span&gt;&lt;span class="lnt"&gt; 27
&lt;/span&gt;&lt;span class="lnt"&gt; 28
&lt;/span&gt;&lt;span class="lnt"&gt; 29
&lt;/span&gt;&lt;span class="lnt"&gt; 30
&lt;/span&gt;&lt;span class="lnt"&gt; 31
&lt;/span&gt;&lt;span class="lnt"&gt; 32
&lt;/span&gt;&lt;span class="lnt"&gt; 33
&lt;/span&gt;&lt;span class="lnt"&gt; 34
&lt;/span&gt;&lt;span class="lnt"&gt; 35
&lt;/span&gt;&lt;span class="lnt"&gt; 36
&lt;/span&gt;&lt;span class="lnt"&gt; 37
&lt;/span&gt;&lt;span class="lnt"&gt; 38
&lt;/span&gt;&lt;span class="lnt"&gt; 39
&lt;/span&gt;&lt;span class="lnt"&gt; 40
&lt;/span&gt;&lt;span class="lnt"&gt; 41
&lt;/span&gt;&lt;span class="lnt"&gt; 42
&lt;/span&gt;&lt;span class="lnt"&gt; 43
&lt;/span&gt;&lt;span class="lnt"&gt; 44
&lt;/span&gt;&lt;span class="lnt"&gt; 45
&lt;/span&gt;&lt;span class="lnt"&gt; 46
&lt;/span&gt;&lt;span class="lnt"&gt; 47
&lt;/span&gt;&lt;span class="lnt"&gt; 48
&lt;/span&gt;&lt;span class="lnt"&gt; 49
&lt;/span&gt;&lt;span class="lnt"&gt; 50
&lt;/span&gt;&lt;span class="lnt"&gt; 51
&lt;/span&gt;&lt;span class="lnt"&gt; 52
&lt;/span&gt;&lt;span class="lnt"&gt; 53
&lt;/span&gt;&lt;span class="lnt"&gt; 54
&lt;/span&gt;&lt;span class="lnt"&gt; 55
&lt;/span&gt;&lt;span class="lnt"&gt; 56
&lt;/span&gt;&lt;span class="lnt"&gt; 57
&lt;/span&gt;&lt;span class="lnt"&gt; 58
&lt;/span&gt;&lt;span class="lnt"&gt; 59
&lt;/span&gt;&lt;span class="lnt"&gt; 60
&lt;/span&gt;&lt;span class="lnt"&gt; 61
&lt;/span&gt;&lt;span class="lnt"&gt; 62
&lt;/span&gt;&lt;span class="lnt"&gt; 63
&lt;/span&gt;&lt;span class="lnt"&gt; 64
&lt;/span&gt;&lt;span class="lnt"&gt; 65
&lt;/span&gt;&lt;span class="lnt"&gt; 66
&lt;/span&gt;&lt;span class="lnt"&gt; 67
&lt;/span&gt;&lt;span class="lnt"&gt; 68
&lt;/span&gt;&lt;span class="lnt"&gt; 69
&lt;/span&gt;&lt;span class="lnt"&gt; 70
&lt;/span&gt;&lt;span class="lnt"&gt; 71
&lt;/span&gt;&lt;span class="lnt"&gt; 72
&lt;/span&gt;&lt;span class="lnt"&gt; 73
&lt;/span&gt;&lt;span class="lnt"&gt; 74
&lt;/span&gt;&lt;span class="lnt"&gt; 75
&lt;/span&gt;&lt;span class="lnt"&gt; 76
&lt;/span&gt;&lt;span class="lnt"&gt; 77
&lt;/span&gt;&lt;span class="lnt"&gt; 78
&lt;/span&gt;&lt;span class="lnt"&gt; 79
&lt;/span&gt;&lt;span class="lnt"&gt; 80
&lt;/span&gt;&lt;span class="lnt"&gt; 81
&lt;/span&gt;&lt;span class="lnt"&gt; 82
&lt;/span&gt;&lt;span class="lnt"&gt; 83
&lt;/span&gt;&lt;span class="lnt"&gt; 84
&lt;/span&gt;&lt;span class="lnt"&gt; 85
&lt;/span&gt;&lt;span class="lnt"&gt; 86
&lt;/span&gt;&lt;span class="lnt"&gt; 87
&lt;/span&gt;&lt;span class="lnt"&gt; 88
&lt;/span&gt;&lt;span class="lnt"&gt; 89
&lt;/span&gt;&lt;span class="lnt"&gt; 90
&lt;/span&gt;&lt;span class="lnt"&gt; 91
&lt;/span&gt;&lt;span class="lnt"&gt; 92
&lt;/span&gt;&lt;span class="lnt"&gt; 93
&lt;/span&gt;&lt;span class="lnt"&gt; 94
&lt;/span&gt;&lt;span class="lnt"&gt; 95
&lt;/span&gt;&lt;span class="lnt"&gt; 96
&lt;/span&gt;&lt;span class="lnt"&gt; 97
&lt;/span&gt;&lt;span class="lnt"&gt; 98
&lt;/span&gt;&lt;span class="lnt"&gt; 99
&lt;/span&gt;&lt;span class="lnt"&gt;100
&lt;/span&gt;&lt;span class="lnt"&gt;101
&lt;/span&gt;&lt;span class="lnt"&gt;102
&lt;/span&gt;&lt;span class="lnt"&gt;103
&lt;/span&gt;&lt;span class="lnt"&gt;104
&lt;/span&gt;&lt;span class="lnt"&gt;105
&lt;/span&gt;&lt;span class="lnt"&gt;106
&lt;/span&gt;&lt;span class="lnt"&gt;107
&lt;/span&gt;&lt;span class="lnt"&gt;108
&lt;/span&gt;&lt;span class="lnt"&gt;109
&lt;/span&gt;&lt;span class="lnt"&gt;110
&lt;/span&gt;&lt;span class="lnt"&gt;111
&lt;/span&gt;&lt;span class="lnt"&gt;112
&lt;/span&gt;&lt;span class="lnt"&gt;113
&lt;/span&gt;&lt;span class="lnt"&gt;114
&lt;/span&gt;&lt;span class="lnt"&gt;115
&lt;/span&gt;&lt;span class="lnt"&gt;116
&lt;/span&gt;&lt;span class="lnt"&gt;117
&lt;/span&gt;&lt;span class="lnt"&gt;118
&lt;/span&gt;&lt;span class="lnt"&gt;119
&lt;/span&gt;&lt;span class="lnt"&gt;120
&lt;/span&gt;&lt;span class="lnt"&gt;121
&lt;/span&gt;&lt;span class="lnt"&gt;122
&lt;/span&gt;&lt;span class="lnt"&gt;123
&lt;/span&gt;&lt;span class="lnt"&gt;124
&lt;/span&gt;&lt;span class="lnt"&gt;125
&lt;/span&gt;&lt;span class="lnt"&gt;126
&lt;/span&gt;&lt;span class="lnt"&gt;127
&lt;/span&gt;&lt;span class="lnt"&gt;128
&lt;/span&gt;&lt;span class="lnt"&gt;129
&lt;/span&gt;&lt;span class="lnt"&gt;130
&lt;/span&gt;&lt;span class="lnt"&gt;131
&lt;/span&gt;&lt;span class="lnt"&gt;132
&lt;/span&gt;&lt;span class="lnt"&gt;133
&lt;/span&gt;&lt;span class="lnt"&gt;134
&lt;/span&gt;&lt;span class="lnt"&gt;135
&lt;/span&gt;&lt;span class="lnt"&gt;136
&lt;/span&gt;&lt;span class="lnt"&gt;137
&lt;/span&gt;&lt;span class="lnt"&gt;138
&lt;/span&gt;&lt;span class="lnt"&gt;139
&lt;/span&gt;&lt;span class="lnt"&gt;140
&lt;/span&gt;&lt;span class="lnt"&gt;141
&lt;/span&gt;&lt;span class="lnt"&gt;142
&lt;/span&gt;&lt;span class="lnt"&gt;143
&lt;/span&gt;&lt;span class="lnt"&gt;144
&lt;/span&gt;&lt;span class="lnt"&gt;145
&lt;/span&gt;&lt;span class="lnt"&gt;146
&lt;/span&gt;&lt;span class="lnt"&gt;147
&lt;/span&gt;&lt;span class="lnt"&gt;148
&lt;/span&gt;&lt;span class="lnt"&gt;149
&lt;/span&gt;&lt;span class="lnt"&gt;150
&lt;/span&gt;&lt;span class="lnt"&gt;151
&lt;/span&gt;&lt;span class="lnt"&gt;152
&lt;/span&gt;&lt;span class="lnt"&gt;153
&lt;/span&gt;&lt;span class="lnt"&gt;154
&lt;/span&gt;&lt;span class="lnt"&gt;155
&lt;/span&gt;&lt;span class="lnt"&gt;156
&lt;/span&gt;&lt;span class="lnt"&gt;157
&lt;/span&gt;&lt;span class="lnt"&gt;158
&lt;/span&gt;&lt;span class="lnt"&gt;159
&lt;/span&gt;&lt;span class="lnt"&gt;160
&lt;/span&gt;&lt;span class="lnt"&gt;161
&lt;/span&gt;&lt;span class="lnt"&gt;162
&lt;/span&gt;&lt;span class="lnt"&gt;163
&lt;/span&gt;&lt;span class="lnt"&gt;164
&lt;/span&gt;&lt;span class="lnt"&gt;165
&lt;/span&gt;&lt;span class="lnt"&gt;166
&lt;/span&gt;&lt;span class="lnt"&gt;167
&lt;/span&gt;&lt;span class="lnt"&gt;168
&lt;/span&gt;&lt;span class="lnt"&gt;169
&lt;/span&gt;&lt;span class="lnt"&gt;170
&lt;/span&gt;&lt;span class="lnt"&gt;171
&lt;/span&gt;&lt;span class="lnt"&gt;172
&lt;/span&gt;&lt;span class="lnt"&gt;173
&lt;/span&gt;&lt;span class="lnt"&gt;174
&lt;/span&gt;&lt;span class="lnt"&gt;175
&lt;/span&gt;&lt;span class="lnt"&gt;176
&lt;/span&gt;&lt;span class="lnt"&gt;177
&lt;/span&gt;&lt;span class="lnt"&gt;178
&lt;/span&gt;&lt;span class="lnt"&gt;179
&lt;/span&gt;&lt;span class="lnt"&gt;180
&lt;/span&gt;&lt;span class="lnt"&gt;181
&lt;/span&gt;&lt;span class="lnt"&gt;182
&lt;/span&gt;&lt;span class="lnt"&gt;183
&lt;/span&gt;&lt;span class="lnt"&gt;184
&lt;/span&gt;&lt;span class="lnt"&gt;185
&lt;/span&gt;&lt;span class="lnt"&gt;186
&lt;/span&gt;&lt;span class="lnt"&gt;187
&lt;/span&gt;&lt;span class="lnt"&gt;188
&lt;/span&gt;&lt;span class="lnt"&gt;189
&lt;/span&gt;&lt;span class="lnt"&gt;190
&lt;/span&gt;&lt;span class="lnt"&gt;191
&lt;/span&gt;&lt;span class="lnt"&gt;192
&lt;/span&gt;&lt;span class="lnt"&gt;193
&lt;/span&gt;&lt;span class="lnt"&gt;194
&lt;/span&gt;&lt;span class="lnt"&gt;195
&lt;/span&gt;&lt;span class="lnt"&gt;196
&lt;/span&gt;&lt;span class="lnt"&gt;197
&lt;/span&gt;&lt;span class="lnt"&gt;198
&lt;/span&gt;&lt;span class="lnt"&gt;199
&lt;/span&gt;&lt;span class="lnt"&gt;200
&lt;/span&gt;&lt;span class="lnt"&gt;201
&lt;/span&gt;&lt;span class="lnt"&gt;202
&lt;/span&gt;&lt;span class="lnt"&gt;203
&lt;/span&gt;&lt;span class="lnt"&gt;204
&lt;/span&gt;&lt;span class="lnt"&gt;205
&lt;/span&gt;&lt;span class="lnt"&gt;206
&lt;/span&gt;&lt;span class="lnt"&gt;207
&lt;/span&gt;&lt;span class="lnt"&gt;208
&lt;/span&gt;&lt;span class="lnt"&gt;209
&lt;/span&gt;&lt;span class="lnt"&gt;210
&lt;/span&gt;&lt;span class="lnt"&gt;211
&lt;/span&gt;&lt;span class="lnt"&gt;212
&lt;/span&gt;&lt;span class="lnt"&gt;213
&lt;/span&gt;&lt;span class="lnt"&gt;214
&lt;/span&gt;&lt;span class="lnt"&gt;215
&lt;/span&gt;&lt;span class="lnt"&gt;216
&lt;/span&gt;&lt;span class="lnt"&gt;217
&lt;/span&gt;&lt;span class="lnt"&gt;218
&lt;/span&gt;&lt;span class="lnt"&gt;219
&lt;/span&gt;&lt;span class="lnt"&gt;220
&lt;/span&gt;&lt;span class="lnt"&gt;221
&lt;/span&gt;&lt;span class="lnt"&gt;222
&lt;/span&gt;&lt;span class="lnt"&gt;223
&lt;/span&gt;&lt;span class="lnt"&gt;224
&lt;/span&gt;&lt;span class="lnt"&gt;225
&lt;/span&gt;&lt;span class="lnt"&gt;226
&lt;/span&gt;&lt;span class="lnt"&gt;227
&lt;/span&gt;&lt;span class="lnt"&gt;228
&lt;/span&gt;&lt;span class="lnt"&gt;229
&lt;/span&gt;&lt;span class="lnt"&gt;230
&lt;/span&gt;&lt;span class="lnt"&gt;231
&lt;/span&gt;&lt;span class="lnt"&gt;232
&lt;/span&gt;&lt;span class="lnt"&gt;233
&lt;/span&gt;&lt;span class="lnt"&gt;234
&lt;/span&gt;&lt;span class="lnt"&gt;235
&lt;/span&gt;&lt;span class="lnt"&gt;236
&lt;/span&gt;&lt;span class="lnt"&gt;237
&lt;/span&gt;&lt;span class="lnt"&gt;238
&lt;/span&gt;&lt;span class="lnt"&gt;239
&lt;/span&gt;&lt;span class="lnt"&gt;240
&lt;/span&gt;&lt;span class="lnt"&gt;241
&lt;/span&gt;&lt;span class="lnt"&gt;242
&lt;/span&gt;&lt;span class="lnt"&gt;243
&lt;/span&gt;&lt;span class="lnt"&gt;244
&lt;/span&gt;&lt;span class="lnt"&gt;245
&lt;/span&gt;&lt;span class="lnt"&gt;246
&lt;/span&gt;&lt;span class="lnt"&gt;247
&lt;/span&gt;&lt;span class="lnt"&gt;248
&lt;/span&gt;&lt;span class="lnt"&gt;249
&lt;/span&gt;&lt;span class="lnt"&gt;250
&lt;/span&gt;&lt;span class="lnt"&gt;251
&lt;/span&gt;&lt;span class="lnt"&gt;252
&lt;/span&gt;&lt;span class="lnt"&gt;253
&lt;/span&gt;&lt;span class="lnt"&gt;254
&lt;/span&gt;&lt;span class="lnt"&gt;255
&lt;/span&gt;&lt;span class="lnt"&gt;256
&lt;/span&gt;&lt;span class="lnt"&gt;257
&lt;/span&gt;&lt;span class="lnt"&gt;258
&lt;/span&gt;&lt;span class="lnt"&gt;259
&lt;/span&gt;&lt;span class="lnt"&gt;260
&lt;/span&gt;&lt;span class="lnt"&gt;261
&lt;/span&gt;&lt;span class="lnt"&gt;262
&lt;/span&gt;&lt;span class="lnt"&gt;263
&lt;/span&gt;&lt;span class="lnt"&gt;264
&lt;/span&gt;&lt;span class="lnt"&gt;265
&lt;/span&gt;&lt;span class="lnt"&gt;266
&lt;/span&gt;&lt;span class="lnt"&gt;267
&lt;/span&gt;&lt;span class="lnt"&gt;268
&lt;/span&gt;&lt;span class="lnt"&gt;269
&lt;/span&gt;&lt;span class="lnt"&gt;270
&lt;/span&gt;&lt;span class="lnt"&gt;271
&lt;/span&gt;&lt;span class="lnt"&gt;272
&lt;/span&gt;&lt;span class="lnt"&gt;273
&lt;/span&gt;&lt;span class="lnt"&gt;274
&lt;/span&gt;&lt;span class="lnt"&gt;275
&lt;/span&gt;&lt;span class="lnt"&gt;276
&lt;/span&gt;&lt;span class="lnt"&gt;277
&lt;/span&gt;&lt;span class="lnt"&gt;278
&lt;/span&gt;&lt;span class="lnt"&gt;279
&lt;/span&gt;&lt;span class="lnt"&gt;280
&lt;/span&gt;&lt;span class="lnt"&gt;281
&lt;/span&gt;&lt;span class="lnt"&gt;282
&lt;/span&gt;&lt;span class="lnt"&gt;283
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-hlsl" data-lang="hlsl"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Shader&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Foth/Template&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Properties&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Main&lt;/span&gt; &lt;span class="n"&gt;Maps&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;_Color&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Color&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NoScaleOffset&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;_MainTex&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Texture&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;white&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NoScaleOffset&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;_OtherDataTex&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Other Data Tex&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;white&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NoScaleOffset&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;_OtherDataTex2&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Other Data Tex 2&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;white&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NoScaleOffset&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;_OtherDataTex3&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Other Data Tex 3&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;white&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;_AlphaClip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Alpha Clipping&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.333&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Option&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityEngine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Rendering&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CullMode&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="n"&gt;_Cull&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Cull (Default back)&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Off&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;On&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="n"&gt;_ZWrite&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;ZWrite (Default On)&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityEngine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Rendering&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BlendMode&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="n"&gt;_SrcBlendMode&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Src blend mode (Default One)&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityEngine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Rendering&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BlendMode&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="n"&gt;_DstBlendMode&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Dst blend mode (Default Zero)&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityEngine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Rendering&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BlendOp&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="n"&gt;_BlendOp&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Blend operation (Default Add)&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;_StencilRef&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stencil reference&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityEngine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Rendering&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CompareFunction&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="n"&gt;_StencilComp&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stencil compare function&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityEngine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Rendering&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;StencilOp&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="n"&gt;_StencilPassOp&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stencil pass operation&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityEngine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Rendering&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;StencilOp&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="n"&gt;_StencilFailOp&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stencil fail operation&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Enum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityEngine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Rendering&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;StencilOp&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="n"&gt;_StencilZFailOp&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stencil Z fail operation&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Header(SRP Default)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Toggle(_SRP_DEFAULT_PASS)]_SRPDefaultPass (&amp;#34;SRP Default Pass&amp;#34;,Int)=0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Enum(UnityEngine.Rendering.BlendMode)]_SRPSrcBlendMode (&amp;#34;SRP src blend mode (Default One)&amp;#34;,Float)=1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Enum(UnityEngine.Rendering.BlendMode)]_SRPDstBlendMode (&amp;#34;SRP dst blend mode (Default Zero)&amp;#34;,Float)=0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Enum(UnityEngine.Rendering.BlendOp)]_SRPBlendOp (&amp;#34;SRP blend operation (Default Add)&amp;#34;,Float) =0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//_SRPStencilRef (&amp;#34;SRP stencil reference&amp;#34;,Int)=0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Enum(UnityEngine.Rendering.CompareFunction)]_SRPStencilComp (&amp;#34;SRP stencil compare function&amp;#34;,Int)=0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Enum(UnityEngine.Rendering.StencilOp)]_SRPStencilPassOp (&amp;#34;SRP stencil pass operation&amp;#34;,Int)=0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Enum(UnityEngine.Rendering.StencilOp)]_SRPStencilFailOp (&amp;#34;SRP stencil fail operation&amp;#34;,Int)=0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//[Enum(UnityEngine.Rendering.StencilOp)]_SRPStencilZFailOp (&amp;#34;SRP stencil Z fail operation&amp;#34;,Int)=0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;SubShader&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Tags&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;RenderPipeline&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;UniversalPipeline&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&amp;#34;RenderType&amp;#34; = &amp;#34;Background&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;RenderType&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Opaque&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// &amp;#34;RenderType&amp;#34;=&amp;#34;Transparent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// &amp;#34;RenderType&amp;#34;=&amp;#34;TransparentCutout&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// &amp;#34;RenderType&amp;#34;=&amp;#34;Overlay&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&amp;#34;Queue&amp;#34; = &amp;#34;Background&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;Queue&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Geometry&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&amp;#34;Queue&amp;#34; = &amp;#34;AlphaTest&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&amp;#34;Queue&amp;#34; = &amp;#34;Transparent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&amp;#34;Queue&amp;#34; = &amp;#34;TransparentCutout&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&amp;#34;Queue&amp;#34; = &amp;#34;Overlay&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//&amp;#34;IgnoreProjector&amp;#34; = &amp;#34;True&amp;#34; &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//LOD 100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;HLSLINCLUDE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;include&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;include&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Packages/com.unity.render-pipelines.universal/ShaderLibrary/Lighting.hlsl&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;CBUFFER_START&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UnityPerMaterial&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;_Color&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;Texture2D&lt;/span&gt; &lt;span class="n"&gt;_MainTex&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;Texture2D&lt;/span&gt; &lt;span class="n"&gt;_OtherDataTex&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;Texture2D&lt;/span&gt; &lt;span class="n"&gt;_OtherDataTex2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;Texture2D&lt;/span&gt; &lt;span class="n"&gt;_OtherDataTex3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;_AlphaClip&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;CBUFFER_END&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;UniversalAttributes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;positionOS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;POSITION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;tangentOS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;TANGENT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;normalOS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;NORMAL&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float2&lt;/span&gt; &lt;span class="n"&gt;texcoord&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;TEXCOORD0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;UniversalVaryings&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float2&lt;/span&gt; &lt;span class="n"&gt;uv&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;TEXCOORD0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;positionWSAndFogFactor&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;TEXCOORD1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;normalWS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;TEXCOORD2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;tangentWS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;TEXCOORD3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;viewDirectionWS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;TEXCOORD4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;positionCS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;SV_POSITION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;UniversalVaryings&lt;/span&gt; &lt;span class="n"&gt;MainVS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UniversalAttributes&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;VertexPositionInputs&lt;/span&gt; &lt;span class="n"&gt;positionInputs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetVertexPositionInputs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionOS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xyz&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;VertexNormalInputs&lt;/span&gt; &lt;span class="n"&gt;normalInputs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetVertexNormalInputs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normalOS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tangentOS&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;UniversalVaryings&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionCS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;positionInputs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionCS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionWSAndFogFactor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;float4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;positionInputs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionWS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ComputeFogFactor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;positionInputs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionCS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normalWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;normalInputs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normalWS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tangentWS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xyz&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;normalInputs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tangentWS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tangentWS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tangentOS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;GetOddNegativeScale&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;viewDirectionWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;unity_OrthoParams&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mo"&gt;0&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="n"&gt;GetCameraPositionWS&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;positionInputs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionWS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;GetWorldToViewMatrix&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;xyz&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;uv&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;texcoord&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;MainFS&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UniversalVaryings&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nd"&gt;SV_Target&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;normalWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;normalize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normalWS&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;positionWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionWSAndFogFactor&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xyz&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;viewDirectionWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;normalize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;viewDirectionWS&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;tangentWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;normalize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tangentWS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xyz&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;bitangentWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;cross&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;normalWS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;tangentWS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tangentWS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float2&lt;/span&gt; &lt;span class="n"&gt;uv&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;uv&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kt"&gt;float4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ENDHLSL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//Shadow Map Pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;ShadowCaster&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Tags&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;LightMode&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;ShadowCaster&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ZWrite&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_ZWrite&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ZTest&lt;/span&gt; &lt;span class="n"&gt;LEqual&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ColorMask&lt;/span&gt; &lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Cull&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_Cull&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;HLSLPROGRAM&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;multi_compile_instancing&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;multi_compile&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="n"&gt;DOTS_INSTANCING_ON&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;multi_compile_vertex&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="n"&gt;_CASTING_PUNCTUAL_LIGHT_SHADOW&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;vertex&lt;/span&gt; &lt;span class="n"&gt;vert&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;fragment&lt;/span&gt; &lt;span class="n"&gt;frag&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;_LightDirection&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;_LightPosition&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;Attributes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;positionOS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;POSITION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;normalOS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;NORMAL&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float2&lt;/span&gt; &lt;span class="n"&gt;texcoord&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;TEXCOORD0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;Varyings&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float2&lt;/span&gt; &lt;span class="n"&gt;uv&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;TEXCOORD0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;positionCS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;SV_POSITION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;GetShadowPositionHClip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Attributes&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;positionWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TransformObjectToWorld&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionOS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xyz&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;normalWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TransformObjectToWorldNormal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normalOS&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;CASTING_PUNCTUAL_LIGHT_SHADOW&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;lightDirectionWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;normalize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_LightPosition&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;positionWS&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;lightDirectionWS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_LightDirection&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;endif&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;positionCS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TransformWorldToHClip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ApplyShadowBias&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;positionWS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;normalWS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;lightDirectionWS&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;UNITY_REVERSED_Z&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;positionCS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;positionCS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;UNITY_NEAR_CLIP_VALUE&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;positionCS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;positionCS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;UNITY_NEAR_CLIP_VALUE&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;endif&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;positionCS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Varyings&lt;/span&gt; &lt;span class="n"&gt;vert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Attributes&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Varyings&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;uv&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;texcoord&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionCS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetShadowPositionHClip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;frag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Varyings&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;SV_TARGET&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;clip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;_AlphaClip&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mo"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ENDHLSL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//Zbuffer(Depth) Pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Name&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;DepthOnly&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Tags&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;LightMode&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;DepthOnly&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ZWrite&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_ZWrite&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ColorMask&lt;/span&gt; &lt;span class="mo"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Cull&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_Cull&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;HLSLPROGRAM&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;multi_compile_instancing&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;multi_compile&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="n"&gt;DOTS_INSTANCING_ON&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;vertex&lt;/span&gt; &lt;span class="n"&gt;vert&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;fragment&lt;/span&gt; &lt;span class="n"&gt;frag&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;Attributes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;positionOS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;POSITION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;Varyings&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float4&lt;/span&gt; &lt;span class="n"&gt;positionCS&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;SV_POSITION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Varyings&lt;/span&gt; &lt;span class="n"&gt;vert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Attributes&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Varyings&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Varyings&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mo"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionCS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TransformObjectToHClip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;positionOS&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xyz&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;half4&lt;/span&gt; &lt;span class="n"&gt;frag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Varyings&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;SV_TARGET&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;clip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;_AlphaClip&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mo"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ENDHLSL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//Main Pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Name&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;UniversalForward&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Tags&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;LightMode&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;UniversalForward&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Cull&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_Cull&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Blend&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_SrcBlendMode&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_DstBlendMode&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;BlendOp&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_BlendOp&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ZWrite&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_ZWrite&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Stencil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Ref&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_StencilRef&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Comp&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_StencilComp&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Pass&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_StencilPassOp&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Fail&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_StencilFailOp&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ZFail&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_StencilZFailOp&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;HLSLPROGRAM&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;vertex&lt;/span&gt; &lt;span class="n"&gt;MainVS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;pragma&lt;/span&gt; &lt;span class="n"&gt;fragment&lt;/span&gt; &lt;span class="n"&gt;MainFS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ENDHLSL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description></item><item><title>è¿ªå£«å°¼åŸåˆ™çš„BRDF</title><link>https://foth0626.github.io/article/disney-pbr/</link><pubDate>Tue, 27 May 2025 22:54:21 +0800</pubDate><guid>https://foth0626.github.io/article/disney-pbr/</guid><description>&lt;img src="https://foth0626.github.io/article/disney-pbr/aglina.png" alt="Featured image of post è¿ªå£«å°¼åŸåˆ™çš„BRDF" /&gt;&lt;h1 id="å‰è¨€"&gt;å‰è¨€
&lt;/h1&gt;&lt;p&gt;PBRåœ¨12å¹´æå‡ºäº†Disney Principled BRDFï¼Œä»¥ç®€æ´ä¸”ä¸€è‡´çš„å·¥ä½œæµå’Œå¼ºå¤§çš„è¡¨ç°æ•ˆæœè¢«å„å¤§å¼•æ“å’ŒDCCå¿«é€Ÿæ”¯æŒï¼Œå¹¶æˆä¸ºäº†ä¸šç•Œå…¬è®¤çš„æ ‡å‡†ã€‚æœ¬æ–‡å°†ä¾æ®Disney å‘è¡¨çš„è®ºæ–‡ &lt;a class="link" href="https://disneyanimation.com/publications/physically-based-shading-at-disney/" target="_blank" rel="noopener"
&gt;Physically-Based Shading at Disney&lt;/a&gt; ï¼Œä½œDisney Principled BRDFçš„ä¸€ä¸ªç®€è¦ç¬”è®°å¹¶ä½¿ç”¨HLSLè¯­è¨€å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬äººæ‰ç–å­¦æµ…ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ•¬è¯·æŒ‡æ­£ï¼Œæœ¬äººä¸èƒœæ„Ÿæ¿€ã€‚&lt;/p&gt;
&lt;h1 id="disneybrdf-çš„æ¥æº"&gt;DisneyBRDF çš„æ¥æº
&lt;/h1&gt;&lt;p&gt;Disney BRDF ä½¿ç”¨çš„æ˜¯ å¾®è¡¨é¢æ¨¡å‹ï¼Œå³&lt;/p&gt;
$$
f(l,v) = diffuse + \frac{D(\theta_h)F(\theta_d)G(\theta_l,\theta_v)}{4 \cos\theta_l\cos\theta_v}
$$&lt;p&gt;å…¶ä¸­ï¼ŒdiffuseæœªçŸ¥ï¼Œé€šå¸¸ç”¨ lambert æ¨¡å‹è¡¨è¿°ï¼Œè€Œé«˜å…‰é¡¹åˆ™åŒ…å« $D$,$F$,$G$ ä¸‰é¡¹ï¼Œåˆ†åˆ«è¡¨ç¤ºæ³•çº¿åˆ†å¸ƒå‡½æ•°ï¼Œè²æ¶…å°”åå°„ç³»æ•°ï¼Œå‡ ä½•é®è”½å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å…³äº $h$ ï¼Œå³åŠè§’å‘é‡ï¼Œè™½ç„¶åœ¨è¿ç®—ä¸­ï¼Œå®ƒä»…ä»…æ˜¯ $lightDir$, $viewDir$ ä¹‹å’Œçš„å½’ä¸€åŒ–å‘é‡ï¼ˆå³$\frac{l + v}{ |l + v| }$ï¼‰ã€‚ä½†å®ƒæœ‰ç€æ›´æ·±åˆ»çš„å«ä¹‰ï¼šå¦‚æœç»™å®šå…‰çº¿æ–¹å‘ $l$ å’Œè§†çº¿æ–¹å‘ $v$ èƒ½å¤Ÿå‘ç”Ÿé•œé¢åå°„ï¼Œè¯´æ˜å­˜åœ¨å¾®è¡¨é¢ï¼Œä¸”è¿™äº›å¾®è¡¨é¢çš„æ³•çº¿ä¸åŠè§’å‘é‡ $h$ çš„æ–¹å‘ç›¸åŒã€‚æ‰€ä»¥å¯¹äº $D$ é¡¹ï¼Œæˆ‘ä»¬ä½¿ç”¨åŠè§’å‘é‡è€Œä¸æ˜¯ pixel çš„ normalã€‚&lt;/p&gt;
&lt;p&gt;å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒDisney æŒ‡å‡ºï¼š å¯¹äºæœªæ˜ç¡®é‡‡ç”¨å¾®è¡¨é¢æ¨¡å‹çš„PBRï¼Œä»å¯ä»¥è§£è¯»ä¸ºå¾®è¡¨é¢æ¨¡å‹ï¼Œåªè¦åŒ…å« $D$ ï¼Œ$F$ é¡¹ä»¥åŠå¯ä»¥è¢«çœ‹ä½œ $G$ é¡¹çš„æŸç§å› å­ã€‚å¾®è¡¨é¢æ¨¡å‹ä¸åˆ«çš„æ¨¡å‹çš„æœ€å¤§åŒºåˆ«æ˜¯æ˜¯å¦æ˜¾å¼åœ°åŒ…å« $\frac{1}{4 cos\theta_l cos\theta_v}$ ã€‚å¯¹äºæœªåŒ…å«è¯¥å› å­çš„æ¨¡å‹ï¼Œå¯é€šè¿‡æå–Då’ŒFå› å­åï¼Œå°†æ¨¡å‹ä¹˜ä»¥Â $4cos\theta_lcos\theta_v$Â æ¥æ¨å¯¼å…¶éšå«çš„é˜´å½±å› å­ã€‚&lt;/p&gt;
&lt;p&gt;Disneyä½¿ç”¨äº† &amp;ldquo;MERL 100&amp;rdquo; æ•°æ®åº“è®°å½•çš„æè´¨æ•°æ®å’ŒDisneyBRDFè¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®ä¿è‡ªå·±çš„æè´¨æ˜¯çœŸå®å¯ä¿¡çš„ã€‚&amp;ldquo;MERL 100&amp;quot;è®°å½•äº†100ä¸ªå„å‘åŒæ€§çš„æè´¨ï¼Œè¯¦ç»†è®°å½•äº†ä»–ä»¬çš„æ•°æ®ã€‚Disney å¯¹äºMERL100æ•°æ®åº“çš„è§‚å¯Ÿæˆ‘ä»¬ä¸æï¼Œå¯ä»¥å‚è€ƒæ¯›æ˜Ÿäº‘å¤§ç¥çš„æ–‡ç« &lt;a class="link" href="https://zhuanlan.zhihu.com/p/60977923" target="_blank" rel="noopener"
&gt;ã€åŸºäºç‰©ç†çš„æ¸²æŸ“ï¼ˆPBRï¼‰ç™½çš®ä¹¦ã€‘ï¼ˆä¸‰ï¼‰è¿ªå£«å°¼åŸåˆ™çš„BRDFä¸BSDFç›¸å…³æ€»ç»“&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h1 id="disney-principled-brdf-è§£æä¸å®ç°"&gt;Disney â€œprincipledâ€ BRDF è§£æä¸å®ç°
&lt;/h1&gt;&lt;h2 id="diffuse"&gt;diffuse
&lt;/h2&gt;&lt;p&gt;diffuseæ˜¯æ¬¡è¡¨é¢æ•£å°„çš„ä¸€ä¸ªæŠ½è±¡/ç®€åŒ–ï¼Œæ‰€ä»¥å¾ˆå¤šæ¨¡å‹ä¼šåŠ ä¸Šè²æ¶…å°”é¡¹ä½¿å…¶æ›´åŠ ç‰©ç†ï¼Œdisneyçš„å…¬å¼å½¢ä¼¼ï¼š&lt;/p&gt;
$$(1 âˆ’ F(\theta_l))(1 âˆ’ F(\theta_d ))$$&lt;p&gt;ä½¿ç”¨ä¸¤ä¸ªè²æ¶…å°”æ˜¯ä¸ºäº†ä¿æŒHelmholtzäº’æ˜“ï¼ˆå³å…‰è·¯å¯é€†æ€§ï¼‰ã€‚&lt;/p&gt;
$$f_d = \frac{baseColor}{\pi}(1+F_{D90}-1)(1-\cos\theta_l)^5(1 + (F_D90-1)(1-\cos\theta_v)^5)$$$$F_{D90} = 0.5 + 2 roughness \cos^2\theta_d $$&lt;p&gt;$\theta_d$ æ˜¯å…‰çº¿å’ŒåŠè§’å‘é‡çš„å¤¹è§’ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¨¡å‹å’ŒMERL100æ‹Ÿåˆçš„ç›¸å½“ä¼˜ç§€ï¼Œå¹¶ä¸”è‰ºæœ¯å‹å¥½ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¡è¡¨é¢é¡¹ä½¿ç”¨å¦ä¸€ä¸ªdiffuseæ¨¡å‹è¿›è¡Œæ‹Ÿåˆï¼Œä¸è¿‡ç”±äºå¹¶ä¸æ˜¯çœŸæ­£çš„æ¨¡æ‹Ÿå…‰çš„æ¬¡è¡¨é¢æ•£å°„ï¼Œæ‰€ä»¥è¡¨ç°èƒ½åŠ›åªèƒ½è¯´èŠèƒœäºæ— ï¼Œå®Œæ•´çš„æ¬¡è¡¨é¢æ•£å°„åº”è¯¥å‚è€ƒ2015å¹´çš„Disney BSDFï¼Œä¸è¿‡è¿™å°±ä¸æ˜¯å®æ—¶æ¸²æŸ“çš„è¯é¢˜äº†ã€‚&lt;/p&gt;
&lt;h2 id="d"&gt;D
&lt;/h2&gt;&lt;p&gt;åŸºäºå¯¹äºå¤šä¸ªæ¨¡å‹çš„è§‚å¯Ÿï¼Œå°¤å…¶æ˜¯GGXï¼ˆTrowbridge-Reitzï¼‰åˆ†å¸ƒå’ŒBerryåˆ†å¸ƒã€‚Disneyåœ¨è¿™ç¯‡æ–‡ç« ä¸­æå‡ºäº†GTRï¼ˆGeneralized-Trowbridge-Reitzï¼‰æ¨¡å‹ã€‚&lt;/p&gt;
$$D_{GTR}= c/(\alpha^2\cos^2\theta_h+\sin^2\theta_h)^\gamma$$&lt;p&gt;è¡¥ï¼šå®Œæ•´å…¬å¼ä¸ºï¼š &lt;/p&gt;
$$D_{GTR}(\theta_h) = \frac{(\gamma-1)(\alpha^2-1)}{\pi(1-(\alpha^2)^{1-\gamma})} \frac{1}{(1 + (\alpha^2-1)\cos^2\theta_h)^\gamma}$$$$\phi_h = 2\pi\xi_1$$$$\cos\theta_h = \sqrt{\frac{1-[(\alpha^2)^{1-\gamma}(1-\xi_2)+\xi_2]^{\frac{1}{1-\gamma}}}{1-\alpha^2}}$$&lt;p&gt; å…¶ä¸­ï¼Œ$\xi$ ä¸ºé‡‡æ ·éšæœºæ•°ï¼Œ $\phi_h$ ä¸º åŠè§’çš„è§’åº¦ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¢ç¢å¿µï¼šç°åœ¨è¿å¸Œè…Šå­—æ¯éƒ½ä¸ä¼šå¿µäº†ï¼Œé«˜ä¸­å­¦çš„ç‰©ç«éƒ½è¿˜ç»™è€å¸ˆäº†ï¼Œå”‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å½“ $\gamma$ ä¸º2æ—¶ç­‰æ•ˆGGXï¼Œ$\gamma$ ä¸º1æ—¶ç­‰æ•ˆBerryåˆ†å¸ƒï¼Œå½“ $\gamma$ ä¸º10æ—¶ï¼Œæ‹Ÿåˆåˆ°Beckmannåˆ†å¸ƒã€‚éšç€$\gamma$çš„å¢å¤§ï¼Œé«˜å…‰å°¾éƒ¨é€æ¸ç¼©çŸ­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dé¡¹ä½¿ç”¨äº†ä¸¤ä¸ªSpecular lobeï¼Œä¸»æ³¢ç“£ä½¿ç”¨GTR2ï¼ˆGGXï¼‰ï¼Œå‰¯æ³¢ç“£ï¼ˆæ¸…æ¼†å±‚ï¼‰ä½¿ç”¨GTR1ã€‚å¹¶ä¸”ä¸»æ³¢ç“£æ”¯æŒå„å‘å¼‚æ€§å’Œé‡‘å±ï¼Œè€Œå‰¯æ³¢ç“£ä¸æ”¯æŒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨$a = roughness^2$ æ˜ å°„ï¼Œè¾¾åˆ°æ›´å¥½çš„çº¿æ€§å˜åŒ–çš„å¤–è§‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…³äºç¼©æ”¾å¸¸æ•°cï¼Œä¸ºäº†æ»¡è¶³èƒ½é‡å®ˆæ’ï¼Œå› æ­¤æ•´ä¸ªå‡½æ•°åº”å½“ç§¯åˆ†ä¸º1ï¼Œéœ€è¦ä¸€ä¸ªå¸¸æ•°Cç¼©æ”¾ï¼Œå¯¹äºä¸åŒçš„ $\gamma$ ä¼šæœ‰ä¸åŒçš„Cï¼Œå¯ä»¥è‡ªå·±ç§¯åˆ†å¾—å‡ºï¼ˆæˆ‘ä¸ä¼šç®—*ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="f"&gt;F
&lt;/h2&gt;&lt;p&gt;ç»å…¸çš„Schlickè¿‘ä¼¼ã€‚&lt;/p&gt;
$$F_{Schlick} = F_0 + (1 âˆ’ F_0 )(1 âˆ’ cosÎ¸_d)^5$$&lt;h2 id="g"&gt;G
&lt;/h2&gt;&lt;p&gt;æ²¡æœ‰è¢«maskingå’Œshadowingçš„æ¯”ä¾‹ã€‚ä¸å®Œå…¨ç‰©ç†ï¼Œå‚è€ƒäº†è‰ºæœ¯å®¶çš„æ„è§è¿›è¡Œäº†ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;h1 id="å¼€å‘ç»éªŒ"&gt;å¼€å‘ç»éªŒ
&lt;/h1&gt;&lt;p&gt;æè´¨å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹è¿›è¡Œä¸€è‡´çš„å“åº”ã€‚è‰ºæœ¯å®¶ä»¬å¯ä»¥å®æ—¶ç¼–è¾‘æ‰€æœ‰å‚æ•°å¹¶ç«‹åˆ»çœ‹åˆ°ç»“æœï¼Œå¹¶ä¸”å¯ä»¥è·å¾—å’Œæœ€ç»ˆçš„å±•ç¤ºæ•ˆæœä¸€æ ·çš„æ¨¡å‹ï¼Œè¿™ä½¿å¾—è‰ºæœ¯å®¶æ— éœ€åœ¨ç…§æ˜é˜¶æ®µè¿”å·¥ï¼Œå¹¶è·å¾—äº†ä¸€è‡´çš„é«˜è´¨é‡æ¸²æŸ“ç»“æœã€‚ç»Ÿä¸€æ¨¡å‹è¿˜å¸¦æ¥äº†ä¸€ä¸ªä¼˜åŠ¿ï¼šå¯ä»¥é€šè¿‡ä¿å­˜ä¸€ç»„å‚æ•°é¢„è®¾æ¥è·å¾—ä¸€ä¸ªç®€å•çš„æè´¨åº“ã€‚&lt;/p&gt;
&lt;h1 id="other"&gt;Other
&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¾®è¡¨é¢åˆ†å¸ƒå‡½æ•° $D(\theta_h)$æ˜¯å…³äºåŠè§’å‘é‡ h çš„åˆ†å¸ƒå‡½æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºäº†ä¿æŒç‰©ç†åˆç†æ€§ï¼Œå…¶åœ¨åŠçƒä¸Šçš„æŠ•å½±é¢ç§¯ç§¯åˆ†å¿…é¡»ä¸º 1ï¼š $\int_{\Omega} D(\theta_h) \cos \theta_h , d\omega = 1$ å³ç§¯åˆ†è€ƒè™‘äº† $\cos \theta_hâ€‹$ çš„æŠ•å½±å› å­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºäº†é‡è¦æ€§é‡‡æ ·ï¼ˆimportance samplingï¼‰ï¼Œå¯ä»¥å°†é‡‡æ ·æ¦‚ç‡å¯†åº¦å‡½æ•°é€‰ä¸ºï¼š$\text{pdf}_h = D(\theta_h) \cos \theta_h$ ã€‚ï¼ˆæˆ‘ä¹Ÿä¸ä¼šç®—ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å„å‘å¼‚æ€§çš„0.9ä¸»è¦ç”¨äºé™åˆ¶äº†é•¿å®½æ¯”ä¸º 10:1&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sheenç”±ä¸€ä¸ªé¢å¤–çš„BRDF lobeæ¨¡æ‹Ÿã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="implementation"&gt;Implementation
&lt;/h1&gt;&lt;p&gt;æˆ‘å‚è€ƒ&lt;a class="link" href="https://github.com/wdas/brdf/blob/main/src/brdfs/disney.brdf" target="_blank" rel="noopener"
&gt;Disney BRDF Explorer çš„å®˜æ–¹å®ç°&lt;/a&gt; Copy äº†ä¸€ä»½HLSLå®ç°:&lt;a class="link" href="https://github.com/FOTH0626/FothUrpShaderTemplate/blob/main/DisneyBRDF.hlsl" target="_blank" rel="noopener"
&gt;DisneyBRDF&lt;/a&gt;.&lt;br&gt;
ç¢ç¢å¿µä¸€ä¸‹: ä¸€å¼€å§‹æˆ‘çš„å®ç°ç”¨äº† &lt;code&gt;PI&lt;/code&gt; è¿™ä¸ªå®ï¼Œè¿™ä¸ªå®è¢«Unityå®šä¹‰è¿‡ï¼Œæ‰€ä»¥å¼•å…¥åˆ°Unity Shaderä¸­å°±ä¼šæŠ¥é”™ï¼Œç„¶åç”¨äº† &lt;code&gt;const float MY_PI = 3.1415926535&lt;/code&gt; ä¸€ä¸ªconstå˜é‡ï¼Œç»“æœå¼•å…¥åˆ°UnityShderåä¸çŸ¥é“ä¸ºä»€ä¹ˆ &lt;code&gt;MY_PI&lt;/code&gt; å˜æˆ0äº†ï¼Œæçš„æ•´ä¸ªæè´¨çˆ†ç™½ï¼Œæˆ‘è¿˜æŒ‚ç€Bloomç»™æˆ‘é—ªçäº†ï¼Œçè¯•äº†åŠå¤©æ‰æƒ³åˆ°æŠ“å¸§æ‰å‘ç°è¿™ä¸ªç¦»è°±Bugï¼ˆï¼‰ã€‚æœ€ååˆç”¨å›å® &lt;code&gt;#define MY_PI &lt;/code&gt; æ€€ç–‘æ˜¯Shaderlabçš„é—®é¢˜ï¼ˆæ€»ä¹‹fuck Unityï¼‰ï¼Œä»¥åæœ‰æ—¶é—´æ¢ç©¶ä¸€ä¸‹åº•å±‚å®ç°ï¼ˆï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/disney-pbr/aglina.png"
width="1320"
height="783"
srcset="https://foth0626.github.io/article/disney-pbr/aglina_hu_7e2e397083ce2e38.png 480w, https://foth0626.github.io/article/disney-pbr/aglina_hu_c33eca36eba803e7.png 1024w"
loading="lazy"
alt="aglina"
class="gallery-image"
data-flex-grow="168"
data-flex-basis="404px"
&gt;&lt;/p&gt;
&lt;p&gt;æ´å°”ä½©å¡”çš„è¡£æœä½¿ç”¨äº†DisneyBRDFã€‚ï¼ˆå¤´å‘æ˜¯æˆ‘åœ¨è°ƒçƒå£³æ³•çº¿ï¼Œæ— è§†å°±å¥½ï¼‰&lt;/p&gt;</description></item><item><title>a brief discussion of performance optimization</title><link>https://foth0626.github.io/article/performance-optimization/</link><pubDate>Mon, 21 Apr 2025 10:34:19 +0800</pubDate><guid>https://foth0626.github.io/article/performance-optimization/</guid><description>&lt;p&gt;æœ¬æ–‡ä¸ºRTR4 18ç« ç®¡çº¿ä¼˜åŒ–æ€»ç»“ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Donald Knuthâ€”â€”â€œWe should forget about small efficiencies, say about 97% of the time:Premature optimization is the root of all evil.â€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å›¾å½¢æ¸²æŸ“æ˜¯åŸºäºæµæ°´çº¿æ¶æ„çš„ï¼Œå› æ­¤æ•ˆç‡å–å†³äºç®¡çº¿ä¸­çš„æœ€æ…¢çš„ä¸€ä¸ªæ­¥éª¤ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½“æœ€æ…¢çš„æ­¥éª¤æ— æ³•ç»§ç»­ä¼˜åŒ–æ—¶ï¼Œå¯ä»¥å°†å…¶ä»–æ­¥éª¤ä½¿ç”¨é¢å¤–çš„è®¡ç®—æé«˜ç”»é¢çš„è´¨é‡ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;KNOW YOUR ARCHITECTURE&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¼˜åŒ–æ˜¯éœ€è¦é’ˆå¯¹ç‰¹å®šç¡¬ä»¶è€Œè¨€çš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;MEASURE , MEASURE , MEASURE.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®é™…çš„æ€§èƒ½æµ‹è¯•æ‰èƒ½åæ˜ ä½ çš„ä¼˜åŒ–æ˜¯å¦æœ‰æ•ˆã€‚&lt;/p&gt;
&lt;h1 id="æ€§èƒ½ç“¶é¢ˆå®šä½"&gt;æ€§èƒ½ç“¶é¢ˆå®šä½
&lt;/h1&gt;&lt;p&gt;æƒ³è¦è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œé¦–å…ˆå¾—å®šä½æ€§èƒ½ç“¶é¢ˆåœ¨å“ªã€‚&lt;/p&gt;
&lt;h2 id="åº”ç”¨é˜¶æ®µæµ‹è¯•"&gt;åº”ç”¨é˜¶æ®µæµ‹è¯•
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å‘é€è®©GPUå¾ˆå°‘å·¥ä½œæˆ–æ ¹æœ¬ä¸å·¥ä½œçš„æ•°æ®ã€‚æˆ–è€…ä½¿ç”¨ä¸€ä¸ªç©ºé©±åŠ¨ç¨‹åºã€‚ï¼ˆè¿™ä¸ªæ–¹æ³•å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›å› ä¸ºé©±åŠ¨ç¨‹åºæœ¬èº«å¯¼è‡´çš„é—®é¢˜ã€‚ï¼‰&lt;/li&gt;
&lt;li&gt;é™ä½CPUæ—¶é’Ÿé¢‘ç‡ã€‚å¦‚æœæ€§èƒ½é™ä½ï¼Œé‚£ä¹ˆå¯ä»¥è¯´æ˜ç¨‹åºè‡³å°‘åœ¨æŸç§ç¨‹åº¦ä¸Šä¸CPUç»‘å®šã€‚GPUä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼çš„é™é¢‘ï¼ˆunderclockï¼‰æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="å‡ ä½•å¤„ç†é˜¶æ®µ"&gt;å‡ ä½•å¤„ç†é˜¶æ®µ
&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªéƒ¨åˆ†æ˜¯æœ€éš¾æµ‹è¯•çš„é˜¶æ®µï¼Œå› ä¸ºå…¶ä»–ä¸€äº›é˜¶æ®µçš„å·¥ä½œè´Ÿè½½ä¹Ÿä¼šå‘ç”Ÿç›¸åº”çš„å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;å‡ ä½•å¤„ç†é˜¶æ®µçš„ç“¶é¢ˆé€šå¸¸å‡ºç°åœ¨é¡¶ç‚¹è·å–å’Œé¡¶ç‚¹å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;é¡¶ç‚¹è·å–çš„æµ‹è¯•æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¢å¤§é¡¶ç‚¹æ ¼å¼çš„å¤§å°ã€‚ä¾‹å¦‚ï¼šåœ¨æ¯ä¸ªé¡¶ç‚¹ä¸Šå‘é€ä¸€äº›é¢å¤–çš„çº¹ç†åæ ‡ç”¨æ¥å¢å¤§é¡¶ç‚¹çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;é¡¶ç‚¹å¤„ç†ç”±é¡¶ç‚¹ç€è‰²å™¨ï¼ˆVertex Shaderï¼‰å®Œæˆã€‚é€šè¿‡è®©Vertex Shader å˜å¾—æ›´é•¿æ›´å¤æ‚å¯ä»¥æµ‹è¯•ç“¶é¢ˆã€‚ä½†éœ€è¦æ‹…å¿ƒç¼–è¯‘å™¨çš„ä¼˜åŒ–å¯¼è‡´é¢å¤–æŒ‡ä»¤çš„æ— æ•ˆã€‚å‡ ä½•ç€è‰²å™¨å’Œæ›²é¢ç»†åˆ†ç€è‰²å™¨ä¹Ÿä¼šåœ¨é¡¶ç‚¹å¤„ç†é˜¶æ®µå¯¼è‡´é¢å¤–çš„æ€§èƒ½å¼€é”€ã€‚é€šå¸¸æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨æ§åˆ¶å˜é‡æ³•ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç¡®å®šè¿™äº›å…ƒç´ æ˜¯å¦æ˜¯æ€§èƒ½ç“¶é¢ˆã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="å…‰æ …åŒ–é˜¶æ®µ"&gt;å…‰æ …åŒ–é˜¶æ®µ
&lt;/h2&gt;&lt;p&gt;å…‰æ …åŒ–ä¸€å…±åŒ…å«ä¸¤ä¸ªé˜¶æ®µï¼Œä¸‰è§’å½¢è®¾ç½®å’Œä¸‰è§’å½¢éå†ã€‚ä¸‰è§’å½¢è®¾ç½®ä¼šè®¡ç®—ä¸‰è§’å½¢çš„å¾®åˆ†ï¼Œè¾¹ç•Œæ–¹ç¨‹å’Œå…¶ä»–æ•°æ®ï¼Œå¹¶å°†è¿™äº›æ•°æ®ç”¨äºä¸‰è§’å½¢éå†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¦‚ç”Ÿæˆshadow map æ—¶ï¼Œç”±äºåƒç´ ç€è‰²å™¨ç›¸å½“ç®€å•ï¼Œæ‰€ä»¥å¯èƒ½å¯¼è‡´å…‰æ …åŒ–é˜¶æ®µæˆä¸ºç“¶é¢ˆã€‚
å¦‚æœåœºæ™¯å†…çš„å¾®å°ä¸‰è§’å½¢è¿‡å¤šï¼Œä¼šå› ä¸ºä¸‰è§’å½¢ä¼šä»¥2 $\times$ 2 çš„å››è¾¹å½¢ä¸ºä¸€ç»„è¿›è¡Œå…‰æ …åŒ–ï¼Œå¯¼è‡´è¾…åŠ©åƒç´ çš„æ•°é‡è¿‡å¤šï¼Œå‡ºç° overshading çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†ç¡®å®šå…‰æ …åŒ–é˜¶æ®µæ˜¯å¦ä¸ºç“¶é¢ˆï¼Œå¯ä»¥é€šè¿‡å¢åŠ Vertex Shader å’Œ Fragment Shader çš„å¤§å°ï¼Œå¦‚æœæ—¶é—´ä¸å˜ï¼Œé‚£ä¹ˆç“¶é¢ˆå¯èƒ½ä½äºå…‰æ …åŒ–é˜¶æ®µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="åƒç´ å¤„ç†é˜¶æ®µ"&gt;åƒç´ å¤„ç†é˜¶æ®µ
&lt;/h2&gt;&lt;p&gt;å¯ä»¥é€šè¿‡æ”¹å˜å±å¹•åˆ†è¾¨ç‡æ¥è¿›è¡Œæµ‹è¯•ï¼Œä½†æ˜¯å¦‚æœè½¯ä»¶ç³»ç»Ÿè®¾è®¡è‰¯å¥½ï¼Œä½åˆ†è¾¨ç‡ä¼šåŒæ—¶å¯¼è‡´ä½¿ç”¨ç®€åŒ–æ¨¡å‹ï¼Œå¯¼è‡´å‡ ä½•å¤„ç†çš„è´Ÿè½½å˜åŒ–ã€‚è¿˜å¯èƒ½ä¼šå½±å“ä¸‰è§’å½¢éå†ã€æ·±åº¦æµ‹è¯•ã€æ··åˆå’Œçº¹ç†è®¿é—®ç­‰æ–¹é¢çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥å¢å¤§Fragment Shaderçš„å¤æ‚åº¦ï¼Œå¹¶è§‚å¯Ÿæ¸²æŸ“æ—¶é—´çš„å˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;æ­¤å¤–ï¼Œè¿˜å¯ä»¥å°†åƒç´ ç€è‰²å™¨ç®€åŒ–åˆ°æœ€å°‘ï¼ˆè¿™åœ¨Vertex Shader ä¸­é€šå¸¸å¾ˆéš¾åšåˆ°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;çº¹ç†ç¼“å­˜æœªå‘½ä¸­å¯¼è‡´çš„å¼€é”€ä¹Ÿæ˜¯ååˆ†é«˜çš„ï¼Œå¦‚æœä½¿ç”¨ä¸€ä¸ª 1 $\times$ 1 çš„çº¹ç†å¯¼è‡´äº†æ€§èƒ½çš„æé«˜ï¼Œé‚£ä¹ˆçº¹ç†è®¿é—®æ˜¯ä¸€ä¸ªç“¶é¢ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="åˆå¹¶é˜¶æ®µæµ‹è¯•"&gt;åˆå¹¶é˜¶æ®µæµ‹è¯•
&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªé˜¶æ®µä¼šè¿›è¡Œæ·±åº¦æµ‹è¯•å’Œæ¨¡æ¿æµ‹è¯•ï¼Œå¹¶è¿›è¡Œæ··åˆæ“ä½œã€‚è¿™ä¸ªé˜¶æ®µå¯èƒ½ä¼šæˆä¸ºåå¤„ç† passã€é˜´å½±ã€ç²’å­ç³»ç»Ÿæ¸²æŸ“çš„ç“¶é¢ˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¹å˜è¿™äº›ç¼“å†²åŒºçš„è¾“å‡º bit æ·±åº¦æ˜¯ä¸€ç§æ”¹å˜æ­¤é˜¶æ®µå¸¦å®½æˆæœ¬çš„æ–¹æ³•,è¿™æ ·å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹è¿™ä¸ªé˜¶æ®µæ˜¯å¦ä¼šæˆä¸ºç“¶é¢ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="ä¼˜åŒ–æ‰‹æ®µ"&gt;ä¼˜åŒ–æ‰‹æ®µ
&lt;/h1&gt;&lt;h2 id="åº”ç”¨é˜¶æ®µ"&gt;åº”ç”¨é˜¶æ®µ
&lt;/h2&gt;&lt;h3 id="å†…å­˜é—®é¢˜"&gt;å†…å­˜é—®é¢˜
&lt;/h3&gt;&lt;p&gt;åœ¨å¾ˆå¤šå¹´å‰,ç®—æœ¯æŒ‡ä»¤çš„æ•°é‡æ˜¯è¡¡é‡ç®—æ³•æ•ˆç‡çš„å…³é”®æŒ‡æ ‡,è€Œå¦‚ä»Šåˆ™æ˜¯å†…å­˜è®¿é—®æ¨¡å¼(memory access pattern) ã€‚å¤„ç†å™¨çš„é€Ÿåº¦åœ¨è¿‡å»çš„å¾ˆå¤šå¹´é—´å¿«é€Ÿå¢é•¿,è€Œ DRAM çš„æ•°æ®ä¼ è¾“é€Ÿåº¦åˆ™å¢é•¿æœ‰é™,å› ä¸º DRAMä¼šå—åˆ°å¼•è„šæ•°é‡çš„é™åˆ¶ã€‚
å› æ­¤ï¼Œå°½é‡ç¡®ä¿éœ€è¦è¯»å–çš„æ•°æ®åœ¨ç¼“å­˜ï¼ˆcacheï¼‰ä¸Šï¼Œå¯ä»¥æ˜¾è‘—çš„å¢åŠ ç¨‹åºçš„æ•ˆç‡ã€‚ä»CPUçš„å¯„å­˜å™¨ï¼Œåˆ°L1,L2,L3çº§ç¼“å­˜ï¼Œå†åˆ°DRAMï¼ˆdynamic random access memory , å³å¤§å®¶å¸¸è¯´çš„å†…å­˜ï¼‰ï¼Œå†åˆ°SSDå’ŒHDDï¼Œå†åˆ°äº‘ç›˜/ç½‘ç›˜/æœåŠ¡å™¨æ•°æ®ã€‚è‡ªé¡¶å‘ä¸‹ï¼Œå‘ˆç°å‡ºä»æ˜‚è´µåˆ°å»‰ä»·ï¼Œä»å°å®¹é‡åˆ°å¤§å®¹é‡ï¼Œä»é«˜é€Ÿåˆ°ä½é€Ÿçš„è¶‹åŠ¿ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œé«˜é€Ÿåˆ°ä½é€Ÿçš„å·®è·é€šå¸¸è€Œè¨€æ˜¯æŒ‡æ•°çº§åˆ«çš„ã€‚
å†…å­˜ä¸­çš„ç›¸é‚»ä½ç½®é€šå¸¸è€Œè¨€ä¼šè¢«ä¾æ¬¡è®¿é—®ï¼ˆç©ºé—´å±€éƒ¨æ€§ï¼‰ã€‚è€ŒåŒä¸€ä½ç½®å¾€å¾€ä¹Ÿä¼šè¢«é‡å¤è®¿é—®ï¼ˆæ—¶é—´å±€éƒ¨æ€§ï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»£ç ä¸­æŒ‰é¡ºåºè®¿é—®çš„æ•°æ®,ä¹Ÿåº”å½“æŒ‰é¡ºåºå­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;é¿å…é—´æ¥æŒ‡é’ˆã€è·³è½¬å’Œå‡½æ•°è°ƒç”¨&lt;/li&gt;
&lt;li&gt;å°†ç»å¸¸ä½¿ç”¨çš„æ•°æ®ç»“æ„å’Œç¼“å­˜è¡Œå¤§å°çš„å€æ•°è¿›è¡Œå¯¹é½ï¼Œå¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å¯åŠ¨çš„æ—¶å€™,ä¸ºç›¸åŒå¤§å°çš„å¯¹è±¡åˆ†é…ä¸€ä¸ªè¾ƒå¤§çš„å†…å­˜æ± ,ç„¶åä½¿ç”¨æˆ‘ä»¬è‡ªè¡Œç¼–å†™çš„åˆ†é…ç¨‹åºå’Œé‡Šæ”¾ç¨‹åºæ¥ç®¡ç†è¿™ä¸ªå†…å­˜æ± ä¸­çš„å†…å­˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="å›¾å½¢apiè°ƒç”¨"&gt;å›¾å½¢APIè°ƒç”¨
&lt;/h3&gt;&lt;h4 id="çŠ¶æ€æ”¹å˜"&gt;çŠ¶æ€æ”¹å˜
&lt;/h4&gt;&lt;p&gt;ä¸€ä¸ªå¸¸è§çš„å›¾å½¢æ“ä½œæ˜¯å¯¹ç®¡çº¿è¿›è¡Œå‡†å¤‡æ¥ç»˜åˆ¶ä¸€ä¸ªç½‘æ ¼ï¼Œè¿™ä¸ªæ“ä½œä¼šæ¶‰åŠä¸€äº›çŠ¶æ€æ”¹å˜ï¼Œä¾‹å¦‚ï¼šè®¾ç½®ç€è‰²å™¨å’Œuniformå˜é‡ï¼Œé™„åŠ çš„çº¹ç†ï¼Œæ›´æ”¹æ··åˆçŠ¶æ€ï¼Œæ›´æ”¹æ‰€ä½¿ç”¨çš„é¢œè‰²ç¼“å†²ç­‰ã€‚æé«˜åº”ç”¨ç¨‹åºæ€§èƒ½çš„ä¸€ä¸ªä¸»è¦æ–¹æ³•æ˜¯å°†å…·æœ‰ç›¸ä¼¼æ¸²æŸ“çŠ¶æ€çš„å¯¹è±¡è¿›è¡Œåˆ†ç»„ï¼Œä»è€Œæœ€å°åŒ–çŠ¶æ€æ›´æ”¹æ‰€å¸¦æ¥çš„å¼€é”€ã€‚
ä¸åŒç±»å‹çš„çŠ¶æ€æ”¹å˜æœ‰ç€ä¸åŒçš„å¼€é”€ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GPU çš„æ¸²æŸ“æ¨¡å¼å’Œè®¡ç®—ç€è‰²å™¨æ¨¡å¼ä¹‹é—´è¿›è¡Œåˆ‡æ¢&lt;/li&gt;
&lt;li&gt;æ¸²æŸ“ç›®æ ‡(render target)(framebuffer å¯¹è±¡),å¤§çº¦ 60k/ç§’ã€‚&lt;/li&gt;
&lt;li&gt;ç€è‰²å™¨ç¨‹åº,å¤§çº¦ 300k/ç§’ã€‚&lt;/li&gt;
&lt;li&gt;æ··åˆæ¨¡å¼(ROP),ä¾‹å¦‚é€æ˜åº¦ã€‚&lt;/li&gt;
&lt;li&gt;çº¹ç†ç»‘å®š,1.5M/ç§’ã€‚&lt;/li&gt;
&lt;li&gt;é¡¶ç‚¹æ ¼å¼ã€‚&lt;/li&gt;
&lt;li&gt;ç»Ÿä¸€ç¼“å†²åŒºå¯¹è±¡(uniform buffer object,UBO)ç»‘å®šã€‚&lt;/li&gt;
&lt;li&gt;é¡¶ç‚¹ç»‘å®šã€‚&lt;/li&gt;
&lt;li&gt;ç»Ÿä¸€å˜é‡æ›´æ–°,å¤§çº¦ 10M/ç§’ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;å¯ä»¥å¯¹è¦æ˜¾ç¤ºçš„å¯¹è±¡æŒ‰ç…§ç€è‰²å™¨ç±»å‹è¿›è¡Œåˆ†ç»„,ç„¶åæŒ‰ç…§ä½¿ç”¨çš„çº¹ç†è¿›è¡Œåˆ†ç»„,ä»¥æ­¤ç±»æ¨(æŒ‰ç…§æˆæœ¬é¡ºåº)è¿›è¡Œæ’åºåˆ†ç»„ã€‚æŒ‰ç…§çŠ¶æ€è¿›è¡Œæ’åºæœ‰æ—¶ä¼šè¢«ç§°ä¸ºæ‰¹å¤„ç†(batching) ã€‚
å¦ä¸€ç§ç­–ç•¥æ˜¯é‡æ„å¯¹è±¡çš„æ•°æ®ç»„ç»‡æ–¹å¼ã€‚å¦‚ä½¿ç”¨çº¹ç†æ•°ç»„ï¼Œæˆ–è€…åœ¨APIæ”¯æŒçš„æƒ…å†µä¸‹ä½¿ç”¨æ— ç»‘å®šçº¹ç†ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºå¯¹ç€è‰²å™¨çš„ä¿®æ”¹æˆæœ¬æ¯”ä¿®æ”¹uniformå˜é‡/çº¹ç†çš„å¼€é”€é«˜å¾—å¤šã€‚å› æ­¤åŒä¸€ç§æè´¨çš„å˜åŒ–å¯ä»¥ä½¿ç”¨&amp;quot;if&amp;quot;è¿›è¡Œåˆ‡æ¢ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å…±äº«ä¸€ä¸ªç€è‰²å™¨æ¥å®ç°æ›´å¤§çš„æ‰¹æ¬¡ï¼Œä¸è¿‡ï¼Œæ›´å¤æ‚çš„shaderä¹Ÿä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œæ‰€ä»¥å®äº‹æ±‚æ˜¯åœ°æµ‹è¯•æ˜¯å”¯ä¸€ä¸‡æ— ä¸€å¤±çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å°†å¤šä¸ªuniform å˜é‡æ‰“åŒ…æˆä¸€ä¸ªç»„æ¯”ç»‘å®šå•ä¸ªç»Ÿä¸€ç¼“å†²åŒºå¯¹è±¡çš„æ•ˆç‡è¦é«˜å¾—å¤šï¼Œè¿™åœ¨DXä¸­ç§°ä¸ºConstant Bufferã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ¯æ¬¡ draw call ä¹‹åéƒ½è¿”å›ä¸€ä¸ªåŸºæœ¬çŠ¶æ€å¯èƒ½ä¼šå˜å¾—æˆæœ¬å¾ˆé«˜ã€‚ä¾‹å¦‚:å½“æˆ‘ä»¬è¦ç»˜åˆ¶ä¸€ä¸ªå¯¹è±¡æ—¶,æˆ‘ä»¬å¯èƒ½ä¼šå‡è®¾çŠ¶æ€ Xé»˜è®¤æ˜¯å…³é—­çš„ã€‚å®ç°è¿™ä¸€ç›®æ ‡çš„ä¸€ç§æ–¹æ³•æ˜¯â€œå¯ç”¨( X );ç»˜åˆ¶( M1â€‹); ç¦ç”¨( X) â€,ç„¶åå†â€œå¯ç”¨( X);ç»˜åˆ¶( M2); â€‹ç¦ç”¨( X) â€,å³åœ¨æ¯æ¬¡ç»˜åˆ¶æ“ä½œä¹‹åéƒ½ä¼šæ¢å¤åˆå§‹çŠ¶æ€ã€‚ç„¶è€Œ,åœ¨ä¸¤æ¬¡ draw call ä¹‹é—´å¯¹çŠ¶æ€è¿›è¡Œå†æ¬¡è®¾ç½®å¾ˆå¯èƒ½ä¼šæµªè´¹å¤§é‡æ—¶é—´,å³ä½¿å®ƒä»¬ä¹‹é—´å¹¶æ²¡æœ‰å‘ç”Ÿå®é™…çš„çŠ¶æ€æ”¹å˜ã€‚&lt;/p&gt;
&lt;h4 id="åˆå¹¶å’Œå®ä¾‹åŒ–"&gt;åˆå¹¶å’Œå®ä¾‹åŒ–
&lt;/h4&gt;&lt;p&gt;ä¸€ä¸ªè¢«ä¸‰è§’å½¢å¡«å……çš„ç½‘æ ¼,æ¸²æŸ“èµ·æ¥è¦æ¯”å¤§é‡å°è€Œç®€å•çš„ç½‘æ ¼æ›´åŠ é«˜æ•ˆã€‚è¿™æ˜¯å› ä¸ºæ— è®ºè¿™ä¸ªå›¾å…ƒçš„å¤§å°å¦‚ä½•,æ¯ä¸ª draw call éƒ½æœ‰å›ºå®šçš„æˆæœ¬å¼€é”€(å³å¤„ç†å›¾å…ƒçš„æˆæœ¬) ã€‚
æ—©åœ¨ 2003 å¹´,Wloka å°±æŒ‡å‡º,æ¯ä¸ªæ‰¹æ¬¡ä»…ä»…ç»˜åˆ¶ä¸¤ä¸ª(å°ºå¯¸ç›¸å¯¹è¾ƒå°çš„)ä¸‰è§’å½¢,å…¶æ•ˆç‡è·ç¦»GPU çš„æœ€å¤§ååé‡è¿˜å·® 375 å€ã€‚å¯¹äºé‚£äº›ç”±è®¸å¤šå°è€Œç®€å•çš„ç‰©ä½“æ‰€ç»„æˆçš„åœºæ™¯,è¿™äº›ç‰©ä½“åªåŒ…å«å¾ˆå°‘çš„å‡ ä¸ªä¸‰è§’å½¢,å…¶æ¸²æŸ“æ€§èƒ½å®Œå…¨å— API çš„ CPU é™åˆ¶,GPU çš„èƒ½åŠ›å†å¼ºä¹Ÿæ²¡æ³•å¢åŠ æ¸²æŸ“æ•ˆç‡ã€‚ä¹Ÿå°±æ˜¯è¯´,è¿™äº› draw call åœ¨ CPU ä¸Šçš„å¤„ç†æ—¶é—´,è¦å¤§äº GPU å®é™…æ¸²æŸ“ç½‘æ ¼æ‰€éœ€çš„æ—¶é—´,å³ GPU æ²¡æœ‰è¢«å……åˆ†åˆ©ç”¨ã€‚
å‡å°‘ draw call æ¬¡æ•°çš„ä¸€ç§æ–¹æ³•æ˜¯å°†å¤šä¸ªç‰©ä½“åˆå¹¶åˆ°ä¸€ä¸ªç½‘æ ¼ä¸­,è¿™æ ·å°±åªéœ€è¦ä¸€æ¬¡ draw call æ¥æ¸²æŸ“è¯¥é›†åˆå³å¯ã€‚å› ä¸ºè¿™äº›é™æ€ç‰©ä½“åœ¨åŒä¸€ä¸ªç½‘æ ¼ä¸­æ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼Œç‰©ä½“é€‰æ‹©æ˜¯ä¸€ä¸ªåˆå¹¶å¯¼è‡´çš„é—®é¢˜ã€‚ä¸€ä¸ªå…¸å‹çš„è§£å†³æ–¹æ¡ˆæ˜¯,åœ¨ç½‘æ ¼çš„æ¯ä¸ªé¡¶ç‚¹ä¸­éƒ½å­˜å‚¨ä¸€ä¸ªå¯¹è±¡æ ‡è¯†ç¬¦æ¥è¿›è¡Œæ ‡è®°ã€‚
å¦ä¸€ç§æœ€å°åŒ–åº”ç”¨ç¨‹åºå’ŒAPIæˆæœ¬çš„æ–¹æ³•æ˜¯ä½¿ç”¨Instancingã€‚å³åœ¨ä¸€æ¬¡draw callä¸­å¯¹åŒä¸€ä¸ªç‰©ä½“ç»˜åˆ¶å¤šæ¬¡ã€‚è¿™é€šå¸¸æ˜¯æŒ‡å®šä¸€ä¸ªåŸºç¡€æ¨¡å‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå•ç‹¬çš„æ•°æ®ç»“æ„ï¼Œå¹¶åœ¨å…¶ä¸­åŒ…å«äº†æ¯ä¸ªç‰¹å®šç¤ºä¾‹çš„æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚é™¤äº†ä½ç½®å’Œæœå‘ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šå…¶ä»–çš„å¦‚æ ‘å¶çš„é¢œè‰²æˆ–è€…ç”±é£æ‰€å¼•èµ·çš„æ›²ç‡å˜åŒ–ç­‰ç­‰ä»»ä½•å¯ä»¥è¢«shaderç”¨æ¥å½±å“æ¨¡å‹çš„æ•°æ®ã€‚LODä¹Ÿå¯ä»¥ä¸InstanceæŠ€æœ¯ä¸€èµ·ä½¿ç”¨ï¼Œ&lt;/p&gt;
&lt;h3 id="å‡ ä½•å¤„ç†é˜¶æ®µ-1"&gt;å‡ ä½•å¤„ç†é˜¶æ®µ
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;é«˜æ•ˆçš„ä¸‰è§’å½¢ç½‘æ ¼å­˜å‚¨æ–¹å¼ã€æ¨¡å‹ç®€åŒ–å’Œé¡¶ç‚¹æ•°æ®å‹ç¼©&lt;/li&gt;
&lt;li&gt;æˆªé”¥ä½“å‰”é™¤å’Œé®æŒ¡å‰”é™¤&lt;/li&gt;
&lt;li&gt;çƒ˜ç„™ä»¥å‡å°‘è¿è¡Œæ—¶è®¡ç®—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="å…‰æ …åŒ–é˜¶æ®µ-1"&gt;å…‰æ …åŒ–é˜¶æ®µ
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;èƒŒé¢å‰”é™¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="åƒç´ å¤„ç†é˜¶æ®µ-1"&gt;åƒç´ å¤„ç†é˜¶æ®µ
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;é¿å…è¿‡å°çš„ä¸‰è§’å½¢ï¼Œè¾ƒå°çš„ä¸‰è§’å½¢ä¼šç”Ÿæˆå¤§é‡éƒ¨åˆ†è¦†ç›–çš„çš„å››è¾¹å½¢ï¼Œè€Œä¸”ï¼Œé‚£äº›åªè¦†ç›–å‡ ä¸ªåƒç´ çš„çº¹ç†ç½‘æ ¼é€šå¸¸ä¼šå¯¼è‡´warpçš„å ç”¨ç‡è¾ƒä½ï¼Œå¯¼è‡´çº¹ç†é‡‡æ ·çš„å»¶è¿Ÿçš„éšè—æ•ˆæœè¾ƒå·®ã€‚&lt;/li&gt;
&lt;li&gt;è€Œå¦‚æœæ˜¯éœ€è¦ä½¿ç”¨å¤§é‡å¯„å­˜å™¨çš„å¤æ‚ç€è‰²å™¨ï¼Œä¹Ÿä¼šå¯¼è‡´åŒä¸€æ—¶é—´å†…çš„çº¿ç¨‹æ•°é‡å‡å°‘ï¼Œè¿™ç§æƒ…å†µè¢«ç§°ä¸ºå¯„å­˜å™¨å‹åŠ›ï¼ˆregister pressureï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åŸç”Ÿçš„çº¹ç†æ ¼å¼å’Œåƒç´ æ ¼å¼ï¼Œä»è€Œé¿å…æ ¼å¼ä¹‹é—´çš„è½¬æ¢ã€‚&lt;/li&gt;
&lt;li&gt;åªåŠ è½½éœ€è¦çš„mipmapå±‚çº§ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨çº¹ç†å‹ç¼©æŠ€æœ¯ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡LODæŠ€æœ¯ï¼Œå¯¹äºä¸åŒçš„è·ç¦»ä½¿ç”¨ä¸åŒçš„fragment shaderã€‚å¯ä»¥ç®€åŒ–è¿œå¤„çš„æ¨¡å‹çš„è®¡ç®—ï¼Œç”šè‡³å¯ä»¥ç®€åŒ–é«˜å…‰ç”šè‡³å®Œå…¨ç§»é™¤é«˜å…‰ã€‚&lt;/li&gt;
&lt;li&gt;GPUçš„early-zæµ‹è¯•å¯ä»¥æå‰å‰”é™¤ä¸å¯è§çš„ç‰‡å…ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="å¸§ç¼“å†²"&gt;å¸§ç¼“å†²
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å‹ç¼©é¢œè‰²ç²¾åº¦ï¼Œå¦‚ä»16bitå‹ç¼©åˆ°8bitã€‚æˆ–è€…ä½¿ç”¨Yuvæœ‰æŸå‹ç¼©ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="å¤šå¤„ç†"&gt;å¤šå¤„ç†
&lt;/h1&gt;&lt;p&gt;å¤šå¤„ç†ç³»ç»Ÿåˆ†ä¸ºmultiprocessor pipeliningï¼ˆå¤šå¤„ç†å™¨æµæ°´çº¿ï¼‰ï¼Œå³æ—¶é—´å¹¶è¡Œï¼ˆtemporal parallelismï¼‰ï¼Œä»¥åŠparallel processingï¼ˆå¹¶è¡Œå¤„ç†ï¼‰ï¼Œç©ºé—´å¹¶è¡Œï¼ˆspatial parallelismï¼‰ã€‚åœ¨ç†æƒ³æƒ…å†µä¸‹nä¸ªå¤„ç†å™¨å‡å¯æå‡ nå€çš„å¤„ç†é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;h2 id="æ—¶é—´å¹¶è¡Œ"&gt;æ—¶é—´å¹¶è¡Œ
&lt;/h2&gt;&lt;p&gt;ä¸¾ä¾‹ï¼šä¸€ä¸ªåº”ç”¨ç¨‹åºåˆ†ä¸ºAPP,CULL,DRAWä¸‰ä¸ªé˜¶æ®µã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;APPï¼šAPP é˜¶æ®µæ˜¯æµæ°´çº¿ä¸­çš„ç¬¬ä¸€ä¸ªé˜¶æ®µ,å®ƒæ§åˆ¶ç€å…¶ä»–çš„åç»­é˜¶æ®µã€‚åœ¨è¿™ä¸ªé˜¶æ®µä¸­,å¼€å‘äººå‘˜å¯ä»¥æ·»åŠ é¢å¤–çš„ä»£ç ,ä¾‹å¦‚è¿›è¡Œç¢°æ’æ£€æµ‹ç­‰ã€‚åŒæ—¶ APP é˜¶æ®µè¿˜ä¼šå¯¹è§†ç‚¹è¿›è¡Œæ›´æ–°ã€‚&lt;/li&gt;
&lt;li&gt;CULLï¼šè§†é”¥ä½“å‰”é™¤ï¼ŒLODé€‰æ‹©ï¼ŒçŠ¶æ€æ’åºï¼Œç”Ÿæˆæ¸²æŸ“çš„æ‰€æœ‰ç‰©ä½“çš„åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;DRAWï¼šè·å–CULLçš„ç‰©ä½“åˆ—è¡¨ï¼Œæ‰§è¡Œå›¾å½¢è°ƒç”¨ï¼Œå‘GPUå‘é€æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ç§æŠ€æœ¯å¯ä»¥æé«˜ååé‡ä¸æ¸²æŸ“é€Ÿåº¦ï¼Œä½†æ˜¯ä»è½®è¯¢ç”¨æˆ·æ“ä½œï¼Œåˆ°æ˜¾ç¤ºæœ€ç»ˆçš„å›¾åƒçš„æ“ä½œçš„å»¶è¿Ÿè¢«åŠ å¤§äº†ã€‚&lt;/p&gt;
&lt;h2 id="ç©ºé—´å¹¶è¡Œ"&gt;ç©ºé—´å¹¶è¡Œ
&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨è¿™ç§å¹¶è¡Œå¤„ç†å¿…é¡»éœ€è¦ç¨‹åºçš„ä»»åŠ¡å¿…é¡»æ‹¥æœ‰å¹¶è¡Œæ€§ï¼Œå¯ä»¥å°†ä»»åŠ¡å¹¶è¡Œåœ°è¿›è¡Œï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½è´Ÿè´£å¤„ç†ä¸€ä¸ªå·¥ä½œï¼Œå½“æ‰€æœ‰çš„CPUå®Œæˆå„è‡ªçš„å·¥ä½œæ—¶ï¼Œå°†ç»“æœåˆå¹¶ã€‚
æ¯”å¦‚ä¸€ä¸ªå•CPUéœ€è¦30mså®Œæˆçš„ä»»åŠ¡ï¼Œå¯ä»¥åˆ†è§£æˆ3ä¸ªCPUè€—è´¹10mså®Œæˆï¼Œå¹¶å°†æœ€ç»ˆçš„ç»“æœåˆå¹¶ä¸€èµ·å‘é€åˆ°GPUç»˜åˆ¶ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¼šæ˜¾è‘—åœ°é™ä½ä»»åŠ¡çš„å»¶è¿Ÿã€‚&lt;/p&gt;
&lt;h2 id="åŸºäºä»»åŠ¡çš„å¤šå¤„ç†"&gt;åŸºäºä»»åŠ¡çš„å¤šå¤„ç†
&lt;/h2&gt;&lt;p&gt;è€ƒè™‘åˆ°è®¸å¤š CPU ä¸Šéƒ½æœ‰å¾ˆå¤šæ ¸å¿ƒ,ç°åœ¨çš„æŠ€æœ¯è¶‹åŠ¿æ˜¯ä½¿ç”¨åŸºäºä»»åŠ¡çš„å¤šå¤„ç†æ–¹æ³•ã€‚å°±åƒæ˜¯å¯ä»¥ä¸ºä¸€ä¸ªå¹¶è¡ŒåŒ–è¿›ç¨‹åˆ›å»ºå¤šä¸ªä»»åŠ¡(ä¹Ÿç§°ä¸ºä½œä¸š)ä¸€æ ·,è¿™ç§æ€æƒ³ä¹Ÿå¯ä»¥æ‰©å±•åˆ°æµæ°´çº¿ä¸Šã€‚ç”±ä»»ä½•æ ¸å¿ƒç”Ÿæˆçš„ä»»ä½•ä»»åŠ¡,é¦–å…ˆéƒ½ä¼šè¢«æ”¾å…¥å·¥ä½œæ± ä¸­,ä»»ä½•å¤„äºç©ºé—²çŠ¶æ€çš„å¤„ç†å™¨éƒ½ä¼šè·å–ä¸€ä¸ªä»»åŠ¡æ¥è¿›è¡Œå¤„ç†ã€‚è½¬æ¢ä¸ºå¤šå¤„ç†çš„ä¸€ç§æ–¹æ³•æ˜¯,è·å–åº”ç”¨ç¨‹åºçš„å·¥ä½œæµç¨‹,å¹¶ç¡®å®šå…¶ä¸­å“ªäº›ç³»ç»Ÿéœ€è¦ä¾èµ–äºå…¶ä»–ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„åˆ°æœ‰ï¼šæœ‰æ—¶ GPU å†…æ ¸ä¹Ÿä¼šå¤„äºç©ºé—²çŠ¶æ€,ä¾‹å¦‚åœ¨ç”Ÿæˆé˜´å½±è´´å›¾æˆ–è€…è¿›è¡Œæ·±åº¦ prepass çš„æ—¶å€™,å¾ˆå¤š GPU æ ¸å¿ƒå¹¶æœªè¢«å……åˆ†åˆ©ç”¨ã€‚åœ¨è¿™æ ·çš„ç©ºé—²æ—¶é—´ä¸­,å¯ä»¥ä½¿ç”¨è®¡ç®—ç€è‰²å™¨æ¥è®¡ç®—å…¶ä»–ä»»åŠ¡ã€‚&lt;/p&gt;</description></item><item><title>The BRDF and Rendering Equation</title><link>https://foth0626.github.io/article/brdf-and-rendering-equation/</link><pubDate>Wed, 04 Dec 2024 08:29:07 +0800</pubDate><guid>https://foth0626.github.io/article/brdf-and-rendering-equation/</guid><description>&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/frostbite_pbr.png" alt="Featured image of post The BRDF and Rendering Equation" /&gt;&lt;pre&gt;&lt;code&gt;æœ¬æ–‡ç« ä¸ºSAST.Graphicsç»„æˆè¯¾æ–‡æ¡£è®°å½•
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼•ç”¨èµ„æ–™ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class="link" href="https://zhuanlan.zhihu.com/p/53086060" target="_blank" rel="noopener"
&gt;æ¯›æ˜Ÿäº‘ï¼šPBRç™½çš®ä¹¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://learnopengl-cn.github.io/07%20PBR/01%20Theory/" target="_blank" rel="noopener"
&gt;LearnOpenGL-CN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://www.bilibili.com/video/BV1fL411F7YG/" target="_blank" rel="noopener"
&gt;ç™¾äººè®¡åˆ’-5.1 PBRåŸºç¡€&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h1 id="pbræ ¸å¿ƒç†è®º"&gt;PBRæ ¸å¿ƒç†è®º
&lt;/h1&gt;&lt;p&gt;åŸºäºç‰©ç†çš„æ¸²æŸ“ï¼ˆPhysically Based Renderingï¼ŒPBRï¼‰æ˜¯æŒ‡ä½¿ç”¨åŸºäºç‰©ç†åŸç†å’Œå¾®å¹³é¢ç†è®ºå»ºæ¨¡çš„ç€è‰²/å…‰ç…§æ¨¡å‹ï¼Œä»¥åŠä½¿ç”¨ä»ç°å®ä¸­æµ‹é‡çš„è¡¨é¢å‚æ•°æ¥å‡†ç¡®è¡¨ç¤ºçœŸå®ä¸–ç•Œæè´¨çš„æ¸²æŸ“ç†å¿µã€‚å®ƒæŒ‡çš„æ˜¯åœ¨ä¸åŒç¨‹åº¦ä¸Šä½¿ç”¨ä¸ç°å®ä¸–ç•Œçš„ç‰©ç†åŸç†æ›´ç›¸ç¬¦çš„åŸºæœ¬ç†è®ºæ‰€æ„æˆçš„æ¸²æŸ“æŠ€æœ¯çš„é›†åˆã€‚æ­£å› ä¸ºåŸºäºç‰©ç†çš„æ¸²æŸ“ç›®çš„ä¾¿æ˜¯ä½¿ç”¨ä¸€ä¸ªä¸­æ›´ç¬¦åˆç‰©ç†å­¦è§„å¾‹çš„æ–¹å¼æ¥æ¨¡æ‹Ÿå…‰çº¿ï¼Œå› æ­¤PBRçš„æ¸²æŸ“æ•ˆæœæ€»æ˜¯æ¯”å®é™…ä¸Šçœ‹ä¸Šå»è¦æ›´çœŸå®ä¸€äº›ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå› ä¸ºå®ƒä¸ç‰©ç†æ€§è´¨çš„ç›¸ä¼¼ï¼Œæ‰€ä»¥è‰ºæœ¯å®¶å¯ä»¥ç›´æ¥åŸºäºç‰©ç†å‚æ•°æ¥ç¼–å†™æè´¨ï¼Œè€Œä¸éœ€è¦ä¾æ®ç»éªŒå’Œåå¤è¯•é”™ä½¿å…‰ç…§æ•ˆæœçœ‹èµ·æ¥æ­£å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;å¯’éœœ(Frostbite)å¼•æ“åœ¨SIGGRAPH 2014çš„åˆ†äº«ã€ŠMoving Frostbite to PBRã€‹ä¸­æå‡ºï¼ŒåŸºäºç‰©ç†çš„æ¸²æŸ“çš„èŒƒç•´ï¼Œç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºç‰©ç†çš„æè´¨ï¼ˆMaterialï¼‰&lt;/li&gt;
&lt;li&gt;åŸºäºç‰©ç†çš„å…‰ç…§ï¼ˆLightingï¼‰&lt;/li&gt;
&lt;li&gt;åŸºäºç‰©ç†é€‚é…çš„æ‘„åƒæœºï¼ˆCamera)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/frostbite_pbr.png"
width="1266"
height="713"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/frostbite_pbr_hu_53decb40a1e42167.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/frostbite_pbr_hu_f7dd1f9e5120a56f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
&gt;&lt;/p&gt;
&lt;p&gt;å®Œæ•´çš„è¿™ä¸‰è€…ï¼Œæ‰æ˜¯çœŸæ­£å®Œæ•´çš„åŸºäºç‰©ç†çš„æ¸²æŸ“ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒPBRä»ç„¶åªæ˜¯å¯¹ç°å®ä¸–ç•Œçš„ä¸€ç§&lt;strong&gt;è¿‘ä¼¼&lt;/strong&gt;ï¼Œæ‰€ä»¥å®ƒè¢«ç§°ä¸º&lt;strong&gt;åŸºäº&lt;/strong&gt;ç‰©ç†çš„æ¸²æŸ“ï¼ˆPhysically &lt;strong&gt;Based&lt;/strong&gt; Renderingï¼‰ï¼Œè€Œä¸æ˜¯ç‰©ç†æ¸²æŸ“ï¼ˆPhysically Renderingï¼‰ï¼
&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/pbr_1.png"
width="1200"
height="750"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/pbr_1_hu_946e3aa713fde5c0.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/pbr_1_hu_5f0e3ad98c94a193.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="384px"
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¾®å¹³é¢ç†è®ºï¼ˆMicrofacet Theoryï¼‰&lt;/strong&gt; :å¾®å¹³é¢ç†è®ºæ˜¯å°†ç‰©ä½“è¡¨é¢å»ºæ¨¡æˆåšæ— æ•°å¾®è§‚å°ºåº¦ä¸Šæœ‰éšæœºæœå‘çš„ç†æƒ³é•œé¢åå°„çš„å°å¹³é¢ï¼ˆmicrofacetï¼‰çš„ç†è®ºã€‚åœ¨å®é™…çš„PBRå·¥ä½œæµä¸­ï¼Œè¿™ç§ç‰©ä½“è¡¨é¢çš„ä¸è§„åˆ™æ€§ç”¨ç²—ç³™åº¦è´´å›¾æˆ–è€…é«˜å…‰åº¦è´´å›¾æ¥è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èƒ½é‡å®ˆæ’ï¼ˆEnergy Conservationï¼‰&lt;/strong&gt; :å‡ºå°„å…‰çº¿çš„èƒ½é‡æ°¸è¿œä¸èƒ½è¶…è¿‡å…¥å°„å…‰çº¿çš„èƒ½é‡ã€‚éšç€ç²—ç³™åº¦çš„ä¸Šå‡é•œé¢åå°„åŒºåŸŸçš„é¢ç§¯ä¼šå¢åŠ ï¼Œä½œä¸ºå¹³è¡¡ï¼Œé•œé¢åå°„åŒºåŸŸçš„å¹³å‡äº®åº¦åˆ™ä¼šä¸‹é™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è²æ¶…å°”åå°„ï¼ˆFresnel Reflectanceï¼‰&lt;/strong&gt; :å…‰çº¿ä»¥ä¸åŒè§’åº¦å…¥å°„ä¼šæœ‰ä¸åŒçš„åå°„ç‡ã€‚ç›¸åŒçš„å…¥å°„è§’åº¦ï¼Œä¸åŒçš„ç‰©è´¨ä¹Ÿä¼šæœ‰ä¸åŒçš„åå°„ç‡ã€‚ä¸‡ç‰©çš†æœ‰è²æ¶…å°”åå°„ã€‚F0æ˜¯å³ 0 åº¦è§’å…¥å°„çš„è²æ¶…å°”åå°„å€¼ã€‚å¤§å¤šæ•°éé‡‘å±çš„F0èŒƒå›´æ˜¯0.02~0.04ï¼Œå¤§å¤šæ•°é‡‘å±çš„F0èŒƒå›´æ˜¯0.7 ~ 1.0ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çº¿æ€§ç©ºé—´ï¼ˆLinear Spaceï¼‰&lt;/strong&gt; :å…‰ç…§è®¡ç®—å¿…é¡»åœ¨çº¿æ€§ç©ºé—´å®Œæˆï¼Œshaderä¸­è¾“å…¥çš„gammaç©ºé—´çš„è´´å›¾æ¯”å¦‚æ¼«åå°„è´´å›¾éœ€è¦è¢«è½¬æˆçº¿æ€§ç©ºé—´ï¼Œåœ¨å…·ä½“æ“ä½œæ—¶éœ€è¦æ ¹æ®ä¸åŒå¼•æ“å’Œæ¸²æŸ“å™¨çš„ä¸åŒåšä¸åŒçš„æ“ä½œã€‚è€Œæè¿°ç‰©ä½“è¡¨é¢å±æ€§çš„è´´å›¾å¦‚ç²—ç³™åº¦ï¼Œé«˜å…‰è´´å›¾ï¼Œé‡‘å±è´´å›¾ç­‰å¿…é¡»ä¿è¯æ˜¯çº¿æ€§ç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‰²è°ƒæ˜ å°„ï¼ˆTone Mappingï¼‰&lt;/strong&gt; :ä¹Ÿç§°è‰²è°ƒå¤åˆ¶ï¼ˆtone reproductionï¼‰ï¼Œæ˜¯å°†å®½èŒƒå›´çš„ç…§æ˜çº§åˆ«æ‹Ÿåˆåˆ°å±å¹•æœ‰é™è‰²åŸŸå†…çš„è¿‡ç¨‹ã€‚å› ä¸ºåŸºäºHDRæ¸²æŸ“å‡ºæ¥çš„äº®åº¦å€¼ä¼šè¶…è¿‡æ˜¾ç¤ºå™¨èƒ½å¤Ÿæ˜¾ç¤ºæœ€å¤§äº®åº¦ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨è‰²è°ƒæ˜ å°„ï¼Œå°†å…‰ç…§ç»“æœä»HDRè½¬æ¢ä¸ºæ˜¾ç¤ºå™¨èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºçš„LDRã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰©è´¨çš„å…‰å­¦ç‰¹æ€§ï¼ˆSubstance Optical Propertiesï¼‰&lt;/strong&gt;: ç°å®ä¸–ç•Œä¸­æœ‰ä¸åŒç±»å‹çš„ç‰©è´¨å¯åˆ†ä¸ºä¸‰å¤§ç±»ï¼šç»ç¼˜ä½“ï¼ˆInsulatorsï¼‰ï¼ŒåŠå¯¼ä½“ï¼ˆsemi-conductorsï¼‰å’Œå¯¼ä½“ï¼ˆconductorsï¼‰ã€‚åœ¨æ¸²æŸ“å’Œæ¸¸æˆé¢†åŸŸï¼Œæˆ‘ä»¬ä¸€èˆ¬åªå¯¹å…¶ä¸­çš„ä¸¤ä¸ªæ„Ÿå…´è¶£ï¼šå¯¼ä½“ï¼ˆé‡‘å±ï¼‰å’Œç»ç¼˜ä½“ï¼ˆç”µè§£è´¨ï¼Œéé‡‘å±ï¼‰ã€‚å…¶ä¸­éé‡‘å±å…·æœ‰å•è‰²/ç°è‰²é•œé¢åå°„é¢œè‰²ã€‚è€Œé‡‘å±å…·æœ‰å½©è‰²çš„é•œé¢åå°„é¢œè‰²ã€‚å³éé‡‘å±çš„F0æ˜¯ä¸€ä¸ªfloatã€‚è€Œé‡‘å±çš„F0æ˜¯ä¸€ä¸ªfloat3ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="å¾®è¡¨é¢ç†è®º"&gt;å¾®è¡¨é¢ç†è®º
&lt;/h1&gt;&lt;h2 id="å…‰ä¸éå…‰å­¦å¹³å¦è¡¨é¢çš„äº¤äº’åŸç†"&gt;å…‰ä¸éå…‰å­¦å¹³å¦è¡¨é¢çš„äº¤äº’åŸç†
&lt;/h2&gt;&lt;p&gt;å¤§å¤šæ•°çœŸå®ä¸–ç•Œçš„è¡¨é¢ä¸æ˜¯å…‰å­¦ä¸Šå…‰æ»‘çš„ï¼Œä½†æ˜¯å…·æœ‰æ¯”å…‰æ³¢é•¿å¤§å¾—å¤šä½†æ¯”åƒç´ å°çš„å°ºåº¦çš„ä¸è§„åˆ™æ€§ã€‚ è¿™ç§&lt;strong&gt;å¾®è§‚å‡ ä½•&lt;/strong&gt;ï¼ˆmicrogeometryï¼‰å˜åŒ–å¯¼è‡´æ¯ä¸ªè¡¨é¢ç‚¹åå°„ï¼ˆå’ŒæŠ˜å°„ï¼‰ä¸åŒæ–¹å‘çš„å…‰ï¼šæè´¨çš„éƒ¨åˆ†å¤–è§‚ç»„æˆæ˜¯è¿™äº›åå°„å’ŒæŠ˜å°„æ–¹å‘çš„èšåˆç»“æœã€‚
å…‰åœ¨ä¸éå…‰å­¦å¹³å¦è¡¨é¢ï¼ˆNon-Optically-Flat Surfaces)çš„äº¤äº’æ—¶ï¼Œéå…‰å­¦å¹³å¦è¡¨é¢è¡¨ç°çš„åƒä¸€ä¸ªå¾®å°çš„å…‰å­¦å¹³å¦è¡¨é¢çš„å¤§é›†åˆã€‚è¡¨é¢ä¸Šçš„æ¯ä¸ªç‚¹éƒ½ä¼šä»¥ç•¥å¾®ä¸åŒçš„å…¥å°„å…‰åå°„ï¼Œè€Œæœ€ç»ˆåå°„çš„è¡¨é¢å¤–è§‚æ˜¯è®¸å¤šä¸åŒå–å‘çš„ç‚¹çš„èšåˆç»“æœã€‚
åœ¨å¾®è§‚å°ºåº¦ä¸Šï¼Œè¡¨é¢è¶Šæ¨¡ç³Šï¼Œåå°„è¶Šæ¨¡ç³Šï¼Œå› ä¸ºå¾®è¡¨é¢ä¸æ•´ä¸ªå®è§‚è¡¨é¢å–å‘çš„åç¦»æ›´å¼ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/microfacet.png"
width="971"
height="678"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/microfacet_hu_34b8ac89a777becf.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/microfacet_hu_9decd9b4542147ff.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="343px"
&gt;&lt;/p&gt;
&lt;p&gt;å‡ºäºç€è‰²çš„ç›®çš„ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨ç»Ÿè®¡æ–¹æ³•å»å¤„ç†è¿™ç§å¾®è§‚å‡ ä½•ç°è±¡ï¼Œå¹¶è§†ä¸ºè¡¨é¢ä¸Šçš„ç‚¹åœ¨å¤šä¸ªæ–¹å‘ä¸Šåå°„å’ŒæŠ˜å°„å…‰çº¿ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³å¾®è§‚å‡ ä½•å¯¹åå°„ç‡å½±å“çš„æ•°å­¦åˆ†æï¼Œè¢«ç§°ä¸ºå¾®è¡¨é¢ç†è®ºï¼ˆmicrofacet theoryï¼‰ï¼Œè®¸å¤š BRDF æ¨¡å‹éƒ½æ˜¯å»ºç«‹åœ¨è¿™ä¸ªç†è®ºä¹‹ä¸Šçš„ã€‚è¿™ä¸ªå·¥å…·æœ€åˆæ˜¯ç”±å…‰å­¦ç•Œçš„ç ”ç©¶äººå‘˜æå‡ºçš„ï¼Œ1977 å¹´ç”± Blinnå¼•å…¥äº†è®¡ç®—æœºå›¾å½¢å­¦ï¼Œ1981 å¹´ç”± Cook å’Œ Torrance å†æ¬¡å¼•å…¥ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥ç†è®ºçš„åŸºç¡€æ˜¯ï¼Œå°†å¾®è§‚å‡ ä½•å»ºæ¨¡ä¸ºä¸€ç»„å¾®è¡¨é¢çš„é›†åˆã€‚æ¯ä¸ªå¾®è¡¨é¢éƒ½æ˜¯å¹³å¦çš„ï¼Œå®ƒå…·æœ‰ä¸€ä¸ªå¾®è¡¨é¢æ³•çº¿ $m$ ï¼›è¿™äº›å¾®è¡¨é¢ä¼šæ ¹æ® micro-BRDF $f_\mu(l,v,m)$ æ¥å¯¹å…‰çº¿è¿›è¡Œåˆ†åˆ«åå°„ï¼Œå°†æ‰€æœ‰å¾®è¡¨é¢çš„åå°„ç‡åŠ èµ·æ¥ï¼Œå°±æ˜¯æ•´ä¸ªè¡¨é¢çš„ BRDFã€‚é€šå¸¸çš„åšæ³•æ˜¯å°†æ¯ä¸ªå¾®è¡¨é¢éƒ½å½“æˆä¸€ä¸ªå®Œç¾çš„è²æ¶…å°”é•œé¢ï¼Œè¿™ä¼šäº§ç”Ÿé•œé¢çš„å¾®è¡¨é¢ BRDFï¼Œç”¨äºæ¨¡æ‹Ÿè¡¨é¢åå°„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/microfacet2.png"
width="1173"
height="411"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/microfacet2_hu_5a1752233b66c136.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/microfacet2_hu_a8980dc1197cec86.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="285"
data-flex-basis="684px"
&gt;
å›¾ å¾®å¹³é¢ç²—ç³™åº¦å¯¹æè´¨å¤–è§‚çš„å½±å“ã€‚ï¼ˆå›¾ç‰‡æ¥è‡ªMoving Frostbite to PBRï¼ŒSIGGRAPH 2014ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/reflectance.png"
width="1280"
height="746"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/reflectance_hu_1c59d5df4ed92ffc.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/reflectance_hu_f3ba39a33d860e39.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="411px"
&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºåå°„å…‰çº¿ï¼Œå®ƒçš„è¡Œä¸ºå¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯æŠ˜å°„è¿›è¡¨é¢çš„å…‰ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–å‘¢ï¼Ÿè¿™å–å†³äºç‰©è´¨æœ¬èº«çš„ç‰¹æ€§&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äº &lt;strong&gt;é‡‘å±&lt;/strong&gt; ,æŠ˜å°„å…‰ä¼šç«‹åˆ»è¢«å¸æ”¶ï¼Œè¿™æ˜¯å› ä¸ºé‡‘å±ä¸­æœ‰å¤§é‡çš„è‡ªç”±ç”µå­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/metal_reflectance.png"
width="1128"
height="499"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/metal_reflectance_hu_a5822dc213a3be2d.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/metal_reflectance_hu_c3fdc1ecb516494a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="226"
data-flex-basis="542px"
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äº&lt;strong&gt;éé‡‘å±&lt;/strong&gt;ï¼ˆç”µä»‹è´¨æˆ–è€…ç»ç¼˜ä½“ï¼‰ï¼Œä¸€æ—¦å…‰åœ¨å…¶å†…éƒ¨æŠ˜å°„ï¼Œå°±è¡¨ç¤ºä¸ºå¸¸è§„çš„å‚ä¸ä»‹è´¨ï¼Œè¡¨ç°å‡ºå¸æ”¶å’Œæ•£å°„ä¸¤ç§è¡Œä¸ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/no_metal_ref.png"
width="1120"
height="513"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/no_metal_ref_hu_2accb28a86a8fc6a.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/no_metal_ref_hu_f82aef16dea5e660.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="218"
data-flex-basis="523px"
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="æ¼«åå°„å’Œæ¬¡è¡¨é¢æ•£å°„æœ¬è´¨ç›¸åŒ"&gt;æ¼«åå°„å’Œæ¬¡è¡¨é¢æ•£å°„æœ¬è´¨ç›¸åŒ
&lt;/h2&gt;&lt;p&gt;æ¼«åå°„æœ¬è´¨ä¹Ÿæ˜¯æŠ˜å°„å…‰çš„æ¬¡è¡¨é¢æ•£å°„çš„ç»“æœã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯è§‚å¯Ÿå°ºåº¦ï¼Œå¦‚æœæ•£å°„è·ç¦»ç›¸å¯¹äºè§‚å¯Ÿå°ºåº¦ï¼ˆåƒç´ é‡‡æ ·å¤§å°ï¼‰çš„å¤§å°éå¸¸å°ï¼Œé‚£ä¹ˆæ¬¡è¡¨é¢æ•£å°„å¯ä»¥ç›´æ¥è¿‘ä¼¼ä¸ºæ¼«åå°„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/ss.png"
width="1280"
height="682"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/ss_hu_fda8b611c35733fb.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/ss_hu_86ff8b3a1c4c2456.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="450px"
&gt;&lt;/p&gt;
&lt;h1 id="èƒ½é‡å®ˆæ’"&gt;èƒ½é‡å®ˆæ’
&lt;/h1&gt;&lt;h2 id="æ¸²æŸ“æ–¹ç¨‹the-rendering-equation"&gt;æ¸²æŸ“æ–¹ç¨‹ï¼ˆThe Rendering Equationï¼‰
&lt;/h2&gt;&lt;p&gt;æ¸²æŸ“æ–¹ç¨‹æè¿°äº†å…‰èƒ½åœ¨åœºæ™¯ä¸­çš„æµåŠ¨ï¼Œæ˜¯æ¸²æŸ“ä¸­çš„ä¸å¯æ„ŸçŸ¥æ–¹é¢çš„æœ€æŠ½è±¡çš„è¡¨ç¤ºã€‚æ ¹æ®å…‰å­¦çš„ç‰©ç†å­¦åŸç†ï¼Œæ¸²æŸ“æ–¹ç¨‹åœ¨ç†è®ºä¸Šç»™å‡ºäº†ä¸€ä¸ªå®Œç¾çš„è§£ï¼Œè€Œå„ç§å„æ ·çš„æ¸²æŸ“æŠ€æœ¯ï¼Œåªæ˜¯è¿™ä¸ªç†æƒ³ç»“æœçš„è¿‘ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæŸä¸€ç‚¹çš„æ¸²æŸ“æ–¹ç¨‹ï¼Œå¯ä»¥è¡¨ç¤ºä¸º&lt;/p&gt;
$$L_o = L_e + \int_{\Omega} f_r \cdotp L_i \cdotp (\omega_i\cdot n)\cdot d\omega_i$$&lt;ul&gt;
&lt;li&gt;$L_o$ æ˜¯pç‚¹çš„å‡ºå°„å…‰äº®åº¦ã€‚&lt;/li&gt;
&lt;li&gt;$L_e$ æ˜¯pç‚¹å‘å‡ºçš„å…‰äº®åº¦ã€‚&lt;/li&gt;
&lt;li&gt;$f_r$ æ˜¯pç‚¹å…¥å°„æ–¹å‘åˆ°å‡ºå°„æ–¹å‘å…‰çš„åå°„æ¯”ä¾‹ï¼Œå³BxDFï¼Œä¸€èˆ¬ä¸ºBRDFã€‚&lt;/li&gt;
&lt;li&gt;$L_i$ æ˜¯pç‚¹å…¥å°„å…‰äº®åº¦ã€‚&lt;/li&gt;
&lt;li&gt;$(\omega_i \cdotp n)$ æ˜¯å…¥å°„è§’å¸¦æ¥çš„å…¥å°„å…‰è¡°å‡&lt;/li&gt;
&lt;li&gt;$\int_{\Omega} &amp;hellip;d w_i$ æ˜¯å…¥å°„æ–¹å‘åŠçƒçš„ç§¯åˆ†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨å®æ—¶æ¸²æŸ“ä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åå°„æ–¹ç¨‹ï¼ˆThe Reflectance Equationï¼‰åˆ™æ˜¯æ¸²æŸ“æ–¹ç¨‹çš„ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬ï¼Œæˆ–è€…è¯´ä¸€ä¸ªç‰¹ä¾‹ã€‚&lt;/p&gt;
$$L_o =\int_{\Omega} f_r \cdotp L_i \cdotp (\omega_i \cdotp n) \cdotp d \omega_i$$&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/ref_equation.png"
width="739"
height="398"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/ref_equation_hu_e34526b65742b69b.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/ref_equation_hu_c5e2622307deb92e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="185"
data-flex-basis="445px"
&gt;&lt;/p&gt;
&lt;h2 id="èƒ½é‡å®ˆæ’-1"&gt;èƒ½é‡å®ˆæ’
&lt;/h2&gt;&lt;p&gt;æ¦‚å¿µï¼šå‡ºå°„å…‰çº¿çš„èƒ½é‡ æ°¸è¿œä¸å¤§äº å…¥å°„å…‰çº¿çš„èƒ½é‡&lt;/p&gt;
&lt;p&gt;è¡¨ç°ï¼šéšç€ç²—ç³™åº¦çš„ä¸Šå‡é•œé¢åå°„åŒºåŸŸçš„é¢ç§¯ä¼šå¢åŠ ï¼Œä½œä¸ºå¹³è¡¡ï¼Œé•œé¢åå°„åŒºåŸŸçš„å¹³å‡äº®åº¦åˆ™ä¼šä¸‹é™ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•ç¡®ä¿èƒ½é‡å®ˆæ’ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åå°„æ–¹ç¨‹ï¼š&lt;/p&gt;
$$L_o =\int_{\Omega} f_r \cdotp L_i \cdotp (\omega_i \cdotp n) \cdotp d \omega_i$$&lt;p&gt;
ç®€å•ç†è§£ï¼šå‡ºå°„å…‰çº¿å¼ºåº¦ = å…¥å°„å…‰å¼ºåº¦ * å…¥å°„è§’åº¦è¡°å‡ * åå°„æ¯”ä¾‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$L_i$ ï¼šå…¥å°„å…‰å¼ºåº¦&lt;/li&gt;
&lt;li&gt;$(\omega_i \cdotp n)$ : å…¥å°„è§’åº¦å¸¦æ¥çš„å…¥å°„å…‰è¡°å‡&lt;/li&gt;
&lt;li&gt;$f_r$ : åå°„æ¯”ä¾‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä½•æ±‚åå°„æ¯”ä¾‹ï¼Ÿï¼šBRDF !&lt;/p&gt;
&lt;h2 id="bxdf"&gt;BxDF
&lt;/h2&gt;&lt;p&gt;BxDF ä¸€èˆ¬è€Œè¨€æ˜¯å¯¹BRDFã€BTDFã€BSDFã€BSSRDFç­‰å‡ ä¸ªåŒå‘åˆ†å¸ƒå‡½æ•°çš„ä¸€ä¸ªç»Ÿä¸€è¡¨ç¤ºã€‚
å…¶ä¸­ï¼ŒBSDFå¯ä»¥çœ‹ä½œBRDFå’ŒBTDFæ›´ä¸€èˆ¬çš„å½¢å¼ï¼Œè€Œä¸”BSDF = BRDF + BTDFã€‚
BSSRDFå’ŒBRDFçš„ä¸åŒä¹‹å¤„åœ¨äºï¼ŒBSSRDFå¯ä»¥æŒ‡å®šä¸åŒçš„å…‰çº¿å…¥å°„ä½ç½®å’Œå‡ºå°„ä½ç½®ã€‚
BRDFæœ€ä¸ºç®€å•ï¼Œä¹Ÿæœ€ä¸ºå¸¸ç”¨ã€‚å› ä¸ºæ¸¸æˆå’Œç”µå½±ä¸­çš„å¤§å¤šæ•°ç‰©ä½“éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œç”¨BRDFå°±å®Œå…¨è¶³å¤Ÿã€‚è€ŒBSDFã€BTDFã€BSSRDFå¾€å¾€æ›´å¤šç”¨äºåŠé€æ˜æè´¨å’Œæ¬¡è¡¨é¢æ•£å°„æè´¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/bxdf.png"
width="597"
height="800"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/bxdf_hu_a1e107fbac0adc15.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/bxdf_hu_687402be8e225da0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="179px"
&gt;&lt;/p&gt;
&lt;h2 id="brdfbidirectional-reflectance-distribution-function"&gt;BRDFï¼ˆBidirectional Reflectance Distribution Functionï¼‰
&lt;/h2&gt;&lt;p&gt;&lt;a class="link" href="https://en.wikipedia.org/wiki/Bidirectional_reflectance_distribution_function" target="_blank" rel="noopener"
&gt;Wikipedia&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŒå‘åˆ†å¸ƒåå°„å‡½æ•°ï¼Œ$f_r(\omega_i,\omega_r)$ æ˜¯å››ä¸ªå®å˜é‡çš„å‡½æ•°ï¼Œç”¨äºå®šä¹‰å…‰æºçš„å…‰å¦‚ä½•ä»ä¸é€æ˜è¡¨é¢åå°„ã€‚æ¯ä¸ªæ–¹å‘ $\omega$ ç”±å¤©é¡¶è§’å’Œæ–¹ä½è§’ç¡®å®šï¼Œæ‰€ä»¥æ˜¯å››ä¸ªå‚æ•°çš„å‡½æ•°ã€‚BRDFæè¿°äº†å‡ºå°„å…‰æ–¹å‘çš„radianceå’Œå…¥å°„åˆ°è¡¨é¢çš„irradianceçš„æ¯”ä¾‹ã€‚&lt;br&gt;
å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå›¾å½¢å­¦ä¸­çš„BRDFé€šå¸¸æ¥è¯´åº”è¯¥æ˜¯SVBRDFï¼ˆSpatially Varying Bidirectional Reflectance Distribution Functionï¼‰æˆ–è€…SBRDFï¼ˆSpatially Bidirectional Reflectance Distribution Functionï¼‰ï¼Œå³ $f_r(\omega_i,\omega_r, x)$ ï¼Œ $x$ æ˜¯ç‰©ä½“è¡¨é¢çš„2Dä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¥æ ¼æ¥è¯´ï¼ŒåŒæ ·ä½¿ç”¨ $\omega_i$ å’Œ $\omega_o$ ä½œä¸ºè¾“å…¥å‚æ•°çš„Blinn-Phong å…‰ç…§æ¨¡å‹ä¹Ÿè¢«äººè®¤ä¸ºä¸€ä¸ªBRDFæ¨¡å‹ï¼Œä½†æ˜¯ Blinn-Phong æ¨¡å‹å¹¶æ²¡æœ‰éµå¾ªèƒ½é‡å®ˆæ’å®šå¾‹ï¼Œå› æ­¤å®ƒä¸æ˜¯åŸºäºç‰©ç†çš„æ¸²æŸ“ã€‚&lt;/p&gt;
&lt;h3 id="åŸºäºç‰©ç†çš„brdf"&gt;åŸºäºç‰©ç†çš„BRDF
&lt;/h3&gt;&lt;p&gt;åŸºäºç‰©ç†çš„BRDFè¿˜æœ‰ä¸€äº›æ€§è´¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;BRDFçš„å€¼æ€»æ˜¯å¤§äºç­‰äºé›¶çš„&lt;/li&gt;
&lt;li&gt;éµä»äº¥å§†éœå…¹å…‰è·¯å¯é€†æ€§ï¼ˆHelmholtz Recoprpcity Ruleï¼‰ï¼Œå³å…‰è·¯ç›¸åå€¼ä¸å˜ã€‚&lt;/li&gt;
&lt;li&gt;èƒ½é‡å®ˆæ’ï¼Œå¯¹äºæ‰€æœ‰çš„BRDFçš„åœ¨æ•´ä¸ªçƒé¢çš„ç§¯åˆ†æ€»æ˜¯å°äº1&lt;/li&gt;
&lt;li&gt;çº¿æ€§ç‰¹å¾ï¼Œè¡¨é¢ä¸ŠæŸä¸€ç‚¹çš„å…¨éƒ¨åå°„è¾å°„åº¦å¯ä»¥ç®€å•åœ°è¡¨ç¤ºä¸ºå„BRDFåå°„è¾å°„åº¦ä¹‹å’Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="cook-torrance-åå°„ç‡æ–¹ç¨‹"&gt;Cook-Torrance åå°„ç‡æ–¹ç¨‹
&lt;/h1&gt;&lt;p&gt;ç°åœ¨æœ‰å¥½å‡ ç§BRDFéƒ½èƒ½å¾—å‡ºå¯¹äºç‰©ä½“è¡¨é¢å¯¹äºå…‰çš„ååº”ï¼Œä½†æ˜¯å‡ ä¹æ‰€æœ‰å®æ—¶æ¸²æŸ“ç®¡çº¿éƒ½æ˜¯ä½¿ç”¨çš„åŒä¸€å¥—æ¨¡å‹ï¼š Cook-Torrance BRDF æ¨¡å‹ã€‚&lt;/p&gt;
$$f_r = k_d f_{lambert} + k_s f_{cook-torrance}$$&lt;p&gt;Cook-Torrance BRDF æ¨¡å‹å…¼æœ‰æ¼«åå°„å’Œé•œé¢åå°„ä¸¤ä¸ªéƒ¨åˆ†ï¼Œ $k_d$ å°±æ˜¯å…¥å°„å…‰çº¿ä¸­çš„æŠ˜å°„éƒ¨åˆ†å çš„æ¯”ä¾‹ï¼Œè€Œ $k_s$ æ˜¯åå°„éƒ¨åˆ†çš„æ¯”ä¾‹ã€‚
å…¶ä¸­ï¼Œ $f_{lambert} = \frac{c}{\pi}$ ï¼Œè¡¨ç¤ºçš„æ˜¯è¡¨é¢é¢œè‰²ï¼Œé™¤ä»¥ $\pi$ æ˜¯ä¸ºäº†å¯¹æ¼«åå°„è¿›è¡Œå½’ä¸€åŒ–ï¼Œå› ä¸ºBRDFçš„ç§¯åˆ†æ–¹ç¨‹å— $\pi$ å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰å­˜åœ¨ç€è®¸å¤šä¸åŒç±»å‹çš„æ¨¡å‹æ¥å®ç°BRDFçš„æ¼«åå°„éƒ¨åˆ†ï¼Œå¤§å¤šçœ‹ä¸Šå»éƒ½ç›¸å½“çœŸå®ï¼Œä½†æ˜¯ç›¸åº”çš„è¿ç®—å¼€é”€ä¹Ÿéå¸¸çš„æ˜‚è´µã€‚ä¸è¿‡æŒ‰ç…§Epicå…¬å¸ç»™å‡ºçš„ç»“è®ºï¼ŒLambertianæ¼«åå°„æ¨¡å‹å·²ç»è¶³å¤Ÿåº”ä»˜å¤§å¤šæ•°å®æ—¶æ¸²æŸ“çš„ç”¨é€”äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/diffuse_brdf.png"
width="1268"
height="743"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/diffuse_brdf_hu_ad4638f592150984.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/diffuse_brdf_hu_ea3ab5b70d5e5949.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="409px"
&gt;&lt;/p&gt;
&lt;p&gt;è€Œé•œé¢åå°„ $f_{cook-torrance}$ åˆ™æ›´åŠ é«˜çº§ä¸€äº›ï¼Œå½¢å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
$$f_{cook-torrance} = \frac {DFG}{4(\omega_o \cdotp n)(\omega_i \cdotp n)}$$&lt;p&gt;Cook-Torrance BRDFçš„é•œé¢åå°„éƒ¨åˆ†åŒ…å«ä¸‰ä¸ªå‡½æ•°ï¼Œæ­¤å¤–åˆ†æ¯éƒ¨åˆ†è¿˜æœ‰ä¸€ä¸ªæ ‡å‡†åŒ–å› å­ ã€‚å­—æ¯Dï¼ŒFä¸Gåˆ†åˆ«ä»£è¡¨ç€ä¸€ç§ç±»å‹çš„å‡½æ•°ï¼Œå„ä¸ªå‡½æ•°åˆ†åˆ«ç”¨æ¥è¿‘ä¼¼çš„è®¡ç®—å‡ºè¡¨é¢åå°„ç‰¹æ€§çš„ä¸€ä¸ªç‰¹å®šéƒ¨åˆ†ã€‚ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«ä¸ºæ³•çº¿åˆ†å¸ƒå‡½æ•°(Normal &lt;strong&gt;D&lt;/strong&gt;istribution Function)ï¼Œè²æ¶…å°”æ–¹ç¨‹(&lt;strong&gt;F&lt;/strong&gt;resnel Rquation)å’Œå‡ ä½•å‡½æ•°(&lt;strong&gt;G&lt;/strong&gt;eometry Function)ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ³•çº¿åˆ†å¸ƒå‡½æ•°&lt;/strong&gt;ï¼šä¼°ç®—åœ¨å—åˆ°è¡¨é¢ç²—ç³™åº¦çš„å½±å“ä¸‹ï¼Œæœå‘æ–¹å‘ä¸åŠç¨‹å‘é‡ä¸€è‡´çš„å¾®å¹³é¢çš„æ•°é‡ã€‚è¿™æ˜¯ç”¨æ¥ä¼°ç®—å¾®å¹³é¢çš„ä¸»è¦å‡½æ•°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‡ ä½•å‡½æ•°&lt;/strong&gt; ï¼šæè¿°äº†å¾®å¹³é¢è‡ªæˆé˜´å½±çš„å±æ€§ã€‚å½“ä¸€ä¸ªå¹³é¢ç›¸å¯¹æ¯”è¾ƒç²—ç³™çš„æ—¶å€™ï¼Œå¹³é¢è¡¨é¢ä¸Šçš„å¾®å¹³é¢æœ‰å¯èƒ½æŒ¡ä½å…¶ä»–çš„å¾®å¹³é¢ä»è€Œå‡å°‘è¡¨é¢æ‰€åå°„çš„å…‰çº¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è²æ¶…å°”æ–¹ç¨‹&lt;/strong&gt;ï¼šè²æ¶…å°”æ–¹ç¨‹æè¿°çš„æ˜¯åœ¨ä¸åŒçš„è¡¨é¢è§’ä¸‹è¡¨é¢æ‰€åå°„çš„å…‰çº¿æ‰€å çš„æ¯”ç‡ã€‚
&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/specular_brdf.png"
width="1280"
height="645"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/specular_brdf_hu_ff1019cd9ef6901c.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/specular_brdf_hu_a7824f33e385b918.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="476px"
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="æ³•çº¿åˆ†å¸ƒå‡½æ•°"&gt;æ³•çº¿åˆ†å¸ƒå‡½æ•°
&lt;/h2&gt;&lt;p&gt;æ³•çº¿åˆ†å¸ƒå‡½æ•°Dè¡¨æ˜çš„æ˜¯ä»ç»Ÿè®¡å­¦ä¸Šè¿‘ä¼¼çš„è¡¨ç¤ºçš„ä¸å‘é‡ç›¸åŒæ–¹å‘çš„å¾®å¹³é¢çš„æ¯”ç‡ã€‚ç›®å‰æœ‰å¾ˆå¤šNDFéƒ½å¯ä»¥ä»ç»Ÿè®¡å­¦ä¸Šä¼°ç®—å¾®å¹³é¢çš„æ€»ä½“å–å‘åº¦ï¼Œåªè¦ç»™å®šä¸€äº›ç²—ç³™åº¦çš„å‚æ•°ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œè¦ç”¨åˆ°çš„æ˜¯Trowbridge-Reitz GGX:&lt;/p&gt;
$$NDF_{GGXTR}(n,h,\alpha) = \frac{\alpha^2} {\pi((n \cdotp h)^2(\alpha^2 -1)+1)^2}$$&lt;p&gt;å…¶ä¸­ï¼Œ $n$ æ˜¯è¡¨é¢æ³•çº¿ï¼Œ $h$ æ˜¯åŠç¨‹å‘é‡ï¼Œ $\alpha$ æ˜¯è¡¨é¢ç²—ç³™åº¦ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æœ&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/ndf.png"
width="800"
height="163"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/ndf_hu_cc1b8a16e44612c4.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/ndf_hu_5b218e0e2cb17a93.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="490"
data-flex-basis="1177px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/ggx_and_phong.png"
width="393"
height="181"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/ggx_and_phong_hu_63dd7d87cfc93038.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/ggx_and_phong_hu_e736ae6ea59a3ad8.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="217"
data-flex-basis="521px"
&gt;&lt;/p&gt;
&lt;p&gt;å½“ç²—ç³™åº¦å¾ˆä½ï¼ˆä¹Ÿå°±æ˜¯è¯´è¡¨é¢å¾ˆå…‰æ»‘ï¼‰çš„æ—¶å€™ï¼Œä¸åŠç¨‹å‘é‡å–å‘ä¸€è‡´çš„å¾®å¹³é¢ä¼šé«˜åº¦é›†ä¸­åœ¨ä¸€ä¸ªå¾ˆå°çš„åŠå¾„èŒƒå›´å†…ã€‚ç”±äºè¿™ç§é›†ä¸­æ€§ï¼ŒNDFæœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ªéå¸¸æ˜äº®çš„æ–‘ç‚¹ã€‚ä½†æ˜¯å½“è¡¨é¢æ¯”è¾ƒç²—ç³™çš„æ—¶å€™ï¼Œå¾®å¹³é¢çš„å–å‘æ–¹å‘ä¼šæ›´åŠ çš„éšæœºã€‚ä½ å°†ä¼šå‘ç°ä¸_h_å‘é‡å–å‘ä¸€è‡´çš„å¾®å¹³é¢åˆ†å¸ƒåœ¨ä¸€ä¸ªå¤§å¾—å¤šçš„åŠå¾„èŒƒå›´å†…ï¼Œä½†æ˜¯åŒæ—¶è¾ƒä½çš„é›†ä¸­æ€§ä¹Ÿä¼šè®©æˆ‘ä»¬çš„æœ€ç»ˆæ•ˆæœæ˜¾å¾—æ›´åŠ ç°æš—ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-GLSL" data-lang="GLSL"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;D_GGX_TR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;vec3&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;vec3&lt;/span&gt; &lt;span class="n"&gt;H&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;a2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;NdotH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;H&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;NdotH2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;NdotH&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;NdotH&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;nom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;denom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NdotH2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a2&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;denom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PI&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;denom&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;denom&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;nom&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;denom&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="å‡ ä½•å‡½æ•°"&gt;å‡ ä½•å‡½æ•°
&lt;/h2&gt;&lt;p&gt;å‡ ä½•å‡½æ•°ä»ç»Ÿè®¡å­¦ä¸Šè¿‘ä¼¼çš„æ±‚å¾—äº†å¾®å¹³é¢ä¹‹é—´äº’ç›¸é®è”½çš„æ¯”ä¾‹ï¼Œè¿™ç§ç›¸äº’é®è”½ä¼šæŸè€—å…‰çº¿çš„èƒ½é‡ã€‚ä¸NDFç±»ä¼¼ï¼Œå‡ ä½•å‡½æ•°ä½¿ç”¨ä¸€ä¸ªææ–™çš„ç²—ç³™åº¦å‚æ•°ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œç²—ç³™åº¦è¾ƒé«˜çš„è¡¨é¢çš„å¾®å¹³é¢ç›¸äº’é®è”½çš„æ¦‚ç‡å°±è¶Šé«˜ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºå‡ ä½•å‡½æ•°çš„è¯¦ç»†è®ºè¿°ï¼Œè§&lt;a class="link" href="https://zhuanlan.zhihu.com/p/81708753" target="_blank" rel="noopener"
&gt;æ¯›æ˜Ÿäº‘PBRç™½çš®ä¹¦ï¼ˆ5ï¼‰ï¼šå‡ ä½•å‡½æ•°æ€»ç»“&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯GGXå’Œ Schlick-Beckmann è¿‘ä¼¼çš„ç»“åˆä½“ï¼Œå› æ­¤ä¹Ÿç§°ä¸º Schlick-GGX&lt;/p&gt;
$$G_{SchlickGGX}ï¼ˆn,v,kï¼‰= \frac{n \cdotp v}{(n \cdotp v)(1-k)+k}$$&lt;p&gt;
å…¶ä¸­ ï¼Œ$k_{direct} = \frac{(\alpha + 1)^2}{8}$ ï¼Œç›´æ¥å…‰ç…§ã€‚ $k_{IBL} = \frac{\alpha^2}{2}$ ï¼Œå±å¹•ç©ºé—´å…‰ç…§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æœ‰æ•ˆçš„ä¼°ç®—å‡ ä½•éƒ¨åˆ†ï¼Œéœ€è¦å°†è§‚å¯Ÿæ–¹å‘ï¼ˆå‡ ä½•é®è”½(Geometry Obstruction)ï¼‰å’Œå…‰çº¿æ–¹å‘å‘é‡ï¼ˆå‡ ä½•é˜´å½±(Geometry Shadowing)ï¼‰éƒ½è€ƒè™‘è¿›å»ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å²å¯†æ–¯æ³•(Smithâ€™s method)æ¥æŠŠä¸¤è€…éƒ½çº³å…¥å…¶ä¸­ï¼š&lt;/p&gt;
$$G(n,v,l,k)= G_{sub}(n,v,k)G_{sub}(n,l,k)$$&lt;p&gt;å¯ä»¥å¾—åˆ°è¿™æ ·çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/geo_func.png"
width="800"
height="163"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/geo_func_hu_8b5f20756ed58318.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/geo_func_hu_eef5bc85a681d74c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="490"
data-flex-basis="1177px"
&gt;&lt;/p&gt;
&lt;p&gt;å‡ ä½•å‡½æ•°æ˜¯ä¸€ä¸ªå€¼åŸŸä¸º[0.0, 1.0]çš„ä¹˜æ•°ï¼Œå…¶ä¸­ç™½è‰²æˆ–è€…è¯´1.0è¡¨ç¤ºæ²¡æœ‰å¾®å¹³é¢é˜´å½±ï¼Œè€Œé»‘è‰²æˆ–è€…è¯´0.0åˆ™è¡¨ç¤ºå¾®å¹³é¢å½»åº•è¢«é®è”½ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-GLSL" data-lang="GLSL"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;GeometrySchlickGGX&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;NdotV&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;nom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;NdotV&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;denom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;NdotV&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;nom&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;denom&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;GeometrySmith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;vec3&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;vec3&lt;/span&gt; &lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;vec3&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;NdotV&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;NdotL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;ggx1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GeometrySchlickGGX&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NdotV&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;float&lt;/span&gt; &lt;span class="n"&gt;ggx2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GeometrySchlickGGX&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NdotL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ggx1&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;ggx2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="è²æ¶…å°”æ–¹ç¨‹"&gt;è²æ¶…å°”æ–¹ç¨‹
&lt;/h2&gt;&lt;p&gt;è²æ¶…å°”ï¼ˆå‘éŸ³ä¸ºFreh-nelï¼‰æ–¹ç¨‹æè¿°çš„æ˜¯è¢«åå°„çš„å…‰çº¿å¯¹æ¯”å…‰çº¿è¢«æŠ˜å°„çš„éƒ¨åˆ†æ‰€å çš„æ¯”ç‡ï¼Œè¿™ä¸ªæ¯”ç‡ä¼šéšç€æˆ‘ä»¬è§‚å¯Ÿçš„è§’åº¦ä¸åŒè€Œä¸åŒã€‚å½“å…‰çº¿ç¢°æ’åˆ°ä¸€ä¸ªè¡¨é¢çš„æ—¶å€™ï¼Œè²æ¶…å°”æ–¹ç¨‹ä¼šæ ¹æ®è§‚å¯Ÿè§’åº¦å‘Šè¯‰æˆ‘ä»¬è¢«åå°„çš„å…‰çº¿æ‰€å çš„ç™¾åˆ†æ¯”ã€‚åˆ©ç”¨è¿™ä¸ªåå°„æ¯”ç‡å’Œèƒ½é‡å®ˆæ’åŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¾—å‡ºå…‰çº¿è¢«æŠ˜å°„çš„éƒ¨åˆ†ä»¥åŠå…‰çº¿å‰©ä½™çš„èƒ½é‡ã€‚&lt;/p&gt;
&lt;p&gt;å½“å‚ç›´è§‚å¯Ÿçš„æ—¶å€™ï¼Œä»»ä½•ç‰©ä½“æˆ–è€…æè´¨è¡¨é¢éƒ½æœ‰ä¸€ä¸ªåŸºç¡€åå°„ç‡(Base Reflectivity)ï¼Œä½†æ˜¯å¦‚æœä»¥ä¸€å®šçš„è§’åº¦å¾€å¹³é¢ä¸Šçœ‹çš„æ—¶å€™æ‰€æœ‰åå…‰éƒ½ä¼šå˜å¾—æ˜æ˜¾èµ·æ¥ã€‚ä½ å¯ä»¥è‡ªå·±å°è¯•ä¸€ä¸‹ï¼Œç”¨å‚ç›´çš„è§†è§’è§‚å¯Ÿä½ è‡ªå·±çš„æœ¨åˆ¶/é‡‘å±æ¡Œé¢ï¼Œæ­¤æ—¶ä¸€å®šåªæœ‰æœ€åŸºæœ¬çš„åå°„æ€§ã€‚ä½†æ˜¯å¦‚æœä½ ä»è¿‘ä¹90åº¦ï¼ˆè¯‘æ³¨ï¼šåº”è¯¥æ˜¯æŒ‡å’Œæ³•çº¿çš„å¤¹è§’ï¼‰çš„è§’åº¦è§‚å¯Ÿçš„è¯åå…‰å°±ä¼šå˜å¾—æ˜æ˜¾çš„å¤šã€‚å¦‚æœä»ç†æƒ³çš„90åº¦è§†è§’è§‚å¯Ÿï¼Œæ‰€æœ‰çš„å¹³é¢ç†è®ºä¸Šæ¥è¯´éƒ½èƒ½å®Œå…¨çš„åå°„å…‰çº¿ã€‚è¿™ç§ç°è±¡å› è²æ¶…å°”è€Œé—»åï¼Œå¹¶ä½“ç°åœ¨äº†è²æ¶…å°”æ–¹ç¨‹ä¹‹ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è²æ¶…å°”æ–¹ç¨‹æ˜¯ä¸€ä¸ªç›¸å½“å¤æ‚çš„æ–¹ç¨‹å¼ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯éº¦å…‹æ–¯éŸ¦æ–¹ç¨‹ç»„çš„ä¸€ä¸ªç‰¹æ®Šè§£ã€‚ä¸è¿‡å¹¸è¿çš„æ˜¯è²æ¶…å°”æ–¹ç¨‹å¯ä»¥ç”¨Fresnel-Schlickè¿‘ä¼¼æ³•æ±‚å¾—è¿‘ä¼¼è§£ï¼š&lt;/p&gt;
$$F_{Schlick}(h,v,F_0) = F_0 + (1-F0)(1-(h \cdotp v))^5$$&lt;p&gt;$F_0$ è¡¨ç¤ºå¹³é¢çš„åŸºç¡€åå°„ç‡ï¼Œå®ƒæ˜¯åˆ©ç”¨æ‰€è°“çš„æŠ˜å°„æŒ‡æ•°ï¼ˆIndices of Refraction ,IORï¼‰è®¡ç®—å¾—å‡ºçš„ã€‚ç„¶åæ­£å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬æœè¿™ç•¥å°„è§’çš„æ–¹å‘ä¸Šçœ‹æ—¶ï¼Œåå…‰è¶Šæ¥è¶Šå¼ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/frenel.png"
width="256"
height="245"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/frenel_hu_28523981e05d455a.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/frenel_hu_c6633b06c8f16399.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/frenel2.png"
width="711"
height="671"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/frenel2_hu_a17efa382fcceb00.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/frenel2_hu_5535d9347bcd85a9.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="105"
data-flex-basis="254px"
&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼šFresnel-Schlick è¿‘ä¼¼ä»…ä»…æ˜¯å¯¹éé‡‘å±è¡¨é¢åšäº†å®šä¹‰ï¼Œå¯¹äºé‡‘å±è¡¨é¢ï¼Œæˆ‘ä»¬ä¸èƒ½é€šè¿‡è®¡ç®—å¾—å‡º $F_0$ æ‰€ä»¥é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šé¢„è®¡ç®—å‡º $F_0$ ä½¿ç”¨ä¸€å¼ çº¹ç†å­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/f0.png"
width="827"
height="378"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/f0_hu_1e7ec8f906d432b3.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/f0_hu_5258774fc44a64c4.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="218"
data-flex-basis="525px"
&gt;&lt;/p&gt;
&lt;h2 id="å®Œæ•´å…¬å¼"&gt;å®Œæ•´å…¬å¼
&lt;/h2&gt;$$L_o(p,\omega_o) = \int_\Omega (k_d \frac{c}{\pi}+k_s \frac{DFG}{4(\omega_o \cdotp n)(\omega_i\cdotp n)})L_i(p,\omega_i) n \cdotp \omega_{i} d \omega_i$$&lt;h1 id="è¿ªå£«å°¼åŸåˆ™çš„bxdf"&gt;è¿ªå£«å°¼åŸåˆ™çš„BxDF
&lt;/h1&gt;&lt;p&gt;åŸºäºç‰©ç†çš„æ¸²æŸ“ï¼ˆPhyasically Based Rendering )æŠ€æœ¯ï¼Œè‡ªä»è¿ªå£«å°¼åœ¨SIGGRAPH 2012ä¸Šæå‡ºäº†è‘—åçš„â€œè¿ªå£«å°¼åŸåˆ™çš„BRDFï¼ˆDisney Principled BRDFï¼‰åï¼Œç”±äºé«˜åº¦çš„æ˜“ç”¨æ€§å’Œæ–¹ä¾¿çš„çš„å·¥ä½œæµï¼Œå·²ç»è¢«ç”µå½±å’Œæ¸¸æˆä¸šç•Œå¹¿æ³›ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿ªå£«å°¼åŠ¨ç”»å·¥ä½œå®¤åˆ™æ˜¯è¿™æ¬¡PBRé©å‘½çš„é‡è¦æ¨åŠ¨è€…ã€‚è¿ªå£«å°¼çš„Brent BurleyäºSIGGRAPH 2012ä¸Šè¿›è¡Œäº†è‘—åçš„talkã€ŠPhysically-based shading at Disneyã€‹ï¼Œæå‡ºäº†è¿ªå£«å°¼åŸåˆ™çš„BRDFï¼ˆDisney Principled BRDFï¼‰ï¼Œ ç”±äºå…¶é«˜åº¦çš„é€šç”¨æ€§ï¼Œå°†æè´¨å¤æ‚çš„ç‰©ç†å±æ€§ï¼Œç”¨éå¸¸ç›´è§‚çš„å°‘é‡å˜é‡è¡¨è¾¾äº†å‡ºæ¥ï¼ˆå¦‚é‡‘å±åº¦metallicå’Œç²—ç³™åº¦roughnessï¼‰ï¼Œåœ¨ç”µå½±ä¸šç•Œå’Œæ¸¸æˆä¸šç•Œå¼•èµ·äº†ä¸å°çš„è½°åŠ¨ã€‚ä»æ­¤ï¼ŒåŸºäºç‰©ç†çš„æ¸²æŸ“æ­£å¼è¿›å…¥å¤§ä¼—çš„è§†é‡ã€‚&lt;/p&gt;
&lt;h2 id="è¿ªå£«å°¼åŸåˆ™çš„brdf"&gt;è¿ªå£«å°¼åŸåˆ™çš„BRDF
&lt;/h2&gt;&lt;p&gt;åœ¨2012å¹´è¿ªå£«å°¼åŸåˆ™çš„BRDFè¢«æå‡ºä¹‹å‰ï¼ŒåŸºäºç‰©ç†çš„æ¸²æŸ“éƒ½éœ€è¦å¤§é‡å¤æ‚è€Œä¸ç›´è§‚çš„å‚æ•°ï¼Œæ­¤æ—¶PBRçš„ä¼˜åŠ¿ï¼Œå¹¶æ²¡æœ‰é‚£ä¹ˆæ˜æ˜¾ã€‚åœ¨2012å¹´è¿ªå£«å°¼æå‡ºï¼Œä»–ä»¬çš„&lt;strong&gt;ç€è‰²æ¨¡å‹æ˜¯è‰ºæœ¯å¯¼å‘ï¼ˆArt Directableï¼‰çš„ï¼Œè€Œä¸ä¸€å®šè¦æ˜¯å®Œå…¨ç‰©ç†æ­£ç¡®ï¼ˆphysically correctï¼‰çš„&lt;/strong&gt; ï¼Œå¹¶ä¸”å¯¹å¾®å¹³é¢BRDFçš„å„é¡¹éƒ½è¿›è¡Œäº†ä¸¥è°¨çš„è°ƒæŸ¥ï¼Œå¹¶æå‡ºäº†æ¸…æ™°æ˜ç¡®è€Œç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;è¿ªå£«å°¼åŸåˆ™çš„BRDFï¼ˆDisney Principled BRDFï¼‰æ ¸å¿ƒç†å¿µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åº”ä½¿ç”¨ç›´è§‚çš„å‚æ•°ï¼Œè€Œä¸æ˜¯ç‰©ç†ç±»çš„æ™¦æ¶©å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;å‚æ•°åº”å°½å¯èƒ½å°‘ã€‚&lt;/li&gt;
&lt;li&gt;å‚æ•°åœ¨å…¶åˆç†èŒƒå›´å†…åº”è¯¥ä¸º0åˆ°1ã€‚&lt;/li&gt;
&lt;li&gt;å…è®¸å‚æ•°åœ¨æœ‰æ„ä¹‰æ—¶è¶…å‡ºæ­£å¸¸çš„åˆç†èŒƒå›´ã€‚&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰å‚æ•°ç»„åˆåº”å°½å¯èƒ½å¥å£®å’Œåˆç†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸Šäº”æ¡åŸåˆ™ï¼Œå¾ˆå¥½åœ°ä¿è¯äº†è¿ªå£«å°¼åŸåˆ™çš„BRDFçš„æ˜“ç”¨æ€§ã€‚&lt;/p&gt;
&lt;h3 id="disney-principled-brdfå‚æ•°"&gt;Disney Principled BRDFå‚æ•°
&lt;/h3&gt;&lt;p&gt;ä»¥ä¸Šè¿°ç†å¿µä¸ºåŸºç¡€ï¼Œè¿ªå£«å°¼åŠ¨ç”»å·¥ä½œå®¤å¯¹æ¯ä¸ªå‚æ•°çš„æ·»åŠ è¿›è¡Œäº†æŠŠå…³ï¼Œæœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªé¢œè‰²å‚æ•°ï¼ˆbaseColorï¼‰å’Œä¸‹é¢æè¿°çš„åä¸ªæ ‡é‡å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;baseColorï¼ˆåŸºç¡€è‰²ï¼‰&lt;/strong&gt;ï¼šè¡¨é¢é¢œè‰²ï¼Œé€šå¸¸ç”±çº¹ç†è´´å›¾æä¾›ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;subsurfaceï¼ˆæ¬¡è¡¨é¢ï¼‰&lt;/strong&gt;ï¼šä½¿ç”¨æ¬¡è¡¨é¢è¿‘ä¼¼æ§åˆ¶æ¼«åå°„å½¢çŠ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;metallicï¼ˆé‡‘å±åº¦ï¼‰&lt;/strong&gt;ï¼šé‡‘å±ï¼ˆ0 =ç”µä»‹è´¨ï¼Œ1=é‡‘å±ï¼‰ã€‚è¿™æ˜¯ä¸¤ç§ä¸åŒæ¨¡å‹ä¹‹é—´çš„çº¿æ€§æ··åˆã€‚é‡‘å±æ¨¡å‹æ²¡æœ‰æ¼«åå°„æˆåˆ†ï¼Œå¹¶ä¸”è¿˜å…·æœ‰ç­‰äºåŸºç¡€è‰²çš„ç€è‰²å…¥å°„é•œé¢åå°„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;specularï¼ˆé•œé¢åå°„å¼ºåº¦ï¼‰&lt;/strong&gt;ï¼šå…¥å°„é•œé¢åå°„é‡ã€‚ç”¨äºå–ä»£æŠ˜å°„ç‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;specularTintï¼ˆé•œé¢åå°„é¢œè‰²ï¼‰&lt;/strong&gt;ï¼šå¯¹ç¾æœ¯æ§åˆ¶çš„è®©æ­¥ï¼Œç”¨äºå¯¹åŸºç¡€è‰²ï¼ˆbase colorï¼‰çš„å…¥å°„é•œé¢åå°„è¿›è¡Œé¢œè‰²æ§åˆ¶ã€‚æ å°„é•œé¢åå°„ä»ç„¶æ˜¯éå½©è‰²çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;roughnessï¼ˆç²—ç³™åº¦ï¼‰&lt;/strong&gt;ï¼šè¡¨é¢ç²—ç³™åº¦ï¼Œæ§åˆ¶æ¼«åå°„å’Œé•œé¢åå°„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;anisotropicï¼ˆå„å‘å¼‚æ€§å¼ºåº¦ï¼‰&lt;/strong&gt;ï¼šå„å‘å¼‚æ€§ç¨‹åº¦ã€‚ç”¨äºæ§åˆ¶é•œé¢åå°„é«˜å…‰çš„çºµæ¨ªæ¯”ã€‚ï¼ˆ0 =å„å‘åŒæ€§ï¼Œ1 =æœ€å¤§å„å‘å¼‚æ€§ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sheenï¼ˆå…‰æ³½åº¦ï¼‰&lt;/strong&gt;ï¼šä¸€ç§é¢å¤–çš„æ å°„åˆ†é‡ï¼ˆgrazing componentï¼‰ï¼Œä¸»è¦ç”¨äºå¸ƒæ–™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sheenTintï¼ˆå…‰æ³½é¢œè‰²ï¼‰&lt;/strong&gt;ï¼šå¯¹sheenï¼ˆå…‰æ³½åº¦ï¼‰çš„é¢œè‰²æ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;clearcoatï¼ˆæ¸…æ¼†å¼ºåº¦ï¼‰&lt;/strong&gt;ï¼šæœ‰ç‰¹æ®Šç”¨é€”çš„ç¬¬äºŒä¸ªé•œé¢æ³¢ç“£ï¼ˆspecular lobeï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;clearcoatGlossï¼ˆæ¸…æ¼†å…‰æ³½åº¦ï¼‰&lt;/strong&gt;ï¼šæ§åˆ¶é€æ˜æ¶‚å±‚å…‰æ³½åº¦ï¼Œ0 =â€œç¼é¢ï¼ˆsatinï¼‰â€å¤–è§‚ï¼Œ1=â€œå…‰æ³½ï¼ˆglossï¼‰â€å¤–è§‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯ä¸ªå‚æ•°çš„æ•ˆæœçš„æ¸²æŸ“ç¤ºä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/disney.png"
width="1104"
height="855"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/disney_hu_85dd03f401ac41e1.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/disney_hu_42191f1b3ee26d7c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="129"
data-flex-basis="309px"
&gt;&lt;/p&gt;
&lt;h2 id="disney-principled-bsdf"&gt;Disney Principled BSDF
&lt;/h2&gt;&lt;p&gt;éšåçš„2015å¹´ï¼Œè¿ªå£«å°¼åŠ¨ç”»å·¥ä½œå®¤åœ¨Disney Principled BRDFçš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¿®è®¢ï¼Œæå‡ºäº†Disney Principled BSDF [Extending the Disney BRDF to a BSDF with Integrated Subsurface Scattering, 2015]ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯å¼€æºä¸‰ç»´åŠ¨ç”»è½¯ä»¶Blenderå®ç°çš„Disney Principled BSDFçš„å›¾ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/brdf-and-rendering-equation/disney_bsdf.png"
width="960"
height="930"
srcset="https://foth0626.github.io/article/brdf-and-rendering-equation/disney_bsdf_hu_f36bd6064b3c3772.png 480w, https://foth0626.github.io/article/brdf-and-rendering-equation/disney_bsdf_hu_c1eabbc00ef13179.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="247px"
&gt;&lt;/p&gt;</description></item><item><title>è®¡ç®—æœºå›¾å½¢å­¦ä¸GPUæ¶æ„ç®€ä»‹</title><link>https://foth0626.github.io/article/introduction-to-graphics-and-gpu/</link><pubDate>Wed, 27 Nov 2024 11:01:19 +0800</pubDate><guid>https://foth0626.github.io/article/introduction-to-graphics-and-gpu/</guid><description>&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/ADA_Arttibutes.png" alt="Featured image of post è®¡ç®—æœºå›¾å½¢å­¦ä¸GPUæ¶æ„ç®€ä»‹" /&gt;&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ä¸ºSAST.Graphicsç»„æˆè¯¾æ–‡æ¡£è®°å½•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;``&lt;/p&gt;
&lt;h1 id="å‰è¨€"&gt;å‰è¨€
&lt;/h1&gt;&lt;p&gt;æœ¬è¯¾ç¨‹å¤§é‡å‚è€ƒGAMES101ã€RTR4-CNã€Bç«™è§†é¢‘ç­‰èµ„æ–™ï¼Œå¦‚æœ‰é›·åŒï¼Œåº”è¯¥ä¸æ˜¯å·§åˆã€‚&lt;/p&gt;
&lt;h2 id="æˆ‘ä»¬çš„æˆè¯¾ä¸åŒ…å«è¿™äº›"&gt;æˆ‘ä»¬çš„æˆè¯¾ä¸åŒ…å«è¿™äº›
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;3Då»ºæ¨¡è½¯ä»¶/æ¸¸æˆå¼•æ“å…¥é—¨åˆ°ç²¾æ·±&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/UE4_Editor.png"
width="1280"
height="769"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/UE4_Editor_hu_c54dd76501e4af41.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/UE4_Editor_hu_6eb5b8fb96b9589f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="399px"
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¡ç®—æœºè§†è§‰ï¼ˆComputer Visionï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/CG_CV.png"
width="1280"
height="436"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/CG_CV_hu_be08234c0b7b207e.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/CG_CV_hu_c533af6d7f7bbfe.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="293"
data-flex-basis="704px"
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·±åº¦å­¦ä¹ ï¼ˆdeep learningï¼‰&lt;br&gt;
mlç­‰äººå·¥æ™ºèƒ½é¢†åŸŸä½¿ç”¨æ˜¾å¡æ˜¯å› ä¸ºæ˜¾å¡å¹¶è¡Œå¤„ç†å¤§å‹æ•°æ®å’Œè®¡ç®—çŸ©é˜µçš„ä¼˜åŠ¿ï¼Œå’Œå›¾å½¢å­¦æ²¡æœ‰ä»»ä½•å…³ç³»ï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="æˆ‘ä»¬çš„è¯¾ç¨‹ä¸éœ€è¦ä¸€å¼ ç‹¬ç«‹æ˜¾å¡ä¸€å°æ¸¸æˆæœ¬"&gt;æˆ‘ä»¬çš„è¯¾ç¨‹ä¸éœ€è¦ä¸€å¼ ç‹¬ç«‹æ˜¾å¡/ä¸€å°æ¸¸æˆæœ¬ï¼
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/Not4090.png"
width="978"
height="566"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/Not4090_hu_7d9323e4d126cfd6.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/Not4090_hu_240bc9604f6fde95.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="414px"
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„æ•™å­¦èšç„¦äºå›¾å½¢å­¦åŸç†ï¼Œä¸éœ€è¦é«˜æ€§èƒ½çš„æ˜¾å¡åšç®—åŠ›æ”¯æŒã€‚åªéœ€è¦ä½ çš„ç”µè„‘èƒ½å¤Ÿæ­£å¸¸å¯åŠ¨ï¼Œé‚£ä¹ˆåŸºæœ¬å¯ä»¥è‚¯å®šä½ çš„ç”µè„‘è¶³ä»¥è¿›è¡Œç¼–ç¨‹å’Œå­¦ä¹ ã€‚&lt;/p&gt;
&lt;h2 id="ä½¿ç”¨ä¸€ä¸ªideé›†æˆå¼€å‘ç¯å¢ƒ"&gt;ä½¿ç”¨ä¸€ä¸ªIDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒï¼‰ï¼
&lt;/h2&gt;&lt;p&gt;æˆ‘ä¸æƒ³æœ‰äººä½¿ç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;txtæ–‡æœ¬é˜…è¯»å™¨/è®°äº‹æœ¬&lt;/li&gt;
&lt;li&gt;vi/vim/emacs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/Txt.png"
width="1194"
height="625"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/Txt_hu_4b167319ec24d35.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/Txt_hu_2434b8910f733090.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="191"
data-flex-basis="458px"
&gt;&lt;/p&gt;
&lt;p&gt;å¤§å“¥ä½ è‡³å°‘ç”¨ä¸ªå†™ä»£ç çš„ç©æ„ã€‚ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dev C++&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸èƒ½æ”¯æŒå¤šæ–‡ä»¶ç¼–è¯‘çš„ä½èƒ½è½¯ä»¶ï¼Œç•Œé¢è¿˜ä¸‘&lt;/p&gt;
&lt;p&gt;ç•Œé¢è¿‡ä¸‘ä¸äºˆå±•ç¤º&lt;/p&gt;
&lt;h3 id="ä¸ªäººæ¨èide"&gt;ä¸ªäººæ¨èIDE
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;MSVCï¼šå¤§ï¼Œå…¨ï¼Œé‡ï¼›å¯ç”¨ï¼Œæˆ‘åªæ¨èwindowså¹³å°ç”¨æ¥åšç¼–è¯‘å™¨&lt;/li&gt;
&lt;li&gt;Visual Studio Code + CMake + MSVC&lt;/li&gt;
&lt;li&gt;Jetbrains Clionä¸€æŠŠæ¢­
å…³äºC++ï¼Œå¯ä»¥å»æ ¡ç§‘åC++ç»„å­¦ä¹ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="å­¦ä¹ å›¾å½¢å­¦èƒ½å¯¹æˆ‘æœ‰ä»€ä¹ˆå¸®åŠ©"&gt;å­¦ä¹ å›¾å½¢å­¦èƒ½å¯¹æˆ‘æœ‰ä»€ä¹ˆå¸®åŠ©ï¼Ÿ
&lt;/h2&gt;&lt;h3 id="æ ¡æ‹›"&gt;æ ¡æ‹›
&lt;/h3&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/%E8%85%BE%E8%AE%AF%E6%A0%A1%E6%8B%9B.png"
width="867"
height="594"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/%E8%85%BE%E8%AE%AF%E6%A0%A1%E6%8B%9B_hu_52afdf886110ffdd.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/%E8%85%BE%E8%AE%AF%E6%A0%A1%E6%8B%9B_hu_f89db6a4f604de68.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="350px"
&gt;&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†æ¸¸æˆå®¢æˆ·ç«¯éƒ½ä¼šæŠŠå›¾å½¢å­¦ä½œä¸ºåŠ åˆ†é¡¹ï¼Œè¿‘å¹´æ›´æ˜¯åœ¨è¶Šæ¥è¶Šå·çš„ç¯å¢ƒä¸‹åˆæˆä¸ºäººæ‰‹å¿…å¤‡çš„æŠ€èƒ½çš„è¶‹åŠ¿ã€‚&lt;/p&gt;
&lt;h3 id="è€ƒç ”"&gt;è€ƒç ”
&lt;/h3&gt;&lt;p&gt;è®¡ç®—æœºå›¾å½¢å­¦æ˜¯è®¡ç®—æœºç§‘å­¦å¤§ç±»ä¸‹çš„ä¸€ä¸ªå­å­¦ç§‘ã€‚&lt;/p&gt;
&lt;h1 id="è®¡ç®—æœºå›¾å½¢å­¦ç®€ä»‹"&gt;è®¡ç®—æœºå›¾å½¢å­¦ç®€ä»‹
&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;è®¡ç®—æœºå›¾å½¢å­¦&lt;/strong&gt;æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªå­é¢†åŸŸï¼Œç ”ç©¶æ•°å­—åˆæˆå’Œæ“ä½œè§†è§‰å†…å®¹çš„æ–¹æ³•ã€‚å°½ç®¡è¯¥æœ¯è¯­é€šå¸¸æŒ‡ä¸‰ç»´è®¡ç®—æœºå›¾å½¢å­¦çš„ç ”ç©¶ï¼Œä½†å®ƒä¹ŸåŒ…å«äºŒç»´å›¾å½¢å’Œå›¾åƒå¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id="å›¾å½¢å­¦ç»†åˆ†é¢†åŸŸ"&gt;å›¾å½¢å­¦ç»†åˆ†é¢†åŸŸ
&lt;/h2&gt;&lt;h3 id="æ¸²æŸ“render"&gt;æ¸²æŸ“ï¼ˆRenderï¼‰
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;æ¸²æŸ“&lt;/strong&gt;æˆ–&lt;strong&gt;å›¾åƒåˆæˆ&lt;/strong&gt;æ˜¯é€šè¿‡è®¡ç®—æœºç¨‹åºä»2Dæˆ–3D æ¨¡å‹ç”ŸæˆçœŸå®æ„Ÿæˆ–éçœŸå®æ„Ÿå›¾åƒçš„è¿‡ç¨‹ã€‚å¯ä»¥åœ¨åŒ…å«ä¸¥æ ¼å®šä¹‰çš„è¯­è¨€æˆ–æ•°æ®ç»“æ„çš„å¯¹è±¡çš„_åœºæ™¯æ–‡ä»¶_ä¸­å®šä¹‰å¤šä¸ªæ¨¡å‹ã€‚åœºæ™¯æ–‡ä»¶åŒ…å«æè¿°è™šæ‹Ÿåœºæ™¯çš„å‡ ä½•ã€è§†ç‚¹ã€çº¹ç†ã€ç…§æ˜å’Œç€è‰²ä¿¡æ¯ã€‚ç„¶ååœºæ™¯æ–‡ä»¶ä¸­åŒ…å«çš„æ•°æ®è¢«ä¼ é€’åˆ°æ¸²æŸ“ç¨‹åºè¿›è¡Œå¤„ç†å¹¶è¾“å‡ºåˆ°æ•°å­—å›¾åƒæˆ–å…‰æ …å›¾å½¢å›¾åƒæ–‡ä»¶ã€‚æœ¯è¯­â€œæ¸²æŸ“â€ç±»ä¼¼äºè‰ºæœ¯å®¶å¯¹åœºæ™¯çš„å°è±¡çš„æ¦‚å¿µã€‚æœ¯è¯­â€œæ¸²æŸ“â€ä¹Ÿç”¨äºæè¿°åœ¨è§†é¢‘ç¼–è¾‘ç¨‹åºä¸­è®¡ç®—æ•ˆæœä»¥äº§ç”Ÿæœ€ç»ˆè§†é¢‘è¾“å‡ºçš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;æ¸²æŸ“æ˜¯3D è®¡ç®—æœºå›¾å½¢å­¦çš„&lt;strong&gt;ä¸»è¦å­ä¸»é¢˜&lt;/strong&gt;ä¹‹ä¸€ï¼Œåœ¨å®è·µä¸­å®ƒæ€»æ˜¯ä¸å…¶ä»–ä¸»é¢˜ç›¸å…³ã€‚è¿™æ˜¯å›¾å½¢ç®¡é“ä¸­çš„æœ€åä¸€ä¸ªä¸»è¦æ­¥éª¤ï¼Œä¸ºæ¨¡å‹å’ŒåŠ¨ç”»æä¾›æœ€ç»ˆå¤–è§‚ã€‚è‡ª 20 ä¸–çºª 70 å¹´ä»£ä»¥æ¥ï¼Œéšç€è®¡ç®—æœºå›¾å½¢å­¦çš„æ—¥ç›Šå¤æ‚ï¼Œå®ƒå·²æˆä¸ºä¸€é—¨æ›´åŠ ç‹¬ç‰¹çš„å­¦ç§‘ã€‚&lt;/p&gt;
&lt;p&gt;æ¸²æŸ“å¯ç”¨äºå»ºç­‘ã€è§†é¢‘æ¸¸æˆã€æ¨¡æ‹Ÿå™¨ã€ç”µå½±å’Œç”µè§†è§†è§‰æ•ˆæœä»¥åŠè®¾è®¡å¯è§†åŒ–ï¼Œæ¯ç§éƒ½é‡‡ç”¨ä¸åŒçš„åŠŸèƒ½å’ŒæŠ€æœ¯å¹³è¡¡ã€‚æœ‰å¤šç§æ¸²æŸ“å™¨å¯ä¾›ä½¿ç”¨ã€‚æœ‰äº›é›†æˆåˆ°æ›´å¤§çš„å»ºæ¨¡å’ŒåŠ¨ç”»åŒ…ä¸­ï¼Œæœ‰äº›æ˜¯ç‹¬ç«‹çš„ï¼Œæœ‰äº›æ˜¯å…è´¹çš„å¼€æºé¡¹ç›®ã€‚ä»å†…éƒ¨æ¥çœ‹ï¼Œæ¸²æŸ“å™¨æ˜¯ä¸€ä¸ªåŸºäºå¤šä¸ªå­¦ç§‘ç²¾å¿ƒè®¾è®¡çš„ç¨‹åºï¼ŒåŒ…æ‹¬ç‰©ç†å…‰å­¦ã€è§†è§‰æ„ŸçŸ¥ã€æ•°å­¦å’Œè½¯ä»¶å¼€å‘ã€‚&lt;/p&gt;
&lt;h3 id="å‡ ä½•geometry"&gt;å‡ ä½•ï¼ˆGeometryï¼‰
&lt;/h3&gt;&lt;p&gt;å‡ ä½•å­¦çš„å­é¢†åŸŸç ”ç©¶åœ¨ç¦»æ•£æ•°å­—ç¯å¢ƒä¸­ä¸‰ç»´ç‰©ä½“çš„è¡¨ç¤ºã€‚ç”±äºå¯¹è±¡çš„å¤–è§‚åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå…¶å¤–éƒ¨ï¼Œå› æ­¤è¾¹ç•Œè¡¨ç¤ºæ³•æ˜¯æœ€å¸¸ç”¨çš„ã€‚äºŒç»´è¡¨é¢æ˜¯å¤§å¤šæ•°ç‰©ä½“çš„è‰¯å¥½è¡¨ç¤ºï¼Œå°½ç®¡å®ƒä»¬å¯èƒ½æ˜¯éæµå½¢çš„ã€‚ç”±äºæ›²é¢ä¸æ˜¯æœ‰é™çš„ï¼Œå› æ­¤ä½¿ç”¨ç¦»æ•£æ•°å­—è¿‘ä¼¼ã€‚å¤šè¾¹å½¢ç½‘æ ¼ï¼ˆä»¥åŠè¾ƒå°ç¨‹åº¦ä¸Šçš„ç»†åˆ†æ›²é¢ï¼‰æ˜¯è¿„ä»Šä¸ºæ­¢æœ€å¸¸è§çš„è¡¨ç¤ºï¼Œå°½ç®¡åŸºäºç‚¹çš„è¡¨ç¤ºæœ€è¿‘å˜å¾—æ›´åŠ æµè¡Œï¼ˆä¾‹å¦‚ï¼Œå‚è§åŸºäºç‚¹çš„å›¾å½¢ç ”è®¨ä¼šï¼‰ã€‚æœ€è¿‘ï¼Œ_æ¬§æ‹‰_è¡¨é¢æè¿°ï¼ˆå³ï¼Œå…¶ä¸­ç©ºé—´æ ·æœ¬æ˜¯å›ºå®šçš„ï¼‰ï¼Œä¾‹å¦‚æ°´å¹³é›†ï¼Œå·²ç»å‘å±•æˆç”¨äºä½¿ç»å†è®¸å¤šæ‹“æ‰‘å˜åŒ–çš„è¡¨é¢å˜å½¢çš„æœ‰ç”¨è¡¨ç¤ºï¼ˆæµä½“æ˜¯æœ€æ˜¾è‘—çš„ç¤ºä¾‹ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="åŠ¨ç”»ä»¿çœŸanimation-and-simulation"&gt;åŠ¨ç”»ä»¿çœŸï¼ˆAnimation and Simulationï¼‰
&lt;/h3&gt;&lt;p&gt;åŠ¨ç”»çš„å­é¢†åŸŸç ”ç©¶éšç€æ—¶é—´çš„æ¨ç§»ç§»åŠ¨æˆ–å˜å½¢çš„è¡¨é¢ï¼ˆå’Œå…¶ä»–ç°è±¡ï¼‰çš„æè¿°ã€‚ä»å†å²ä¸Šçœ‹ï¼Œè¿™ä¸€é¢†åŸŸçš„å¤§å¤šæ•°å·¥ä½œéƒ½é›†ä¸­åœ¨å‚æ•°å’Œæ•°æ®é©±åŠ¨çš„æ¨¡å‹ä¸Šï¼Œä½†æœ€è¿‘éšç€è®¡ç®—æœºåœ¨è®¡ç®—æ–¹é¢å˜å¾—æ›´åŠ å¼ºå¤§ï¼Œç‰©ç†æ¨¡æ‹Ÿå˜å¾—æ›´åŠ æµè¡Œã€‚&lt;/p&gt;
&lt;p&gt;åŠ¨ç”»å­é¢†åŸŸåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ¨ä½œæ•æ‰&lt;/li&gt;
&lt;li&gt;è§’è‰²åŠ¨ç”»&lt;/li&gt;
&lt;li&gt;ç‰©ç†æ¨¡æ‹Ÿï¼ˆä¾‹å¦‚å¸ƒæ–™å»ºæ¨¡ã€æµä½“åŠ¨åŠ›å­¦åŠ¨ç”»ç­‰ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="å›¾å½¢å­¦åº”ç”¨é¢†åŸŸ"&gt;å›¾å½¢å­¦åº”ç”¨é¢†åŸŸ
&lt;/h2&gt;&lt;p&gt;(ä»¥ä¸‹å›¾ç‰‡æ¥è‡ª&lt;img src="https://www.bilibili.com/video/av90798049/?p=1"
loading="lazy"
alt="GAMES101"
&gt;)&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/videogame.png"
width="1280"
height="957"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/videogame_hu_b81968ef1fa1f6e2.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/videogame_hu_8c4c517b242dd4f4.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="321px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/videogame2.png"
width="1280"
height="957"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/videogame2_hu_23eaa91e542c03d9.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/videogame2_hu_b1d4e9b78a073be0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="321px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/movies.png"
width="1280"
height="878"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/movies_hu_531fd5b7adda0df6.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/movies_hu_1ae7e4fd13b45f0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="349px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/movies2.png"
width="1280"
height="880"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/movies2_hu_67ff109ef8c1a64b.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/movies2_hu_4d44fed6a353fec4.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="349px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/animation.png"
width="1280"
height="816"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/animation_hu_1c82a06eed5dd694.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/animation_hu_d09cc67487b387df.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="376px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/design.png"
width="1280"
height="708"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/design_hu_2e0ae0d83225cca6.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/design_hu_1c6fa005cdf0fa6f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="433px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/design2.png"
width="1280"
height="878"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/design2_hu_f60080f0f4844664.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/design2_hu_ff60ff4259a8b950.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="349px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/visualization.png"
width="1280"
height="822"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/visualization_hu_776ab59997107b60.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/visualization_hu_99f21363995d703b.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="155"
data-flex-basis="373px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/vr.png"
width="1280"
height="894"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/vr_hu_5e245ce454b2870b.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/vr_hu_d0ba75c8435f94b.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="343px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/ar.png"
width="1280"
height="893"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/ar_hu_d588806a1546e7a9.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/ar_hu_1e97bf5f6a60aebc.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="344px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/digitalpicture.png"
width="1280"
height="894"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/digitalpicture_hu_b1be4b19b72ccb52.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/digitalpicture_hu_105c44feb36d181.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="343px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/simulation.png"
width="1280"
height="682"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/simulation_hu_9636cdba1f1d4274.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/simulation_hu_e2434d7af6ac0d91.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="450px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gui.png"
width="1280"
height="772"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gui_hu_dde043a8a7513549.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gui_hu_96209ce3ac078520.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="165"
data-flex-basis="397px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/typography.png"
width="1280"
height="789"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/typography_hu_3970be37b812ea21.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/typography_hu_a91ee4f54a68b5dc.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="389px"
&gt;&lt;/p&gt;
&lt;h2 id="ä¸ºä»€ä¹ˆå­¦ä¹ å›¾å½¢å­¦"&gt;ä¸ºä»€ä¹ˆå­¦ä¹ å›¾å½¢å­¦ï¼Ÿ
&lt;/h2&gt;&lt;h3 id="å›¾å½¢å­¦å­¦ä¹ ä¸­çš„å›°éš¾"&gt;å›¾å½¢å­¦å­¦ä¹ ä¸­çš„å›°éš¾
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ç†è§£çœŸå®ä¸–ç•Œçš„ç‰©ç†è§„å¾‹å¹¶åˆ›é€ çœŸå®çš„è™šæ‹Ÿä¸–ç•Œ&lt;/li&gt;
&lt;li&gt;æŠ•å½±ï¼Œæ›²çº¿ï¼Œè¡¨é¢çš„æ•°å­¦è¡¨ç¤º&lt;/li&gt;
&lt;li&gt;å…‰å­¦å’Œç€è‰²çš„ç‰©ç†å­¦çŸ¥è¯†&lt;/li&gt;
&lt;li&gt;è¡¨ç¤º/æ“ä½œ3Då½¢ä½“&lt;/li&gt;
&lt;li&gt;åŠ¨ç”»/æ¨¡æ‹Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/whystudy.png"
width="1280"
height="912"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/whystudy_hu_30c4c42e98e80e42.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/whystudy_hu_7dac4ca309dc1fe2.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="336px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/raster.png"
width="1280"
height="898"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/raster_hu_fae92d77652c40cd.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/raster_hu_3d017468f3c15c99.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="142"
data-flex-basis="342px"
&gt;
&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/curves.png"
width="1280"
height="909"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/curves_hu_578db361511eb2c0.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/curves_hu_5225f508002cd264.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
&gt;
&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/raytracing.png"
width="1280"
height="901"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/raytracing_hu_2911d892f9e487b0.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/raytracing_hu_6d4a165acbee5d71.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="142"
data-flex-basis="340px"
&gt;
&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/animationandsimulation.png"
width="1280"
height="919"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/animationandsimulation_hu_a4e1fcea49573e2f.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/animationandsimulation_hu_c029a6a1865b671a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
&gt;&lt;/p&gt;
&lt;h1 id="why-is-gpu"&gt;Why is GPU?
&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;â€œThe display is the computer.â€ â€”â€”Jen-Hsun Huang
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="è®¡ç®—æœºå…«å¤§ä»¶"&gt;è®¡ç®—æœºå…«å¤§ä»¶
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/apc.png"
width="1280"
height="960"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/apc_hu_555df23f8bce139a.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/apc_hu_d8dbd08812627802.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
&gt;&lt;/p&gt;
&lt;p&gt;æœºç®±ã€CPUã€ä¸»æ¿ã€å†…å­˜ã€æ•£çƒ­å™¨ã€æ˜¾å¡ã€ç”µæºã€ç¡¬ç›˜&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆæ˜¾å¡å¦‚æ­¤ç‰¹æ®Šï¼Œå®ƒå’ŒCPUä¸€æ ·ï¼Œå…±åŒæ‹¥æœ‰ä½œä¸ºå¤„ç†å™¨çš„å´‡é«˜åœ°ä½ï¼Œå´åªè´Ÿè´£ä¸€ä»¶äº‹ï¼šå›¾åƒå¤„ç†ï¼Ÿ&lt;/p&gt;
&lt;h4 id="å¯æ€•çš„è®¡ç®—é‡"&gt;å¯æ€•çš„è®¡ç®—é‡
&lt;/h4&gt;&lt;p&gt;ç°ä»£æ˜¾ç¤ºå™¨æœ€ä½åˆ†è¾¨ç‡ä¸º1920x1080ï¼Œæˆ‘ä»¬å‡è®¾æ¯ç§’æ¸²æŸ“60å¼ å›¾åƒï¼Œé‚£ä¹ˆç»“æœæ˜¯&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1920 * 1080 * 60 = 124,416,000 æ¬¡ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¦‚æœè¯´ä½ çš„ç”µè„‘é…ç½®æ¯”è¾ƒå¥½ï¼Œæ˜¾ç¤ºå™¨æœ‰4kåˆ†è¾¨ç‡ï¼ˆ3840x2160ï¼‰ï¼Œæ¯ç§’æ¸²æŸ“144å¼ å›¾åƒï¼Œé‚£ä¹ˆç»“æœæ˜¯å¤šå°‘ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3840 * 2160 * 144 = 1,194,393,600 æ¬¡ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬åªè€ƒè™‘äº†æ¯ä¸ªåƒç´ äº§ç”Ÿé¢œè‰²çš„è¿‡ç¨‹ï¼Œå¦‚æœæ˜¯ç©æ¸¸æˆï¼Œé€šå¸¸æ¥è¯´ä¼šæœ‰ç™¾ä¸‡çº§åˆ«çš„ä¸‰è§’é¢éœ€è¦åŒæ—¶å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;è®©å®è´µçš„CPUèŠ±è´¹å¤§é‡æ€§èƒ½å»åšè¿™ç§ä½“åŠ›æ´»æ¯«æ— ç–‘é—®æ˜¯éå¸¸ä½æ€§ä»·æ¯”å’Œæ„šè ¢çš„ã€‚æ‰€ä»¥å·¥ç¨‹å¸ˆä»¬å¾ˆå¿«æƒ³å‡ºäº†ä¸€ä¸ªæ–¹æ³•ï¼šæˆ‘ä¸“é—¨åšä¸ªç¡¬ä»¶å»äº§ç”Ÿå›¾åƒæ•°æ®ä¸å°±è¡Œäº†ï¼Ÿ&lt;/p&gt;
&lt;h2 id="gpuç®€å²"&gt;GPUç®€å²
&lt;/h2&gt;&lt;h3 id="åˆæœŸ1980s"&gt;åˆæœŸï¼ˆ1980sï¼‰
&lt;/h3&gt;&lt;p&gt;åœ¨è®¡ç®—æœºå‘å±•åˆæœŸï¼Œè®¡ç®—æœºå›¾å½¢çš„æ˜¾ç¤ºæ˜¯ç”±CPUå®Œæˆçš„ï¼Œä½†æ˜¯éšç€è®¡ç®—æœºå›¾å½¢éœ€æ±‚çš„å¢é•¿ï¼Œå°¤å…¶æ˜¯æ¸¸æˆï¼Œ2Då›¾å½¢é¢†åŸŸçš„éœ€æ±‚ï¼Œæœ€å¼€å§‹çš„å›¾å½¢åŠ é€Ÿç¡¬ä»¶ï¼ˆå›¾å½¢åŠ é€Ÿå™¨ï¼‰è¢«è®¾è®¡å¹¶åˆ¶é€ å‡ºæ¥ï¼Œä¸»è¦ç”¨äºä¸‰è§’å½¢çš„åƒç´ æ‰«æçº¿æ’å€¼ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºåœ¨æ˜¾ç¤ºå™¨ä¸Šã€‚è¿™æ—¶å€™çš„GPUåªæ˜¯ä¸€ä¸ªæ¬è¿å·¥ï¼Œå®ƒåªè´Ÿè´£æ˜¾ç¤º2Då›¾åƒã€‚æ­¤æ—¶å®ƒè¢«ç§°ä¸ºå›¾å½¢åŠ é€Ÿå™¨ã€‚&lt;/p&gt;
&lt;h3 id="å‘å±•1990s"&gt;å‘å±•ï¼ˆ1990sï¼‰
&lt;/h3&gt;&lt;p&gt;1990å¹´ä»£ï¼Œ3Då›¾å½¢æŠ€æœ¯éšç€ç”µå­æ¸¸æˆå’ŒCADçš„å‘å±•è€Œå‘å±•ï¼Œå¸‚é¢ä¸Šå‡ºç°äº†å¤§é‡çš„3DåŠ é€Ÿå¡ï¼Œæœ€è‘—åçš„æ˜¾å¡ä¾¿æ˜¯3dfxçš„Voodooç³»åˆ—ã€‚Voodooç³»åˆ—å¡é€šè¿‡ç‹¬ç«‹çš„3Då¤„ç†å•å…ƒå¤„ç†å‡ ä½•è¿ç®—ã€çº¹ç†æ˜ å°„å’Œå…‰æ …åŒ–ï¼Œä¸“é—¨åŠ é€Ÿæ¸¸æˆä¸­çš„3Då›¾å½¢ã€‚è¿™ä¸ªæ—¶æœŸçš„ç»å…¸æ¸¸æˆå¦‚ã€Šå¤å¢“ä¸½å½±ã€‹ã€ã€Šé›·ç¥ä¹‹é”¤ã€‹ç­‰å¤§å¹…å—ç›ŠäºVoodooå¡çš„åŠ é€Ÿã€‚&lt;/p&gt;
&lt;p&gt;å›¾å½¢APIé€æ¸æ ‡å‡†åŒ–ï¼Œ1992å¹´æ¨å‡ºçš„OpenGLå’Œ1995å¹´å¾®è½¯æ¨å‡ºäº†DirectXï¼Œç»™æ¸¸æˆå¼€å‘è€…å’Œè½¯ä»¶å‚å•†æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„å¹³å°æ¥å¼€å‘3Då›¾å½¢åº”ç”¨ç¨‹åºã€‚APIçš„æ ‡å‡†åŒ–æ¨åŠ¨äº†GPUçš„å‘å±•ï¼Œå› ä¸ºå®ƒè®©ç¡¬ä»¶å‚å•†èƒ½å¤Ÿä¸“æ³¨äºæé«˜å›¾å½¢å¤„ç†å™¨çš„æ€§èƒ½ï¼Œè€Œå¼€å‘è€…åˆ™å¯ä»¥é€šè¿‡è¿™äº›æ ‡å‡†APIä¸ç¡¬ä»¶è¿›è¡Œäº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;1999å¹´ï¼Œåˆ’æ—¶ä»£çš„èŠ¯ç‰‡NVIDIA Geforce256 å‘å¸ƒäº†ï¼ŒGPUè¿™ä¸ªæœ¯è¯­è¢«åˆ›é€ å‡ºæ¥ç”¨ä»¥åŒºåˆ†GeForce 256 å’Œè¿‡å»æ‰€æœ‰å›¾å½¢åŠ é€Ÿå¡çš„åŒºåˆ«ã€‚é¦–æ¬¡å¼•å…¥äº†ç¡¬ä»¶å˜æ¢å’Œå…‰æ …åŒ–ï¼ˆTransform and Lightlingï¼‰ï¼Œå°†å›¾å½¢å¤„ç†è½¬ç§»åˆ°GPUï¼Œæé«˜äº†3Då¤„ç†çš„é€Ÿåº¦ã€‚ä½†æ­¤æ—¶çš„æ¸²æŸ“è¿‡ç¨‹ä»ç„¶æ˜¯å›ºå®šçš„ï¼Œå¼€å‘è€…æ— æ³•è‡ªç”±åœ°å®ç°è‡ªå·±çš„æƒ³è¦çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h3 id="å¯ç¼–ç¨‹ç€è‰²å™¨2000s"&gt;å¯ç¼–ç¨‹ç€è‰²å™¨ï¼ˆ2000sï¼‰
&lt;/h3&gt;&lt;p&gt;Vertex Shader å’Œ Fragment Shaderæ­£å¼å‡ºç°ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ç¨‹åºè‡ªå®šä¹‰æƒ³è¦çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;h3 id="åç»­2000s-è‡³ä»Š"&gt;åç»­ï¼ˆ2000s-è‡³ä»Šï¼‰
&lt;/h3&gt;&lt;p&gt;ç§‘ç ”äººå‘˜å‘ç°GPUèƒ½ä¸€å£æ°”å¤„ç†è¿™ä¹ˆå¤šæ•°æ®ï¼Œç›¸æ¯”CPUæ›´é€‚åˆåšç§‘ç ”æ—¶äº§ç”Ÿçš„å¤§é‡æ•°æ®çš„å¤„ç†ï¼ŒCUDAåº”è¿è€Œç”Ÿã€‚ä¸€æ®µæ—¶é—´åï¼Œäººå·¥æ™ºèƒ½è“¬å‹ƒå‘å±•ï¼ŒGPUçš„å¹¶è¡Œå¤„ç†èƒ½åŠ›è¢«ç”¨æ¥è¿›è¡Œäººå·¥æ™ºèƒ½è®­ç»ƒã€‚AIçš„çˆ†ç«åˆåè¿‡æ¥ä¿ƒè¿›æ˜¾å¡å‚å•†åŠ å…¥Tensorï¼ˆå¼ é‡ï¼‰å•å…ƒè¿›è¡Œaiè®­ç»ƒã€‚&lt;/p&gt;
&lt;h2 id="gpuæ¶æ„"&gt;GPUæ¶æ„
&lt;/h2&gt;&lt;p&gt;åœ¨GPUæ¶æ„ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹CPUçš„åŸºç¡€æ¶æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/cpuarthi.png"
width="266"
height="210"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/cpuarthi_hu_37c6261927037bb7.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/cpuarthi_hu_5f32a58178adc34d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="304px"
&gt;&lt;/p&gt;
&lt;p&gt;CPU ç»è¿‡ä¼˜åŒ–,å¯ä»¥å¤„ç†å¤§é‡çš„æ•°æ®ç»“æ„å’Œå¤§å‹ä»£ç æ®µ,CPU ä¸€èˆ¬éƒ½å…·æœ‰å¤šä¸ªå¤„ç†å™¨,æ¯ä¸ªå¤„ç†å™¨éƒ½ä»¥ä¸²è¡Œçš„æ–¹å¼æ¥æ‰§è¡Œä»£ç ,ä½†æ˜¯æœ‰é™çš„ SIMD å‘é‡å¤„ç†æ˜¯ä¸€ä¸ªå°ä¾‹å¤–ã€‚ä¸ºäº†æœ€å°åŒ–å»¶è¿Ÿæ‰€å¸¦æ¥çš„å½±å“,CPU èŠ¯ç‰‡ä¸­çš„å¤§éƒ¨åˆ†é¢ç§¯éƒ½æ˜¯é«˜é€Ÿçš„æœ¬åœ°ç¼“å­˜,è¿™äº›ç¼“å­˜ä¸­å­˜æ»¡äº†æ¥ä¸‹æ¥å¯èƒ½ä¼šç”¨åˆ°çš„æ•°æ®ã€‚CPU è¿˜ä¼šä½¿ç”¨ä¸€äº›æ™ºèƒ½æŠ€æœ¯æ¥é¿å…åœæ»,ä¾‹å¦‚åˆ†æ”¯é¢„æµ‹(branch predication)ã€æŒ‡ä»¤é‡æ’åº(instruction reordering)ã€å¯„å­˜å™¨é‡å‘½å(register renaming)å’Œç¼“å­˜é¢„å–(prefetching)ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gpuarthi.png"
width="255"
height="218"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gpuarthi_hu_d8a66030a9d7a168.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gpuarthi_hu_4e3b186563cfe030.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="280px"
&gt;&lt;/p&gt;
&lt;p&gt;GPUåˆ™å®Œå…¨ä¸åŒï¼ŒGPUèŠ¯ç‰‡ä¸­å¾ˆå¤§ä¸€ç‰‡é¢ç§¯éƒ½æ˜¯å¤§é‡çš„å¤„ç†å™¨ï¼Œè¿™äº›ç›¸åŒçš„å¤„ç†å™¨é€šå¸¸æœ‰æ•°åƒä¸ªï¼Œç”¨æ¥å¤„ç†ç›¸ä¼¼çš„æ•°æ®ã€‚ä¸ºäº†ä¸€æ¬¡æ€§å¤„ç†å¤§é‡çš„æ•°æ®ï¼ŒGPUå¯¹ååé‡(throughput)åšäº†ä¸“é—¨çš„ä¼˜åŒ–ï¼Œååé‡æŒ‡çš„æ˜¯æ•°æ®èƒ½å¤Ÿè¢«å¤„ç†çš„æœ€å¤§é€Ÿåº¦ã€‚ä½†æ˜¯GPUç”¨äºæ§åˆ¶å’Œç¼“å­˜çš„èŠ¯ç‰‡è¾ƒå°‘ï¼Œæ‰€ä»¥GPUçš„å»¶è¿Ÿæ™®éæ¯”CPUçš„å»¶è¿Ÿè¦å¤§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/ad102.png"
width="1071"
height="534"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/ad102_hu_af0d4ed04c3090bc.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/ad102_hu_1bcc8b2ff380a321.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="481px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gpc.png"
width="1062"
height="928"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gpc_hu_75850272ce98316b.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/gpc_hu_8c06f369986dd90d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="114"
data-flex-basis="274px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/sm.png"
width="902"
height="1280"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/sm_hu_234dbe9e0f056411.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/sm_hu_fb7f24c5320ff40e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="169px"
&gt;&lt;/p&gt;
&lt;p&gt;ä»¥AD102ä¸ºä¾‹ï¼ŒGPUèŠ¯ç‰‡æœ‰12ä¸ªGPCï¼Œæ¯ä¸ªGPCå†…æœ‰12ä¸ªSMå•å…ƒï¼Œæ¯ä¸ªSMå•å…ƒæœ‰128CUDAæ ¸å¿ƒã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥AD102æ ¸å¿ƒä¸­æœ‰&lt;strong&gt;12 * 12 * 128=18432&lt;/strong&gt; ä¸ªCUDAå•å…ƒï¼Œæ¯ä¸ªå•å…ƒè´Ÿè½½ä¸€ä¸ªçº¿ç¨‹ã€‚32ä¸ªCUDAæ ¸å¿ƒç»„æˆäº†ä¸€ä¸ª &lt;strong&gt;warp&lt;/strong&gt; ã€‚warpä½œä¸ºåŸºæœ¬å•å…ƒæ¥å—ç›¸åŒæŒ‡ä»¤å’Œä¸åŒçš„æ•°æ®è¿›è¡Œå¤„ç†ã€‚è¿™ç§æ¶æ„å«åšSIMDï¼ˆSingle Instruction Multiple Dataï¼‰&lt;/p&gt;
&lt;h1 id="other"&gt;Other
&lt;/h1&gt;&lt;h2 id="æ¨èå›¾ä¹¦"&gt;æ¨èå›¾ä¹¦ï¼Ÿ
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/tigerbook.png"
width="997"
height="1280"
srcset="https://foth0626.github.io/article/introduction-to-graphics-and-gpu/tigerbook_hu_75f5344b07b4bce8.png 480w, https://foth0626.github.io/article/introduction-to-graphics-and-gpu/tigerbook_hu_a53caaf53052c28d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="77"
data-flex-basis="186px"
&gt;&lt;/p&gt;
&lt;h2 id="è‡ªå­¦è·¯å¾„"&gt;è‡ªå­¦è·¯å¾„
&lt;/h2&gt;&lt;p&gt;GAMES002ã€GAMES101ã€tinyrenderã€GAMES202â€¦â€¦&lt;/p&gt;</description></item><item><title>PBR1ï¼šè¾å°„åº¦é‡å­¦å’Œè‰²åº¦å­¦</title><link>https://foth0626.github.io/article/radiometry-and-colorimetry/</link><pubDate>Sun, 24 Nov 2024 10:47:33 +0800</pubDate><guid>https://foth0626.github.io/article/radiometry-and-colorimetry/</guid><description>&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%94%B5%E7%A3%81%E6%B3%A2%E8%B0%B1.png" alt="Featured image of post PBR1ï¼šè¾å°„åº¦é‡å­¦å’Œè‰²åº¦å­¦" /&gt;&lt;p&gt;&lt;strong&gt;æœ¬æ–‡ä¸ºGraphicsç»„æˆè¯¾ç•™æ¡£è®°å½•&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;â€œUnweave a ranibow ,as it erewhile made. The tender-person'd Lamia melt into shade.â€ â€”â€”John Keats
â€œå¦‚åˆšæ‰æ‹†è§£å½©è™¹é‚£èˆ¬ï¼Œè®©å…‰çº¿å¨‡å«©çš„Lamiaé»¯ç„¶å¤±è‰²ã€‚â€ â€”â€”çº¦ç¿° Â· æµæ…ˆ
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™&lt;br&gt;
RTR4-CNç¬¬å…«ç« &lt;br&gt;
&lt;a class="link" href="https://www.youtube.com/watch?v=gnUYoQ1pwes" target="_blank" rel="noopener"
&gt;The Amazing Math behind Colors!&lt;/a&gt; &lt;br&gt;
&lt;a class="link" href="https://www.bilibili.com/video/av308811244?t=1619" target="_blank" rel="noopener"
&gt; å®¢è§‚ä¸è®¤çŸ¥â€”â€”è‰²åº¦å­¦ä¸é¢œè‰²æ„ŸçŸ¥ã€ä¸­ç§‘é™¢ç§‘å­¦å…¬å¼€è¯¾S03E09ã€‘&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»»ä½•åŸºäºç‰©ç†çš„æ¸²æŸ“æ–¹æ³•,å…¶ç¬¬ä¸€æ­¥éƒ½æ˜¯ä»¥ä¸€ç§ç²¾ç¡®çš„æ–¹å¼,æ¥å¯¹å…‰è¿›è¡Œé‡åŒ–(quantify)ã€‚åœ¨æœ¬å°èŠ‚ä¸­,æˆ‘ä»¬é¦–å…ˆä¼šä»‹ç»è¾å°„åº¦é‡å­¦(radiometry),å› ä¸ºå®ƒä¸å…‰çº¿çš„ç‰©ç†ä¼ è¾“è¿‡ç¨‹ç´§å¯†ç›¸å…³ã€‚
ç„¶åæˆ‘ä»¬ç´§æ¥ç€ä¼šè®¨è®ºå…‰åº¦å­¦(photometry),å®ƒä¼šæ ¹æ®äººçœ¼çš„çµæ•åº¦,å¯¹å…‰çº¿å€¼è¿›è¡ŒåŠ æƒã€‚&lt;/p&gt;
&lt;h1 id="å…‰"&gt;å…‰
&lt;/h1&gt;&lt;p&gt;åœ¨ç‰©ç†å…‰å­¦(physical optic)ä¸­,å…‰è¢«è®¤ä¸ºæ˜¯ä¸€ç§ç”µç£æ¨ªæ³¢(electromagnetic transverse wave),å®ƒä½¿å¾—ç”µåœº(electric field)å’Œç£åœº(magnetic field)åœ¨å…¶ä¼ æ’­æ–¹å‘çš„å‚ç›´é¢ä¸Šæ¥å›æŒ¯è¡ã€‚ç”µåœºå’Œç£åœºçš„æŒ¯è¡æ˜¯è€¦åˆçš„,äºŒè€…çš„çŸ¢é‡ç›¸äº’å‚ç›´,å¹¶ä¸”é•¿åº¦ä¹‹æ¯”ä¹Ÿæ˜¯å›ºå®šçš„.&lt;/p&gt;
&lt;p&gt;å…‰ä»¥ç”µç£æ³¢çš„å½¢å¼å­˜åœ¨ï¼Œå…‰å’Œç”µå­çš„ç›¸äº’ä½œç”¨ååˆ†å¯†åˆ‡ï¼šåŸå­çš„èƒ½çº§è·ƒè¿ä¼šå¸æ”¶/é‡Šæ”¾ å…‰å­ã€‚åœ¨è‡ªç„¶ç•Œä¸­ï¼Œç”µç£æ³¢çš„æ³¢é•¿èŒƒå›´ç›¸å½“å¹¿ï¼Œæœ‰æ³¢é•¿ä¸åˆ°ç™¾åˆ†ä¹‹ä¸€çº³ç±³çš„ä¼½é©¬æ³¢ï¼Œä¹Ÿæœ‰æ³¢é•¿é•¿è¾¾æ•°ä¸‡å…¬é‡Œçš„æä½é¢‘æ— çº¿ç”µæ³¢ã€‚å¯è§å…‰æ˜¯æ•´ä¸ªç”µç£æ³¢è°±çš„ä¸€å°éƒ¨åˆ†ï¼Œæ˜¯æ³¢é•¿ä¸º380nm ~ 760 nmçš„ç”µç£æ³¢ã€‚ç‰›é¡¿è‘—åçš„ä¸‰æ£±é•œåˆ†å…‰å®éªŒå°†ç™½å…‰åˆ†è§£ä¸ºä¸ƒä¸ªé¢œè‰²ï¼ˆæ®è¯´æ˜¯å› ä¸ºç‰›é¡¿å¯¹äºéŸ³ä¹çš„å–œçˆ±æ‰€ä»¥æŒ‰ä¸ƒä¸ªéŸ³é˜¶å¯¹åº”æˆäº†ä¸ƒä¸ªé¢œè‰²ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%94%B5%E7%A3%81%E6%B3%A2%E8%B0%B1.png"
width="863"
height="409"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%94%B5%E7%A3%81%E6%B3%A2%E8%B0%B1_hu_be8b37fafe60951.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%94%B5%E7%A3%81%E6%B3%A2%E8%B0%B1_hu_37bc4837c2ba941d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="211"
data-flex-basis="506px"
&gt;&lt;/p&gt;
&lt;h1 id="è¾å°„åº¦é‡å­¦radiometry"&gt;è¾å°„åº¦é‡å­¦ï¼ˆRadiometryï¼‰
&lt;/h1&gt;&lt;p&gt;å„ä¸ªè¾å°„é‡ï¼ˆradiometric quantityï¼‰çš„å­˜åœ¨æ˜¯ä¸ºäº†å¯¹ç”µç£è¾å°„çš„å„ä¸ªæ–¹é¢è¿›è¡Œæµ‹é‡å’Œåº¦é‡ï¼Œä¾‹å¦‚ï¼šæ€»èƒ½é‡ã€åŠŸç‡ï¼ˆéšæ—¶é—´å˜åŒ–çš„èƒ½é‡ï¼‰ä»¥åŠç›¸å¯¹äºé¢ç§¯ã€æ–¹å‘æˆ–è€…äºŒè€…çš„åŠŸç‡å¯†åº¦ç­‰ã€‚&lt;/p&gt;
&lt;h2 id="radiant-fluxè¾å°„é€šé‡"&gt;Radiant fluxï¼ˆè¾å°„é€šé‡ï¼‰
&lt;/h2&gt;&lt;p&gt;åœ¨è¾å°„åº¦é‡å­¦ä¸­ï¼Œæœ€åŸºæœ¬çš„å•ä½æ˜¯è¾å°„é€šé‡ï¼ˆradiant flux) $\phi$ ï¼Œè¾å°„é€šé‡æ˜¯æŒ‡è¾å°„èƒ½é‡éšæ—¶é—´çš„æµåŠ¨å˜åŒ–ï¼Œåˆå«åšåŠŸç‡ï¼ˆpowerï¼‰ï¼Œå…¶å•ä½ä¸ºç“¦ç‰¹(wattsï¼ŒW)ã€‚&lt;/p&gt;
&lt;h2 id="irradianceè¾ç…§åº¦"&gt;Irradianceï¼ˆè¾ç…§åº¦ï¼‰
&lt;/h2&gt;&lt;p&gt;è¾ç…§åº¦ï¼ˆirradianceï¼‰æ˜¯è¾å°„é€šé‡ç›¸å¯¹äºé¢ç§¯çš„å¯†åº¦ï¼Œå³ ( $d\phi/dA$ )ã€‚irradiance æ˜¯ç›¸å¯¹äºä¸€ä¸ªé¢ç§¯æ¥è¿›è¡Œå®šä¹‰çš„ï¼Œè¿™ä¸ªé¢ç§¯å¯èƒ½æ˜¯ç©ºé—´ä¸­çš„ä¸€ä¸ªå‡æƒ³åŒºåŸŸï¼Œä½†æ˜¯åœ¨æ¸²æŸ“ä¸­ä¸€èˆ¬éƒ½æ˜¯ç‰©ä½“çš„è¡¨é¢ã€‚irradiance çš„å•ä½æ˜¯ç“¦ç‰¹æ¯å¹³æ–¹ç±³ï¼ˆ$W/m^2$ ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="radiant-intensityè¾å°„å¼ºåº¦"&gt;Radiant Intensityï¼ˆè¾å°„å¼ºåº¦ï¼‰
&lt;/h2&gt;&lt;h3 id="ç«‹ä½“è§’solid-angle"&gt;ç«‹ä½“è§’ï¼ˆSolid Angleï¼‰
&lt;/h3&gt;&lt;p&gt;åœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œæˆ‘ä»¬å°†è§’åº¦å®šä¹‰ä¸ºå¼§çš„é•¿åº¦ä¸åŠå¾„çš„æ¯”å€¼ï¼Œåªéœ€è¦ $2\pi$ å°±å¯ä»¥è¡¨ç¤ºæ•´ä¸ªå•ä½åœ†çš„è§’åº¦ï¼Œåœ¨ä¸‰ç»´ç©ºé—´ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å•ä½çƒæ¥å®šä¹‰ç«‹ä½“è§’ï¼Œå³ç«‹ä½“è§’å½¢æˆçš„ä¸€ç»„æ–¹å‘ä¸å•ä½çƒæ‰€ç›¸äº¤çš„é¢ç‰‡çš„é¢ç§¯ã€‚ç«‹ä½“å¼§åº¦ä¸º $4\pi$ çš„ç«‹ä½“è§’å¯ä»¥è¦†ç›–æ•´ä¸ªå•ä½çƒã€‚
ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼•å…¥è¾å°„å¼ºåº¦(radiant intensity) $I$ï¼Œå³è¾å°„é€šé‡ç›¸å¯¹äºæ–¹å‘çš„å¯†åº¦ï¼Œæ›´å‡†ç¡®åœ°è¯´ï¼Œæ˜¯ç›¸å¯¹äºç«‹ä½“è§’çš„å¯†åº¦( $d\Phi/d\omega$ )ã€‚å®ƒçš„å•ä½æ˜¯ç“¦ç‰¹æ¯ç«‹ä½“å¼§åº¦ï¼ˆ$W/sr$ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="radianceè¾å°„åº¦"&gt;Radiance(è¾å°„åº¦)
&lt;/h2&gt;&lt;p&gt;æœ€åï¼Œè¾å°„åº¦ï¼ˆradianceï¼‰ Læ˜¯å¯¹å•æ¡å…‰çº¿ä¸­ç”µç£è¾å°„çš„åº¦é‡ã€‚æ›´ç²¾ç¡®åœ°è¯´ï¼Œå®ƒæ˜¯è¾å°„é€šé‡ç›¸å¯¹äºé¢ç§¯å’Œç«‹ä½“è§’çš„å¯†åº¦ï¼ˆ $d^2\Phi/dAd\omega$ ï¼‰ã€‚è¿™é‡Œçš„é¢ç§¯ä½äºå‚ç›´äºå…‰çº¿çš„å¹³é¢ä¸Šï¼Œå¦‚æœæƒ³è¦åœ¨å…¶ä»–æ–¹å‘ä¸Šå¯¹è¡¨é¢æ–½åŠ è¾å°„ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ä½™å¼¦å› å­è¿›è¡Œæ ¡æ­£ã€‚æˆ‘ä»¬å¯èƒ½è¿˜ä¼šé‡åˆ°ä¸€äº›å…¶ä»–å¯¹äº radiance çš„å®šä¹‰ï¼Œå®ƒä»¬ä½¿ç”¨äº†æœ¯è¯­â€œæŠ•å½±é¢ç§¯â€æ¥ä»£è¡¨è¿™ä¸ªæ ¡æ­£å› å­ã€‚&lt;br&gt;
radiance æ˜¯ä¼ æ„Ÿå™¨ï¼ˆä¾‹å¦‚çœ¼ç›æˆ–è€…ç›¸æœºï¼‰æ‰€ç›´æ¥æµ‹é‡çš„å¯¹è±¡ï¼Œå› æ­¤å®ƒå¯¹æ¸²æŸ“è€Œè¨€è‡³å…³é‡è¦ã€‚è®¡ç®—ç€è‰²æ–¹ç¨‹çš„ç›®çš„å°±æ˜¯æ²¿ç€ç»™å®šçš„å…‰çº¿ï¼Œè®¡ç®—ä»ç€è‰²ç‚¹åˆ°ç›¸æœºçš„radianceï¼›æ²¿ç€è¿™æ¡å…‰çº¿è®¡ç®—å‡ºæ¥çš„ç»“æœ Lï¼Œä¸ç¬¬ 5 ç« ä¸­çš„$c_{shaded}$ åœ¨ç‰©ç†ä¸Šæ˜¯ç­‰ä»·çš„ã€‚radianceçš„å…¬åˆ¶å•ä½æ˜¯ç“¦ç‰¹æ¯å¹³æ–¹ç±³æ¯ç«‹ä½“å¼§åº¦ï¼ˆ $W/m^2sr$ ï¼‰ã€‚
ç¯å¢ƒä¸­çš„ radiance å¯ä»¥è¢«è®¤ä¸ºæ˜¯äº”ä¸ªå˜é‡ï¼ˆæˆ–è€…å…­ä¸ªå˜é‡ï¼Œå°†æ³¢é•¿è€ƒè™‘åœ¨å†…ï¼‰çš„å‡½æ•°ï¼Œå®ƒè¢«ç§°ä¸ºè¾å°„åˆ†å¸ƒï¼ˆradiance distributionï¼‰ï¼›å…¶ä¸­æœ‰ä¸‰ä¸ªå˜é‡æŒ‡å®šäº†ä½ç½®ï¼Œå¦å¤–ä¸¤ä¸ªå˜é‡æŒ‡å®šäº†æ–¹å‘ï¼Œè¿™ä¸ªåˆ†å¸ƒå‡½æ•°æè¿°äº†åœ¨ç©ºé—´ä¸­ä»»ä½•åœ°æ–¹ä¼ æ’­çš„ä»»ä½•å…‰çº¿ã€‚æ ¹æ®ä¸Šé¢çš„æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥ç†è§£æ¸²æŸ“è¿‡ç¨‹ï¼šå°†çœ¼ç›å’Œå±å¹•å®šä¹‰ä¸ºä¸€ä¸ªç‚¹å’Œä¸€ç»„æ–¹å‘ï¼ˆä¾‹å¦‚ä»çœ¼ç›å‡ºå‘ï¼Œç©¿è¿‡æ¯ä¸ªåƒç´ çš„å…‰çº¿ï¼‰ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œåœ¨è¿™ç»„æ–¹å‘ä¸Šå¯¹çœ¼ç›æ‰€åœ¨çš„ä½ç½®è¿›è¡Œè¯„ä¼°ã€‚&lt;/p&gt;
&lt;h1 id="å…‰åº¦å­¦photometry"&gt;å…‰åº¦å­¦ï¼ˆPhotometryï¼‰
&lt;/h1&gt;&lt;p&gt;è¾å°„åº¦é‡å­¦ä»…ä»…å¯¹ç‰©ç†é‡è¿›è¡Œäº†ç ”ç©¶ï¼Œå®ƒå®Œå…¨æ²¡æœ‰è€ƒè™‘äººçœ¼çš„æ„ŸçŸ¥ã€‚ä¸æ­¤ç›¸å…³çš„ä¸€ä¸ªé¢†åŸŸè¢«ç§°ä¸ºå…‰åº¦å­¦ï¼ˆphotometryï¼‰ï¼Œå®ƒä¸è¾å°„åº¦é‡å­¦ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¼šæ ¹æ®äººçœ¼çš„æ•æ„Ÿåº¦ï¼Œå¯¹è¾å°„åº¦é‡å­¦ä¸­çš„ä¸€åˆ‡äº‹ç‰©è¿›è¡ŒåŠ æƒå¤„ç†ã€‚é€šè¿‡ä¹˜ä»¥ CIE å…‰åº¦æ›²çº¿ï¼ˆCIE photometric curveï¼‰ï¼Œè¾å°„åº¦é‡å­¦ä¸­çš„è®¡ç®—ç»“æœå¯ä»¥è¢«è½¬æ¢ä¸ºç›¸åº”çš„å…‰åº¦å•ä½ã€‚CIE å…‰åº¦æ›²çº¿æ˜¯ä¸€æ¡ä»¥ 555 çº³ç±³ä¸ºä¸­å¿ƒçš„é’Ÿå½¢æ›²çº¿ï¼Œå®ƒä»£è¡¨äº†äººçœ¼å¯¹å„ç§æ³¢é•¿å…‰çº¿çš„å“åº”ç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/CIE%E5%85%89%E5%BA%A6%E6%9B%B2%E7%BA%BF.png"
width="660"
height="294"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/CIE%E5%85%89%E5%BA%A6%E6%9B%B2%E7%BA%BF_hu_9d0147f42d688074.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/CIE%E5%85%89%E5%BA%A6%E6%9B%B2%E7%BA%BF_hu_f963b032a9826bca.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="224"
data-flex-basis="538px"
&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè½¬æ¢æ›²çº¿ä¸æµ‹é‡å•ä½ï¼Œæ˜¯å…‰åº¦å­¦ç†è®ºå’Œè¾å°„åº¦é‡å­¦ç†è®ºä¹‹é—´çš„å”¯ä¸€åŒºåˆ«ã€‚æ¯ä¸ªè¾å°„ç‰©ç†é‡éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„å…‰åº¦å­¦ç‰©ç†é‡ï¼Œä¸‹è¡¨ç»™å‡ºäº†å®ƒä»¬çš„åç§°å’Œå•ä½ã€‚è¿™äº›å…‰åº¦å­¦ç‰©ç†é‡çš„å•ä½éƒ½æœ‰é¢„æœŸçš„å¯¹åº”å…³ç³»ï¼ˆä¾‹å¦‚ï¼šlux çš„å•ä½æ˜¯ lumen æ¯å¹³æ–¹ç±³ï¼‰ã€‚è™½ç„¶é€»è¾‘ä¸Šæ¥è®²ï¼Œlumenï¼ˆæµæ˜ï¼‰åº”è¯¥æ˜¯ä¸ªåŸºæœ¬å•ä½ï¼Œä½†æ˜¯åœ¨å†å²ä¸Šï¼Œcandelaï¼ˆåå¾·æ‹‰ï¼‰åˆ™è¢«å®šä¹‰ä¸ºåŸºæœ¬å•ä½ï¼Œè€Œå…¶ä»–å•ä½éƒ½æ˜¯ä»åå¾·æ‹‰ä¸­æ´¾ç”Ÿå‡ºæ¥çš„ã€‚åœ¨åŒ—ç¾ï¼Œç…§æ˜è®¾è®¡å¸ˆä»ç„¶ä¼šä½¿ç”¨å·²è¢«åºŸå¼ƒçš„è‹±åˆ¶æµ‹é‡å•ä½ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ luxï¼ˆå‹’å…‹æ–¯ï¼‰ï¼Œè¿™ä¸ªè‹±åˆ¶å•ä½å«åšè‹±å°ºçƒ›å…‰ï¼ˆfoot-candleï¼Œfcï¼‰ã€‚æ— è®ºå“ªç§æƒ…å†µï¼Œå¤§å¤šæ•°æµ‹å…‰ä»ªéƒ½ä¼šå¯¹illuminance è¿›è¡Œæµ‹é‡ï¼Œè¿™ä¸ªå•ä½åœ¨ç…§æ˜å·¥ç¨‹ï¼ˆillumination engineeringï¼‰ä¸­ååˆ†é‡è¦ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Radiometry Quantity&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Photometric Quantity&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Radiant flux&lt;/td&gt;
&lt;td&gt;watt (W)&lt;/td&gt;
&lt;td&gt;Luminous flux&lt;/td&gt;
&lt;td&gt;lumen (lm)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Irradiance&lt;/td&gt;
&lt;td&gt;W/m^2&lt;/td&gt;
&lt;td&gt;Illuminance&lt;/td&gt;
&lt;td&gt;lux (lx)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Radiant intensity&lt;/td&gt;
&lt;td&gt;W/sr&lt;/td&gt;
&lt;td&gt;Luminous intensity&lt;/td&gt;
&lt;td&gt;candela (cd)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Radiance&lt;/td&gt;
&lt;td&gt;W/(m^2Â·sr)&lt;/td&gt;
&lt;td&gt;Luminance&lt;/td&gt;
&lt;td&gt;cd/m^2 (nit)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Luminance é€šå¸¸ç”¨æ¥æè¿°å¹³é¢çš„äº®åº¦ã€‚ä¾‹å¦‚ï¼šé«˜åŠ¨æ€èŒƒå›´ï¼ˆhigh dynamic rangeï¼ŒHDRï¼‰ç”µè§†å±å¹•çš„å³°å€¼äº®åº¦é€šå¸¸åœ¨ 500 åˆ° 1000 å°¼ç‰¹ï¼ˆnitï¼‰ä¹‹é—´ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ™´æœ—å¤©ç©ºçš„äº®åº¦å¤§çº¦ä¸º 8000 å°¼ç‰¹ï¼Œ60 ç“¦çš„ç”µç¯æ³¡çº¦ä¸º 12 ä¸‡å°¼ç‰¹ï¼Œåœ°å¹³çº¿ä¸Šçš„å¤ªé˜³çº¦ä¸º60 ä¸‡å°¼ç‰¹ã€‚&lt;/p&gt;
&lt;h1 id="è‰²åº¦å­¦colorimetry"&gt;è‰²åº¦å­¦ï¼ˆColorimetryï¼‰
&lt;/h1&gt;&lt;p&gt;çœŸæ­£å…³é”®çš„ç‰¹æ€§æ˜¯æ³¢é•¿ï¼Œçœ¼ç›æ•æ‰åˆ°æ³¢é•¿é€šè¿‡å‘å¤§è„‘å‘é€ä¿¡å·ï¼Œæˆ‘ä»¬å°†å…¶æ„ŸçŸ¥ä¸ºé¢œè‰²ã€‚å› æ­¤è‰²å½©å¹¶éå…‰çš„å›ºæœ‰å±æ€§ï¼Œè€Œæ˜¯ä¸€ç§å¿ƒç†ç°è±¡ï¼Œå®ƒä¸æ³¢é•¿æœ‰å…³ï¼Œæœ¬è´¨ä¸Šæ˜¯é—´æ¥çš„ã€‚æ‰€ä»¥è‰²å½©å¹¶ä¸ä»…ä»…æ˜¯ä¸åŒæ³¢é•¿çš„ç›´æ¥å¯¹åº”ï¼Œå› ä¸ºè¿˜æœ‰çœ¼é•œå°†å…‰è½¬æ¢æˆå¤§è„‘å¯è¯†åˆ«ä¿¡å·ã€‚&lt;/p&gt;
&lt;h2 id="çœ¼ç›çš„ç»“æ„"&gt;çœ¼ç›çš„ç»“æ„
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%841.png"
width="1064"
height="532"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%841_hu_ab1ba76de3f01678.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%841_hu_38c73b46682b8751.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="480px"
&gt;&lt;/p&gt;
&lt;p&gt;å¤–ç•Œç‰©ä½“ç»è¿‡æŠ˜å°„åï¼Œæˆåƒåˆ°è§†ç½‘è†œä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%842.png"
width="597"
height="595"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%842_hu_48eb58b0ec74d065.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%842_hu_ba319a6c1546ddb0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%843.png"
width="600"
height="600"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%843_hu_a29e43f27e9f9ef6.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%9C%BC%E7%9D%9B%E7%9A%84%E7%BB%93%E6%9E%843_hu_dda078bae4a9583c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
&gt;&lt;/p&gt;
&lt;p&gt;äººç±»çš„çœ¼ç›è¡€ç®¡ä¸ç¥ç»åœ¨æ„Ÿå…‰ç»†èƒä¹‹å‰ï¼Œè¿™æ˜¯è¿›åŒ–å²ä¸Šçš„é—ç•™é—®é¢˜ï¼Œä¸ºäº†å‡å¼±è¿™ç§å½±å“ï¼Œä¸­å¤®çš„éƒ¨åˆ†è¡€ç®¡å’Œç¥ç»æ›´è–„ä»¥å‡å¼±å½±å“ï¼Œå°±æœ‰äº†ä¸­å¤®å‡¹è¿™ç§ç»“æ„ã€‚ç›²ç‚¹åˆ™æ˜¯è¡€ç®¡ç¥ç»ç©¿é€çœ¼çƒè¿æ¥åˆ°å¤§è„‘ï¼Œå¯¼è‡´è¯¥åŒºåŸŸæ²¡æœ‰è§†è§‰ç»†èƒã€‚
é»„æ–‘åŒºèšé›†äº†å¤§é‡çš„è§†è§‰ç»†èƒï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯è§†é”¥ç»†èƒï¼ˆCones cellsï¼‰å’Œè§†æ†ç»†èƒï¼ˆRod cellsï¼‰ã€‚è§†é”¥ç»†èƒä¸»è¦è´Ÿè´£å¯¹é¢œè‰²çš„æ„ŸçŸ¥ï¼Œè§†æ†ç»†èƒä¸»è¦è´Ÿè´£å¯¹äº®åº¦çš„æ„ŸçŸ¥ã€‚è§†é”¥ç»†èƒå¤§çº¦æ•°é‡ä¸º600wï¼Œæ¯ç§è´Ÿè´£æ£€æµ‹å¯¹åº”çš„æ³¢é•¿ã€‚
è§†é”¥ç»†èƒä¸€å…±æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«å¯¹çŸ­æ³¢é•¿(400 ~ 550nm,å“åº”æ›²çº¿å³°å€¼åœ¨440nmï¼‰ï¼Œä¸­ç­‰æ³¢é•¿ï¼ˆ400nm ~ 650nmï¼Œå“åº”å³°å€¼åœ¨540nmï¼‰ï¼Œé•¿æ³¢é•¿ï¼ˆ430nm ~ 700nmï¼Œå“åº”å³°å€¼åœ¨570nmï¼‰æ•æ„Ÿã€‚
&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E8%A7%86%E8%A7%89%E7%BB%86%E8%83%9E%E5%93%8D%E5%BA%94%E6%9B%B2%E7%BA%BF.png"
width="1280"
height="717"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E8%A7%86%E8%A7%89%E7%BB%86%E8%83%9E%E5%93%8D%E5%BA%94%E6%9B%B2%E7%BA%BF_hu_ad6b4b2ba99f6436.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E8%A7%86%E8%A7%89%E7%BB%86%E8%83%9E%E5%93%8D%E5%BA%94%E6%9B%B2%E7%BA%BF_hu_33c401fc01249494.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="428px"
&gt;&lt;/p&gt;
&lt;p&gt;æŠŠä¸‰ä¸ªè§†é”¥ç»†èƒçš„å“åº”æ›²çº¿ç»˜ç”»å‡ºæ¥ï¼Œå¤§çº¦é•¿è¿™ä¸ªæ ·å­ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯çŸ­æ³¢é•¿çš„ç»å¯¹å“åº”æ›²çº¿å³°å€¼å¼ºåº¦è¿œè¿œä½äºå…¶ä»–ä¸¤æ¡å“åº”æ›²çº¿çš„å³°å€¼å¼ºåº¦ã€‚å› æ­¤å¸¸ä¼šæŠŠè¿™äº›æ›²çº¿å½’ä¸€åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;äººçœ¼ä¼šæŠŠçŸ­æ³¢é•¿ï¼Œä¸­ç­‰æ³¢é•¿ï¼Œé•¿æ³¢é•¿çš„å…‰çº¿è¯†åˆ«ä¸ºè“è‰²ï¼Œç»¿è‰²ï¼Œçº¢è‰²ã€‚è¿™æœ‰ä¸€äº›é“ç†ï¼Œä½†ä¸å‡†ç¡®ï¼Œé•¿æ³¢å“åº”è§†é”¥ç»†èƒè¢«å®Œå…¨æ¿€æ´»æ—¶ï¼ˆ570nmï¼‰æ—¶ï¼Œå…¶å®ä»ç„¶å¤„äºç»¿è‰²èŒƒå›´å†…ã€‚æ‰€ä»¥æ ¹æ®æ³¢é•¿åˆ’åˆ†æ‰æ›´å‡†ç¡®ã€‚
&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E7%9B%B8%E5%BA%94%E6%9B%B2%E7%BA%BF.png"
width="1280"
height="811"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E7%9B%B8%E5%BA%94%E6%9B%B2%E7%BA%BF_hu_77e1e9f44d43dcb6.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E7%9B%B8%E5%BA%94%E6%9B%B2%E7%BA%BF_hu_2a9d646dd4cfbc52.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="157"
data-flex-basis="378px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E5%93%8D%E5%BA%94%E5%80%BC.png"
width="1280"
height="684"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E5%93%8D%E5%BA%94%E5%80%BC_hu_a8d47493cbdba517.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E5%93%8D%E5%BA%94%E5%80%BC_hu_f87bb9ec1d79fc1a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="449px"
&gt;&lt;/p&gt;
&lt;h1 id="è‰²å½©ç©ºé—´"&gt;è‰²å½©ç©ºé—´
&lt;/h1&gt;&lt;p&gt;ç”±äºäººç±»åªæœ‰ä¸‰ç§é¢œè‰²æ„Ÿå—å™¨ï¼Œæ‰€ä»¥åªç”¨ä¸‰ä¸ªæ•°å­—å°±å¯ä»¥ç²¾ç¡®çš„è¡¨ç¤ºä»»ä½•é¢œè‰²ã€‚ä½†æ˜¯å¦‚ä½•ç¡®å®šé¢œè‰²ä¹‹é—´çš„å¯¹åº”å…³ç³»å‘¢ï¼ŸCIEï¼ˆCommission Internationale d&amp;rsquo;Eclairagï¼‰æå‡ºäº†ä¸€å¥—æ ‡å‡†ï¼Œå¹¶æ ¹æ®æ ‡å‡†è¿›è¡Œäº†é…è‰²å®éªŒã€‚
å½“æ—¶ä½¿ç”¨æ±ç¯ï¼Œæ±çš„åŸå­å…‰è°±ä¸­çš„700nm,546nm,436nmå¯ä»¥åšçš„æ¯”è¾ƒçº¯ï¼Œç„¶åå°†ä¸‰ä¸ªé¢œè‰²å åŠ ï¼Œå†å¦ä¸€ä¾§ä½¿ç”¨åˆ†å…‰è®¡æˆ–è¿™å…‰æ …ç­‰è®¾å¤‡å¾—åˆ°è¿ç»­çš„é¢œè‰²ã€‚é€šè¿‡è°ƒèŠ‚ä¸‰ç§é¢œè‰²çš„æƒé‡è·å¾—ç›¸åŒçš„é¢œè‰²ã€‚å°±å¾—åˆ°äº†é¢œè‰²åŒ¹é…å‡½æ•°ï¼ˆcolor-matching function)ã€‚
&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E5%8C%B9%E9%85%8D%E5%87%BD%E6%95%B0.png"
width="488"
height="310"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E5%8C%B9%E9%85%8D%E5%87%BD%E6%95%B0_hu_e6408e370da31ecc.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E5%8C%B9%E9%85%8D%E5%87%BD%E6%95%B0_hu_f7975c454c107eb4.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="157"
data-flex-basis="377px"
&gt;&lt;br&gt;
æœ‰ä¸€æ®µæ›²çº¿çš„å€¼æ˜¯è´Ÿçš„ï¼Œè¿™æ„å‘³æˆ‘ä»¬æ— æ³•é€šè¿‡æ··åˆä¸‰è‰²å…‰å¾—åˆ°è¿™ç§é¢œè‰²ï¼Œè€Œæ˜¯éœ€è¦æŠŠå¯¹åº”çš„å…‰æºæ·»åŠ åˆ°å¾…æµ‹é¢œè‰²çš„è‰²å—ä¸­æ‰èƒ½ä½¿äººçœ¼çš„æ„ŸçŸ¥ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæŠŠæ‰€æœ‰æ³¢é•¿å¯¹åº”çš„å…‰æ˜¾ç¤ºå‡ºæ¥ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ä¸€äº›é—®é¢˜ï¼šè®¸å¤šé¢œè‰²æœ‰ç¼ºå¤±ï¼Œæ¯”å¦‚ç²‰è‰²ï¼Œå“çº¢ï¼Œæ£•è‰²ï¼Œç±³é»„ï¼Ÿæœ€é‡è¦çš„æ˜¯ï¼šç™½è‰²å’Œé»‘è‰²ï¼Ÿ
&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E5%92%8C%E9%A2%9C%E8%89%B2.png"
width="1280"
height="526"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E5%92%8C%E9%A2%9C%E8%89%B2_hu_ea8522e713f1817b.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E5%92%8C%E9%A2%9C%E8%89%B2_hu_1459aa20ce4eb1f9.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="243"
data-flex-basis="584px"
&gt;&lt;/p&gt;
&lt;p&gt;é»‘è‰²æ˜¯æ— å…‰ç¯å¢ƒä¸‹çš„é¢œè‰²ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œäº®åº¦ä¹Ÿæ˜¯ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼šçœ¼ç›çš„è§†é”¥ç»†èƒæ•°é‡å¤§çº¦æœ‰600wï¼Œåœ¨ä½äº®åº¦çš„æƒ…å†µä¸‹ï¼Œä¸å¯èƒ½æ‰€æœ‰çš„è§†é”¥ç»†èƒéƒ½èƒ½è¢«æ¿€æ´»ã€‚åªæœ‰éƒ¨åˆ†è§†é”¥ç»†èƒè¢«æ¿€æ´»çš„æƒ…å†µä¸‹ï¼Œå¤§è„‘ä¼šæŠŠé»‘è‰²å’ŒåŸè‰²è¿›è¡Œæ··åˆï¼Œå½¢æˆå˜ä½“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E4%BA%AE%E5%BA%A6.png"
width="1280"
height="698"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E4%BA%AE%E5%BA%A6_hu_c4957495627c3a3c.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E9%A2%9C%E8%89%B2%E4%B8%8E%E4%BA%AE%E5%BA%A6_hu_2a1624321389598d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="183"
data-flex-basis="440px"
&gt;&lt;/p&gt;
&lt;p&gt;è€Œå¯¹äºæ©™è‰²ï¼Œé»„è‰²è¿™ç§é²œäº®çš„é¢œè‰²ï¼Œå½“å˜æš—åä¸åŸæ¥çš„é¢œè‰²å·®åˆ«è¿‡äºæ˜æ˜¾ï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬è§†ä¸ºæ–°é¢œè‰²ï¼Œ
&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E5%92%8C%E9%A2%9C%E8%89%B22.png"
width="1280"
height="775"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E5%92%8C%E9%A2%9C%E8%89%B22_hu_5a15e1a589d4bdc2.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E5%92%8C%E9%A2%9C%E8%89%B22_hu_c2251644d8e88d20.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="165"
data-flex-basis="396px"
&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨äº®åº¦å’Œæ³¢é•¿ï¼Œå³å¯è¡¨ç°å‡ºä¸€ä¸ªäºŒç»´çš„è‰²å½©ç©ºé—´ã€‚
&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E4%B8%8E%E4%BA%AE%E5%BA%A6%E4%BA%8C%E7%BB%B4%E8%89%B2%E5%BD%A9.png"
width="1280"
height="708"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E4%B8%8E%E4%BA%AE%E5%BA%A6%E4%BA%8C%E7%BB%B4%E8%89%B2%E5%BD%A9_hu_f80a752a53cad098.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E6%B3%A2%E9%95%BF%E4%B8%8E%E4%BA%AE%E5%BA%A6%E4%BA%8C%E7%BB%B4%E8%89%B2%E5%BD%A9_hu_acf221b6bafe9a10.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="433px"
&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æœ‰ä¸€äº›ä¹‹å‰é—æ¼çš„é¢œè‰²å¯ä»¥æ‰¾åˆ°äº†ï¼Œä½†æ˜¯ä»ç„¶æœ‰å¾ˆå¤šé¢œè‰²æ²¡æœ‰æ‰¾åˆ°ï¼šæ¯”å¦‚å“çº¢ï¼Œç²‰è‰²ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥è‰²å½©ç©ºé—´çš„æ¦‚å¿µï¼Œæˆ‘ä»¬æŠŠçŸ­æ³¢é•¿ï¼Œä¸­æ³¢é•¿ï¼Œé•¿æ³¢é•¿ä½œä¸ºåæ ‡ç³»çš„ä¸‰ä¸ªè½´ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥åœ¨ç©ºé—´ä¸­å¾—åˆ°è¿™æ ·ä¸€æ¡æ›²çº¿ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E5%93%8D%E5%BA%94%E6%9B%B2%E7%BA%BF.png"
width="1280"
height="703"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E5%93%8D%E5%BA%94%E6%9B%B2%E7%BA%BF_hu_988c5ce361e72c4e.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E5%93%8D%E5%BA%94%E6%9B%B2%E7%BA%BF_hu_988f140561dc350e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="436px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%BC%BA%E5%A4%B1%E7%9A%84%E9%A2%9C%E8%89%B2.png"
width="1280"
height="907"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%BC%BA%E5%A4%B1%E7%9A%84%E9%A2%9C%E8%89%B2_hu_5218dd467d303c68.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/%E7%BC%BA%E5%A4%B1%E7%9A%84%E9%A2%9C%E8%89%B2_hu_38b1652f9eb8be6a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="338px"
&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡å¯¹ä¸åŒçš„å…‰çº¿è¿›è¡Œæ··åˆï¼Œå°±å¯ä»¥åœ¨ç°å®ä¸­å¾—åˆ°è¿™äº›é¢œè‰²ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/LMS%E5%92%8CCIE%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4.png"
width="1280"
height="738"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/LMS%E5%92%8CCIE%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4_hu_17d4828a0ff76ef8.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/LMS%E5%92%8CCIE%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4_hu_a6ced1e8ae86419f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="416px"
&gt;&lt;/p&gt;
&lt;p&gt;åˆšæ‰è®²çš„è‰²å½©ç©ºé—´å«åšLMSç©ºé—´ï¼Œå®ƒå¯¹äºå“åº”æ›²çº¿æ˜¯å½’ä¸€åŒ–çš„ï¼Œå¦‚æœæˆ‘ä»¬æŠŠçœŸæ­£å“åº”æ›²çº¿è¿›è¡ŒåŠ æƒï¼Œé‚£ä¹ˆä¾¿ä¼šå¾—åˆ°CIEè‰²å½©ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;å¥½çš„ï¼Œä½†æ˜¯è¿™ä¸ªç©ºé—´æ˜¯ä¸‰ç»´çš„ï¼Œå¦‚æœæˆ‘æƒ³æ€»è§ˆæ‰€æœ‰é¢œè‰²ï¼Œå°±ä¼šä¸å¤ªæ–¹ä¾¿ã€‚å›æƒ³ä¹‹å‰çš„å†…å®¹ï¼Œé™ä½é¢œè‰²çš„äº®åº¦ä¼šé€æ¸å˜æˆé»‘è‰²ï¼Œä½†æ˜¯é¢œè‰²æœ¬èº«çš„è‰²è°ƒæ˜¯æ²¡æœ‰æ”¹å˜çš„ï¼Œæˆ‘ä»¬æŠŠåŒä¸€è‰²è°ƒä½†æ˜¯ä¸åŒäº®åº¦çš„é¢œè‰²å¯ä»¥åœ¨è¿™ä¸ªç©ºé—´åæ ‡ä¸­è¿æˆä¸€æ¡çº¿ï¼Œè¿™æ¡çº¿è¢«ç§°ä¸ºè‰²åº¦çº¿ï¼Œè‰²åº¦çº¿ä¸å¹³é¢ $x+y+z=1$ çš„äº¤ç‚¹ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯è¿™ä¸ªç‚¹åœ¨å¹³é¢ä¸Šçš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/radiometry-and-colorimetry/CIE%E8%89%B2%E5%BA%A6%E5%9B%BE.png"
width="1280"
height="947"
srcset="https://foth0626.github.io/article/radiometry-and-colorimetry/CIE%E8%89%B2%E5%BA%A6%E5%9B%BE_hu_6d1d2fb468e5d779.png 480w, https://foth0626.github.io/article/radiometry-and-colorimetry/CIE%E8%89%B2%E5%BA%A6%E5%9B%BE_hu_4aa117e72c43c09e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="135"
data-flex-basis="324px"
&gt;&lt;/p&gt;</description></item><item><title>ModelçŸ©é˜µå¯¹äºæ³•çº¿çš„ä¸€äº›éé¢„æœŸå˜åŒ–</title><link>https://foth0626.github.io/article/object-normal-to-world-problem/</link><pubDate>Thu, 14 Nov 2024 19:21:57 +0800</pubDate><guid>https://foth0626.github.io/article/object-normal-to-world-problem/</guid><description>&lt;img src="https://foth0626.github.io/article/object-normal-to-world-problem/tnmaor6l.bmp" alt="Featured image of post ModelçŸ©é˜µå¯¹äºæ³•çº¿çš„ä¸€äº›éé¢„æœŸå˜åŒ–" /&gt;&lt;p&gt;å½“è¿›è¡ŒmodelçŸ©é˜µå˜æ¢æ—¶ï¼Œå¦‚æœå„ä¸ªæ–¹å‘çš„åˆ†é‡å˜æ¢ï¼ˆç‰¹æŒ‡scaleï¼‰ä¸æ˜¯ç»Ÿä¸€çš„æ¯”ä¾‹ï¼Œä¼šå¯¼è‡´æ³•çº¿å‡ºç°éé¢„æœŸçš„ç»“æœï¼Œå¦‚å›¾ã€‚
å°†xå˜æ¢ä¸ºåŸæ¥çš„ $1/2$ æ—¶ï¼Œæ³•çº¿ä¼šå‘ç”Ÿä¸€æ¬¡éé¢„æœŸçš„å˜åŒ–ï¼šæ³•çº¿çš„å˜æ¢åº”è¯¥æ˜¯xè½´å˜åŒ–çš„å€’æ•°æˆ–è€…è¯´é€†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/object-normal-to-world-problem/tnmaor6l.bmp"
width="300"
height="200"
srcset="https://foth0626.github.io/article/object-normal-to-world-problem/tnmaor6l_hu_cc6ff2e59f1fa68e.bmp 480w, https://foth0626.github.io/article/object-normal-to-world-problem/tnmaor6l_hu_9881ede968127f9a.bmp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦åè½¬ç¼©æ”¾ï¼Œä½†æ˜¯åº”è¯¥è®©æ—‹è½¬å’ŒæŠ•å½±çŸ©é˜µä¿æŒä¸å˜ï¼Œå¯¹äºé¡¶ç‚¹çš„å˜æ¢ï¼Œåº”è¯¥æœ‰ &lt;/p&gt;
$$ M = T_1T_2T_3 = S_1R_1P_1...$$&lt;p&gt;
æˆ‘ä»¬æŠ›å¼ƒæ‰ $Position$ ï¼Œä½ç½®å¯¹äºæ³•çº¿çš„å˜æ¢æ²¡æœ‰ä»»ä½•å½±å“ï¼Œæˆ‘ä»¬ç°åœ¨çš„çŸ©é˜µå¯ä»¥ç®€åŒ–ä¸º &lt;/p&gt;
$$M = S_1R_1S_2R_2 ...$$&lt;p&gt; æˆ‘ä»¬å¸Œæœ›çš„çŸ©é˜µé•¿è¿™æ · &lt;/p&gt;
$$O = S^{-1}_1R_1S^{-1}_2R_2$$&lt;p&gt; æ€è€ƒä¸€ä¸‹ï¼šå¯¹äºModelçŸ©é˜µ $M$ æ¥è¯´ï¼Œæˆ‘ä»¬æœ‰å®ƒçš„é€† &lt;/p&gt;
$$M^{-1} = R^{-1}_2 S^{-1}_2 R^{-1}_1 S^{-1}_1$$&lt;p&gt; æ³¨æ„åˆ°æœ‰ï¼š&lt;/p&gt;
$$(M^{-1})^T = O$$&lt;p&gt; æ‰€ä»¥å°†é¡¶ç‚¹æ³•çº¿è½¬æ¢åˆ°åæ ‡ç©ºé—´çš„æ­£ç¡®æ–¹æ³•æ˜¯&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;i.normal = mul(transpose((float3x3)unity_WorldToObject), v.normal);
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;i.normal = normalize(i.normal);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å½“ç„¶ï¼ŒUnityå®˜æ–¹æä¾›äº†ä¸€ä¸ª &lt;code&gt;UnityObjectToWorldNormal&lt;/code&gt; å‡½æ•°è¿›è¡Œè¿™ä¸ªæ“ä½œï¼Œå³æœ‰&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;i.normal = UnityObjectToWorldNormal(v.normal);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹å®šä¹‰&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-c" data-lang="c"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// Transforms normal from object to world space
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="kr"&gt;inline&lt;/span&gt; &lt;span class="n"&gt;float3&lt;/span&gt; &lt;span class="nf"&gt;UnityObjectToWorldNormal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;float3&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#ifdef UNITY_ASSUME_UNIFORM_SCALING
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nf"&gt;UnityObjectToWorldDir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt; &lt;span class="c1"&gt;// mul(IT_M, norm) =&amp;gt; mul(norm, I_M) =&amp;gt; {dot(norm, I_M.col0), dot(norm, I_M.col1), dot(norm, I_M.col2)}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nf"&gt;normalize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;mul&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;float3x3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;unity_WorldToObject&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸éš¾å‘ç°è½¬æ¢äº†ä¹˜æ³•çš„é¡ºåºå‡å°‘äº†ä¸€æ¬¡è½¬ç½®æ“ä½œï¼Œæœ‰åˆ©äºç¼–è¯‘å™¨æ›´å¥½çš„å®ç°ä»£ç ã€‚&lt;/p&gt;</description></item><item><title>RTR4-CN ç¬¬å…­ç«  çº¹ç†ï¼ˆTextureï¼‰</title><link>https://foth0626.github.io/article/rtr4-chapter06-texture/</link><pubDate>Tue, 12 Nov 2024 20:51:56 +0800</pubDate><guid>https://foth0626.github.io/article/rtr4-chapter06-texture/</guid><description>&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%AE%A1%E7%BA%BF.png" alt="Featured image of post RTR4-CN ç¬¬å…­ç«  çº¹ç†ï¼ˆTextureï¼‰" /&gt;&lt;p&gt;&lt;strong&gt;æœ¬æ–‡ä¸ºGraphicsç»„æˆè¯¾ç•™æ¡£&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;All it takes is for the rendered image to look right.&amp;rdquo; â€”â€”Jim Blinn&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬èŠ‚è¯¾å‚è€ƒèµ„æ–™ï¼šRTR4-CN ç¬¬å…­ç« &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¡¨é¢çº¹ç†(texture)æ˜¯æŒ‡å…¶å¤–è§‚å’Œç»™äººçš„è§†è§‰æ„Ÿå—,å°±åƒæ˜¯ä¸€å¹…æ²¹ç”»çš„å›¾æ¡ˆä¸€æ ·ã€‚
è€Œåœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­,çº¹ç†åŒ–åˆ™æŒ‡çš„æ˜¯ä¸€ä¸ªè¿‡ç¨‹,å³é€šè¿‡ä½¿ç”¨ä¸€äº›å›¾åƒã€å‡½æ•°æˆ–è€…å…¶ä»–æ•°æ®,æ¥å¯¹æ¯ä¸ªè¡¨é¢ä½ç½®çš„å¤–è§‚è¡¨ç°è¿›è¡Œä¿®æ”¹ã€‚ä¾‹å¦‚:æˆ‘ä»¬å¯ä»¥å°†ä¸€å¼ ç –å¢™çš„å½©è‰²å›¾åƒåº”ç”¨äºç”±ä¸¤ä¸ªä¸‰è§’å½¢ç»„æˆçš„çŸ©å½¢ä¸Š,è€Œä¸æ˜¯å»ç²¾ç¡®è¡¨ç°ç –å¢™çš„å‡ ä½•ç»“æ„ã€‚å½“æˆ‘ä»¬è§‚å¯Ÿè¿™ä¸ªç –å¢™çŸ©å½¢çš„æ—¶å€™,å¯¹åº”çš„å½©è‰²å›¾åƒå°†ä¼šæ˜¾ç¤ºåœ¨è¿™ä¸ªçŸ©å½¢æ‰€åœ¨çš„ä½ç½®ä¸Š,è¿™æ ·å¯ä»¥ä½¿å¾—è¿™ä¸ªçŸ©å½¢çœ‹èµ·æ¥å¾ˆåƒçœŸå®çš„ç –å¢™ã€‚é™¤éç›¸æœºååˆ†é è¿‘å¢™å£çš„è¯,å¦åˆ™ç –å¢™å‡ ä½•ç»†èŠ‚çš„ç¼ºä¹å¹¶ä¸ä¼šå¸¦æ¥æ˜æ˜¾çš„è§†è§‰ç‘•ç–µã€‚&lt;/p&gt;
&lt;h1 id="çº¹ç†ç®¡çº¿"&gt;çº¹ç†ç®¡çº¿
&lt;/h1&gt;&lt;p&gt;çº¹ç†åŒ–ï¼ˆtexturingï¼‰æ˜¯ä¸€ç§ç”¨äºæè¿°è¡¨é¢æè´¨ä»¥åŠå¯¹è¡¨é¢è¿›è¡Œä¿®é¥°åŠ å·¥çš„æœ‰æ•ˆæŠ€æœ¯ã€‚çº¹ç†çš„å·¥ä½œåŸç†æ˜¯é€šè¿‡ä¿®æ”¹ç€è‰²æ–¹ç¨‹çš„ä¸­çš„å‚æ•°ï¼Œå¯¹æœ€ç»ˆç»“æœäº§ç”Ÿå½±å“ã€‚æ¯”å¦‚è¯´ï¼Œå¯¹äºåˆšæ‰çš„é‚£ä¸ªä¾‹å­ï¼Œé€šè¿‡æ›¿æ¢ç‚¹çš„ä½ç½®ï¼Œå°†é¡¶ç‚¹é¢œè‰²ä¸ºçº¹ç†é¢œè‰²ã€‚æˆ–è€…ç²—ç³™åº¦çº¹ç†ä¿®æ”¹äº†è¡¨é¢çš„ç²—ç³™åº¦å€¼ï¼Œå‡¹å‡¸çº¹ç†ä¿®æ”¹äº†è¡¨é¢ç€è‰²æ³•çº¿çš„æ–¹å‘ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä¸å±å¹•ä¸Šçš„åƒç´ ï¼ˆpixelï¼‰æœ‰æ‰€åŒºåˆ«ï¼Œçº¹ç†ä¸Šçš„åƒç´ é€šå¸¸è¢«ç§°ä¸ºçº¹ç´ ï¼ˆtexelï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;çº¹ç†åŒ–çš„èµ·ç‚¹æ˜¯ä¸€ä¸ªç©ºé—´ä¸­çš„å…·ä½“ä½ç½®ï¼Œè¿™ä¸ªä½ç½®å¯ä»¥åœ¨ä¸–ç•Œç©ºé—´ä¸­ï¼Œä½†æ˜¯é€šå¸¸æ˜¯åŸºäºæ¨¡å‹ç©ºé—´å‚è€ƒç³»çš„ï¼Œå› ä¸ºçº¹ç†ä¼šéšç€æ¨¡å‹ç§»åŠ¨è€Œç§»åŠ¨ã€‚è¿™ä¸ªç©ºé—´ç‚¹ä¼šä½¿ç”¨ä¸€ä¸ªæŠ•å½±å‡½æ•°ï¼ˆprojection functionï¼‰è·å¾—ä¸€ç»„æ•°å­—ï¼Œå®ƒè¢«ç§°ä¸ºçº¹ç†åæ ‡ï¼Œçº¹ç†åæ ‡å¯ä»¥ç”¨äºè®¿é—®é‡‡æ ·çº¹ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºçº¹ç†æ˜ å°„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä½¿ç”¨çº¹ç†åæ ‡è®¿é—®çº¹ç†ä¹‹å‰ï¼Œè¿˜éœ€è¦ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªè½¬æ¢å‡½æ•°ï¼ˆcorresponder funcion)ï¼Œæ¥å°†çº¹ç†åæ ‡è½¬æ¢åˆ°çº¹ç†ç©ºé—´ä¸­ï¼Œç”¨æ¥åœ¨çº¹ç†ä¸­è·å–åƒç´ å€¼ã€‚ä¾‹å¦‚ï¼šçº¹ç†ç©ºé—´ä½ç½®æ˜¯å›¾åƒçº¹ç†çš„æ•°ç»„ç´¢å¼•ï¼Œä»è€Œæ£€ç´¢åˆ°å¯¹åº”çš„ä½ç½®çš„å€¼ã€‚æ£€ç´¢åˆ°çš„åƒç´ å€¼å¯èƒ½è¿˜è¦ä½¿ç”¨ä¸€ä¸ªå€¼è½¬æ¢å‡½æ•°ï¼ˆvalue transform function)è¿›è¡Œè½¬æ¢ï¼Œæœ€ç»ˆè¿™äº›æ–°å€¼ä¼šç”¨äºå¯¹è¡¨é¢çš„æŸäº›å±æ€§è¿›è¡Œä¿®æ”¹ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ¯æ¬¡çº¹ç†åº”ç”¨éƒ½éœ€è¦æ¿€æ´»ç®¡çº¿ä¸­çš„æ‰€æœ‰æ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%AE%A1%E7%BA%BF.png"
width="1064"
height="267"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%AE%A1%E7%BA%BF_hu_fba74e2d9a4faf8a.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%AE%A1%E7%BA%BF_hu_3b3763439dfc4308.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="398"
data-flex-basis="956px"
&gt;&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚:å¯¹äºä¸€ä¸ªå…·æœ‰ç –å¢™çº¹ç†çš„ä¸‰è§’å½¢,æˆ‘ä»¬åœ¨å…¶è¡¨é¢ä¸Šè¿›è¡Œé‡‡æ ·æ—¶ä¼šå‘ç”Ÿå¦‚ä¸‹æƒ…å†µ(112å¦‚å›¾ 6.3 æ‰€ç¤º):é¦–å…ˆæˆ‘ä»¬ä¼šåœ¨è¯¥ç‰©ä½“çš„å±€éƒ¨å‚è€ƒç³»ä¸­,æ‰¾åˆ°å¯¹åº”çš„é‡‡æ ·ä½ç½®(x, y, z),è¿™é‡Œå‡è®¾å®ƒæ˜¯ (âˆ’2.3, 7.1, 88.2)ã€‚ç„¶åä¼šå¯¹è¿™ä¸ªä½ç½®åæ ‡åº”ç”¨ä¸€ä¸ªæŠ•å½±å‡½æ•°,å°±åƒä¸–ç•Œåœ°å›¾æ˜¯ä¸‰ç»´åœ°çƒçš„äºŒç»´æŠ•å½±é‚£æ ·,è¿™é‡Œçš„æŠ•å½±å‡½æ•°é€šå¸¸ä¼šå°†ä¸€ä¸ªä¸‰ç»´å‘é‡ (x, y, z)è½¬æ¢ä¸ºä¸€ä¸ªäºŒç»´å‘é‡ (u, v)ã€‚æœ¬ä¾‹ä¸­æ‰€ä½¿ç”¨çš„æŠ•å½±å‡½æ•°,å®é™…ä¸Šä¸æ­£äº¤æŠ•å½±æ˜¯ç­‰ä»·çš„(ç« èŠ‚ 2.3.1),å®ƒå°±åƒå¹»ç¯ç‰‡æ”¾æ˜ æœºä¸€æ ·,å°†ç –å¢™å›¾åƒæŠ•å½±åˆ°ä¸‰è§’å½¢è¡¨é¢ä¸Š;å¹¶ä¸”ä¸ºäº†æœ€åèƒ½å°†å›¾è±¡å€¼è¿”å›åˆ°å¢™é¢ä¸Š,å…¶è¡¨é¢ä¸Šçš„ç‚¹éƒ½ä¼šè¢«è½¬æ¢ä¸ºä¸€ä¸ª0-1 èŒƒå›´å†…çš„æ•°å€¼å¯¹,è¿™é‡Œæˆ‘ä»¬å‡è®¾è½¬æ¢åçš„å€¼æ˜¯ (0.32, 0.29),è¿™ä¸ªæ•°å€¼å¯¹ä¹Ÿè¢«ç§°ä¸ºçº¹ç†åæ ‡æˆ–è€… UV åæ ‡ã€‚è¿™ä¸ªçº¹ç†åæ ‡å°†ç”¨äºæŸ¥æ‰¾çº¹ç†è´´å›¾åœ¨æ­¤ä½ç½®ä¸Šçš„é¢œè‰²å€¼ã€‚å‡è®¾è¿™é‡Œæˆ‘ä»¬æ‰€ä½¿ç”¨çš„ç –å¢™çº¹ç†åˆ†è¾¨ç‡ä¸º 256 Ã— 256,å› æ­¤ä½¿ç”¨è½¬æ¢å‡½æ•°,å°†çº¹ç†åæ ‡ (u, v)å„è‡ªä¹˜ä»¥ 256,å³ (81.92, 74.24)ã€‚åœ¨ä¸¢å¼ƒå°æ•°éƒ¨åˆ†ä¹‹å,æˆ‘ä»¬åœ¨ç –å¢™å›¾åƒä¸­è¿›è¡Œæ£€ç´¢,æ‰¾åˆ°ç´¢å¼•å€¼ä¸º (81, 74)çš„é¢œè‰²å€¼,è¿™é‡Œå‡è®¾è¿™ä¸ªé¢œè‰²å€¼ä¸º(0.9, 0.8, 0.7)ã€‚åŒæ—¶,æˆ‘ä»¬æ‰€ä½¿ç”¨çš„çº¹ç†é¢œè‰²ä½äº sRGB é¢œè‰²ç©ºé—´ä¸­,å› æ­¤å¦‚æœè¦åœ¨ç€è‰²æ–¹ç¨‹ä¸­ä½¿ç”¨è¿™ä¸ªé¢œè‰²å€¼,è¿˜éœ€è¦å°†å…¶è½¬æ¢åˆ°çº¿æ€§ç©ºé—´ä¸­,å³(0.787ã€0.604ã€0.448)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%AE%A1%E7%BA%BF%E7%A4%BA%E4%BE%8B.png"
width="1002"
height="449"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%AE%A1%E7%BA%BF%E7%A4%BA%E4%BE%8B_hu_ddcf65d816479f96.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%AE%A1%E7%BA%BF%E7%A4%BA%E4%BE%8B_hu_9d54a9481a9314d3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="223"
data-flex-basis="535px"
&gt;&lt;/p&gt;
&lt;h2 id="æŠ•å½±å‡½æ•°projection-function"&gt;æŠ•å½±å‡½æ•°ï¼ˆProjection functionï¼‰
&lt;/h2&gt;&lt;p&gt;çº¹ç†å¤„ç†çš„ç¬¬ä¸€æ­¥æ˜¯è·å–è¡¨é¢çš„ä½ç½®ï¼Œå¹¶å°†å…¶æŠ•å½±åˆ°çº¹ç†åæ ‡ç©ºé—´ï¼ˆtexture coordinate spaceï¼‰ä¸­ï¼Œè¿™ä¸ªçº¹ç†åæ ‡ç©ºé—´ä¸­é€šå¸¸æ˜¯äºŒç»´ï¼ˆu,v)çš„ï¼Œå¸¸è§çš„å»ºæ¨¡è½¯ä»¶å…è®¸è‰ºæœ¯å®¶å®šä¹‰æ¯ä¸ªé¡¶ç‚¹çš„uvåæ ‡ï¼Œè¿™äº›åæ ‡å¯ä»¥ä»æŠ•å½±å‡½æ•°æˆ–è€…ç½‘æ ¼å±•å¼€ç®—æ³•ä¸­è¿›è¡Œåˆå§‹åŒ–ï¼Œè‰ºæœ¯å®¶ä¹Ÿå¯ä»¥ç¼–è¾‘uvåæ ‡ã€‚&lt;/p&gt;
&lt;p&gt;æŠ•å½±å‡½æ•°çš„ä½œç”¨é€šå¸¸æ˜¯å°†ç©ºé—´ä¸­çš„ä¸‰ç»´åæ ‡è½¬æ¢ä¸ºäºŒç»´çº¹ç†åæ ‡ï¼Œåœ¨å»ºæ¨¡è½¯ä»¶ä¸­å¸¸è§çš„æŠ•å½±åŒ…æ‹¬çƒé¢æŠ•å½±ï¼ŒæŸ±é¢æŠ•å½±ï¼Œå¹³é¢æŠ•å½±ç­‰ã€‚è¿˜æœ‰ä¸€äº›æŠ•å½±å‡½æ•°æ ¹æœ¬ä¸æ˜¯æŠ•å½±æ“ä½œï¼Œè€Œæ˜¯éšå«åœ¨è¡¨é¢åˆ›å»ºå’Œæ›²é¢ç»†åˆ†ä¸­ã€‚ä¾‹å¦‚ï¼Œå‚æ•°åŒ–ç”Ÿæˆçš„æ›²é¢å®šä¹‰æœ¬èº«å°±åŒ…å«äº†ä¸€ç»„å¤©ç”Ÿçš„uvåæ ‡ã€‚æŠ•å½±å‡½æ•°çš„æœ€ç»ˆç›®æ ‡åªæ˜¯ç”Ÿæˆçº¹ç†åæ ‡ï¼Œå°†å…¶ä½œä¸ºä¸€ä¸ªä¸ä½ç½®æœ‰å…³çš„å‡½æ•°æ¥è¿›è¡Œæ¨å¯¼åªæ˜¯ä¸€ç§æ–¹æ³•ã€‚æœ‰æ—¶å€™å•ä¸ªæŠ•å½±å‡½æ•°å°±å¯ä»¥ç”¨äºæ•´ä¸ªæ¨¡å‹çš„æŠ•å½±æ“ä½œï¼Œä½†æ˜¯è‰ºæœ¯å®¶é€šå¸¸ä¸€äº›å·¥å…·å°†æ¨¡å‹è¿›è¡Œç»†åˆ†ï¼Œå¹¶å•ç‹¬åº”ç”¨ä¸åŒçš„æŠ•å½±å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%8A%95%E5%BD%B1%E5%87%BD%E6%95%B01.png"
width="1169"
height="701"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%8A%95%E5%BD%B1%E5%87%BD%E6%95%B01_hu_38d9e8f58c11b38f.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%8A%95%E5%BD%B1%E5%87%BD%E6%95%B01_hu_e55a93735c8f7388.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å®æ—¶æ¸²æŸ“é¢†åŸŸï¼Œé€šå¸¸åœ¨å»ºæ¨¡æ—¶å°±ä¼šä½¿ç”¨æŠ•å½±å‡½æ•°ï¼Œå°†ç»“æœå­˜å‚¨åœ¨é¡¶ç‚¹ä¸Šã€‚ä½†æ˜¯å¹¶ä¸æ˜¯æ€»æ˜¯å¦‚æ­¤ï¼Œæœ‰æ—¶åœ¨é¡¶ç‚¹ç€è‰²å™¨æˆ–è€…åƒç´ ç€è‰²å™¨ä¸­åº”ç”¨æŠ•å½±å‡½æ•°ä¼šå¸¦æ¥ä¸€äº›å¥½å¤„ï¼Œæ¯”å¦‚æé«˜ç²¾åº¦ï¼Œæœ‰åŠ©äºå®ç°åŠ¨ç”»åœ¨å†…çš„å„ç§æ•ˆæœã€‚æœ‰æ—¶å€™ä¸€äº›æ¸²æŸ“æ–¹æ³•æœ‰ç€ç‹¬ç‰¹çš„æŠ•å½±å‡½æ•°ï¼Œä¼šè¿›è¡Œé€åƒç´ çš„è®¡ç®—ï¼Œæ¯”å¦‚ç¯å¢ƒæ˜ å°„ã€‚ä¸æŠ•å½±æ–¹å‘ç›¸è¿‘çš„è¡¨é¢ä¼šäº§ç”Ÿä¸¥é‡çš„æ‰­æ›²ï¼Œæ‰€ä»¥è‰ºæœ¯å®¶ç»å¸¸éœ€è¦æ‰‹åŠ¨å°†æ¨¡å‹åˆ†è§£ä¸ºå°å—ï¼ˆå³å»ºæ¨¡è¿‡ç¨‹ä¸­çš„å±•uvï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%8A%95%E5%BD%B1%E5%87%BD%E6%95%B02.png"
width="1101"
height="694"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%8A%95%E5%BD%B1%E5%87%BD%E6%95%B02_hu_4517753a2bebc79f.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%8A%95%E5%BD%B1%E5%87%BD%E6%95%B02_hu_6c25725c18b9d52e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="380px"
&gt;&lt;/p&gt;
&lt;p&gt;çº¹ç†åæ ‡ç©ºé—´å¹¶ä¸æ€»æ˜¯ä¸€ä¸ªäºŒç»´å¹³é¢ï¼Œæœ‰æ—¶å€™ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªä¸‰ç»´ä½“ç§¯ï¼Œè¿™æ—¶çº¹ç†åæ ‡æœ‰ä¸‰ä¸ªåˆ†é‡ï¼ˆuï¼Œvï¼Œwï¼‰ã€‚éƒ¨åˆ†æƒ…å†µç”šè‡³ä¼šç”¨å››ä¸ªåæ ‡ï¼ˆå³é½æ¬¡åæ ‡æè¿°ï¼‰ï¼ˆsï¼Œtï¼Œrï¼Œqï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§é‡è¦çš„çº¹ç†åæ ‡ç©ºé—´æ˜¯æ–¹å‘æ€§çš„ï¼Œçº¹ç†ç©ºé—´çš„æ¯ä¸ªç‚¹éƒ½é€šè¿‡è¾“å…¥æ–¹å‘æ¥è®¿é—®ã€‚æ¯ä¸ªç‚¹ä½ç½®ä¸Šçš„æ³•çº¿ä»£è¡¨äº†è®¿é—®è¯¥çº¹ç†çš„è¾“å…¥æ–¹å‘ã€‚ä½¿ç”¨è¿™ç§æ–¹å‘æ€§çš„çº¹ç†æœ€å¸¸è§çš„çº¹ç†ç±»å‹å°±æ˜¯ç«‹æ–¹ä½“è´´å›¾ï¼ˆcube mapï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸€ç»´çš„çº¹ç†ä¹Ÿæœ‰å„è‡ªçš„ç”¨é€”ã€‚ä¾‹å¦‚ï¼šå¯¹äºä¸€ä¸ªåœ°å½¢æ¨¡å‹è€Œè¨€ï¼Œé¢œè‰²å¯ä»¥ç”±é«˜åº¦å†³å®šã€‚æˆ–è€…ä½œä¸ºä¸€ä¸ªä¸€ç»´æŸ¥æ‰¾è¡¨ã€‚&lt;/p&gt;
&lt;h2 id="è½¬æ¢å‡½æ•°corresponder-function"&gt;è½¬æ¢å‡½æ•°ï¼ˆCorresponder functionï¼‰
&lt;/h2&gt;&lt;p&gt;è½¬æ¢å‡½æ•°ç”¨äºå°†çº¹ç†åæ ‡è½¬æ¢ä¸ºçº¹ç†ç©ºé—´çš„å…·ä½“ä½ç½®ï¼Œå®ƒä»¬æé«˜äº†åœ¨è¡¨é¢ä¸Šåº”ç”¨çº¹ç†çš„çµæ´»æ€§ã€‚å…¶ä¸­ä¸€ä¸ªä¾‹å­æ˜¯ï¼šä½¿ç”¨APIé€‰æ‹©ç°æœ‰çº¹ç†çš„ä¸€éƒ¨åˆ†æ¥æ˜¾ç¤ºï¼Œå¹¶ä¸”åœ¨åç»­çš„æ“ä½œéƒ½åªä¼šä½¿ç”¨è¿™ä¸ªå­å›¾åƒã€‚&lt;br&gt;
å¦ä¸€ç±»è½¬æ¢å‡½æ•°åˆ™æ˜¯çŸ©é˜µå˜æ¢ï¼Œåº”ç”¨äºé¡¶ç‚¹ç€è‰²å™¨æˆ–ç‰‡å…ƒç€è‰²å™¨ä¸­ï¼Œä»–ä»¬å…è®¸å¯¹è¡¨é¢ä¸Šçš„çº¹ç†è¿›è¡Œå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ã€å‰ªåˆ‡æˆ–è€…æŠ•å½±æ“ä½œã€‚&lt;br&gt;
å¦ä¸€ç±»è½¬æ¢æ§åˆ¶å›¾åƒçš„åº”ç”¨æ–¹å¼ã€‚çº¹ç†åæ ‡uvåªæœ‰åœ¨ï¼ˆ0ï¼Œ1ï¼‰è¿™ä¸ªèŒƒå›´æ‰æ˜¯æœ‰æ„ä¹‰çš„çš„ã€‚ä½†æ˜¯å¦‚æœçº¹ç†åæ ‡ä½äºèŒƒå›´ä¹‹å¤–æ—¶ï¼Œå®ƒåº”è¯¥å¦‚ä½•å–å€¼å‘¢ï¼Ÿè½¬æ¢å‡½æ•°å†³å®šäº†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚åœ¨OpenGLä¸­ï¼Œè¿™ç§ç±»å‹çš„è½¬æ¢å‡½æ•°è¢«ç§°ä¸ºåŒ…è£…æ¨¡å¼ï¼ˆwrapping modeï¼‰ï¼Œåœ¨DirectXä¸­è¢«ç§°ä¸ºçº¹ç†å¯»å€æ¨¡å¼ï¼ˆtexture addressing modeï¼‰ã€‚&lt;br&gt;
å¸¸è§çš„è½¬æ¢å‡½æ•°åŒ…æ‹¬å¦‚ä¸‹ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wrapï¼ˆdirectXï¼‰ï¼Œrepeatï¼ˆOpenGLï¼‰æˆ–è€…tileï¼šå›¾åƒè¡¨é¢ä¼šä¸æ–­é‡å¤ã€‚&lt;/li&gt;
&lt;li&gt;mirrorï¼šå›¾åƒä¼šä¸æ–­é‡å¤ï¼Œä½†æ˜¯æ¯é‡å¤ä¸€æ¬¡å°±ä¼šè¢«é•œåƒç¿»è½¬ä¸€æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;clampï¼ˆdirectXï¼‰æˆ–è€…clamp to edgeï¼ˆopenglï¼‰ï¼šä½äºï¼ˆ0ï¼Œ1ï¼‰èŒƒå›´ä¹‹å¤–çš„çº¹ç†åæ ‡ä¼šè¢«é™åˆ¶åœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚è¿™ç§æ¨¡å¼ä¼šå¯¼è‡´å›¾åƒè¾¹ç¼˜çš„ä¸æ–­é‡å¤ï¼Œä¼˜ç‚¹åœ¨äºåœ¨çº¹ç†é™„è¿‘å‘ç”ŸåŒçº¿æ€§æ’å€¼æ—¶ï¼Œå¯ä»¥é¿å…ä»çº¹ç†çš„ç›¸åè¾¹ç¼˜è¿›è¡Œé‡‡æ ·ã€‚&lt;/li&gt;
&lt;li&gt;borderï¼ˆdirectXï¼‰æˆ–è€…clamp to borderï¼ˆOpenGLï¼‰ï¼šä½äºï¼ˆ0ï¼Œ1ï¼‰èŒƒå›´ä¹‹å¤–çš„çº¹ç†åæ ‡ä¼šè¢«æ˜ å°„æˆåŒä¸€ä¸ªå€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%8C%85%E5%9B%B4%E6%A8%A1%E5%BC%8F.png"
width="1276"
height="576"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%8C%85%E5%9B%B4%E6%A8%A1%E5%BC%8F_hu_1befc5a7e2250433.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%8C%85%E5%9B%B4%E6%A8%A1%E5%BC%8F_hu_8c8767d03356321d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="221"
data-flex-basis="531px"
&gt;&lt;/p&gt;
&lt;p&gt;çº¹ç†çš„é‡å¤å¹³é“ºæ˜¯ä¸€ç§ä¸ºåœºæ™¯æ·»åŠ æ›´å¤šè§†è§‰ç»†èŠ‚çš„å»‰ä»·æ–¹æ³•ã€‚ä½†æ˜¯äººçœ¼èƒ½è¯†åˆ«å‡ºè¿™ç§ä¸è‡ªç„¶çš„é‡å¤ã€‚ä¸€ä¸ªå¸¸è§çš„è§£å†³æ–¹æ³•ä¸å¦ä¸€ä¸ªéé‡å¤å¹³é“ºçš„çš„çº¹ç†ç»“åˆã€‚å¦ä¸€ä¸ªæ–¹æ³•æ˜¯ï¼Œä½¿ç”¨ç€è‰²å™¨å®ç°ä¸€äº›ç‰¹æ®Šçš„è½¬æ¢å‡½æ•°ï¼Œä»è€Œå°†çº¹ç†å›¾æ¡ˆå’Œç“¦ç‰‡è´´å›¾è¿›è¡Œéšæœºé‡ç»„ã€‚&lt;br&gt;
æœ€åä¸€ç§è¢«åº”ç”¨çš„è½¬æ¢å‡½æ•°æ˜¯éšå¼çš„ï¼Œå¹¶ä¸”ä¸å›¾åƒçš„å¤§å°æœ‰å…³ã€‚çº¹ç†é€šå¸¸ä¼šåº”ç”¨åœ¨uvåæ ‡çš„ï¼ˆ0ï¼Œ1ï¼‰èŒƒå›´å†…ã€‚ä¾‹å¦‚ç –å¢™çš„ä¾‹å­ï¼Œé€šè¿‡å°†è¯¥èŒƒå›´å†…çš„çº¹ç†åæ ‡ä¹˜ä»¥åˆ†è¾¨ç‡å¾—åˆ°å¯¹åº”çš„åƒç´ ä½ç½®ã€‚è¿™ç§å°†çº¹ç†åæ ‡é™åˆ¶åœ¨ï¼ˆ0ï¼Œ1ï¼‰èŒƒå›´å†…çš„ä¼˜åŠ¿æ˜¯ä¸éœ€è¦å¯¹ä¸åŒåˆ†è¾¨ç‡çš„çº¹ç†åœ¨é¡¶ç‚¹å†…å­˜å‚¨ä¸åŒçš„çº¹ç†åæ ‡å€¼ã€‚&lt;/p&gt;
&lt;h2 id="çº¹ç†å€¼"&gt;çº¹ç†å€¼
&lt;/h2&gt;&lt;p&gt;ç”Ÿæˆçº¹ç†åæ ‡ç©ºé—´åï¼Œä¾¿å¯ä»¥ç”¨è¿™ä¸ªåæ ‡è·å–å¯¹åº”çš„çº¹ç†å€¼ã€‚å¯¹äºå›¾åƒçº¹ç†ä¸­ï¼Œè¿™æ˜¯é€šè¿‡æ£€ç´¢å›¾åƒä¸­çš„çº¹ç´ å¾—åˆ°çš„ã€‚å®æ—¶æ¸²æŸ“çš„ç»å¤§å¤šæ•°å‡½æ•°éƒ½æ˜¯å›¾åƒçº¹ç†ã€‚ä½†ä¹Ÿæœ‰ç¨‹åºç”Ÿæˆçš„çº¹ç†ï¼Œè¿™ç§æƒ…å†µä¸‹ä¾¿ä¸æ¶‰åŠå†…å­˜æŸ¥æ‰¾ï¼Œè€Œæ˜¯å˜æˆäº†ä¸€ä¸ªå‡½æ•°å€¼çš„è®¡ç®—ã€‚&lt;br&gt;
æœ€å¸¸è§æœ€ç›´æ¥çš„çº¹ç†å€¼ä¾¿æ˜¯RGBä¸‰å…ƒç»„ï¼Œå®ƒå¯ä»¥ç”¨äºæ›¿æ¢æˆ–è€…ä¿®æ”¹è¡¨é¢çš„é¢œè‰²ã€‚å¦ä¸€ç§ç±»å‹æ˜¯RGBAï¼ŒAï¼ˆalphaï¼‰é€šé“ä»£è¡¨äº†çº¹ç†çš„ä¸é€æ˜åº¦ã€‚çº¹ç†è´´å›¾ä¸­ä¸ä»…ä»…å¯ä»¥å­˜å‚¨é¢œè‰²æ•°æ®ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œæ¯”å¦‚è¡¨é¢ç²—ç³™åº¦ç­‰ã€‚&lt;br&gt;
çº¹ç†ä¸­è¿”å›çš„å€¼å¯ä»¥åœ¨ä½¿ç”¨å‰è¿›è¡Œè½¬æ¢ã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ˜¯æŠŠï¼ˆ0.0,1.0ï¼‰è¿™ä¸ªæ— ç¬¦å·èŒƒå›´æ˜ å°„å›ï¼ˆ-1.0,1.0ï¼‰è¿™ä¸ªèŒƒå›´ï¼Œç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨çº¹ç†å†…å­˜å‚¨æ³•çº¿æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE.png"
width="640"
height="640"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE_hu_18d1e6c013fb4809.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE_hu_8e3eb40ad18935b3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
&gt;&lt;/p&gt;
&lt;h1 id="å›¾åƒçº¹ç†"&gt;å›¾åƒçº¹ç†
&lt;/h1&gt;&lt;p&gt;åƒç´ ç€è‰²å™¨å¯ä»¥é€šè¿‡çº¹ç†åæ ‡ä¼ ç»™texture2Dç­‰å‡½æ•°ï¼Œå¹¶è°ƒç”¨ä»–ä»¬æ¥è®¿é—®çº¹ç†ï¼Œåœ¨ä¸åŒçš„å›¾å½¢APIæœ‰ä¸¤ä¸ªä¸»è¦åŒºåˆ«ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨DirectXä¸­ï¼Œçº¹ç†çš„å·¦ä¸Šè§’å¯¹åº”çš„ï¼ˆ0ï¼Œ0ï¼‰ï¼Œå³ä¸‹è§’å¯¹åº”ï¼ˆ1ï¼Œ1ï¼‰ã€‚è€Œåœ¨OpenGLä¸­å·¦ä¸‹è§’çš„ä½ç½®å¯¹åº”äº†ï¼ˆ0ï¼Œ0ï¼‰ã€‚è¿™æ­£å¥½æ˜¯DirectXç¿»è½¬yè½´å¾—åˆ°çš„ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;çº¹ç´ å…·æœ‰æ•´æ•°ç±»å‹çš„åæ ‡ï¼Œä½†æ˜¯æˆ‘ä»¬ç»å¸¸ä¼šæœ‰è®¿é—®ä¸¤ä¸ªçº¹ç´ ä¸­é—´çš„å€¼ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œæ’å€¼ï¼Œè¿™å°±å¼•å‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼šåƒç´ ä¸­å¿ƒçš„æµ®ç‚¹åæ ‡æ˜¯ä»€ä¹ˆï¼Ÿä½†æ˜¯æˆ‘ä»¬ä¼šç»å¸¸æƒ³è¦è®¿é—®ä¸¤ä¸ªçº¹ç´ ä¹‹é—´çš„ä½ç½®,å¹¶åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œæ’å€¼,è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼šåƒç´ ä¸­å¿ƒçš„æµ®ç‚¹åæ ‡æ˜¯ä»€ä¹ˆï¼ŸHeckbertè®¨è®ºäº†ä¸¤ç§å¯èƒ½çš„æ¨¡å¼:æˆªæ–­(truncate)å’Œèˆå…¥(round)ã€‚DirectX 9 å°†æ¯ä¸ªçº¹ç´ çš„ä¸­å¿ƒå®šä¹‰åœ¨(0.0, 0.0)å¤„,å®ƒé‡‡ç”¨äº†èˆå…¥æ–¹æ³•ã€‚ä½†æ˜¯è¿™ä¸ªç³»ç»Ÿç¨å¾®æœ‰ç‚¹æ··ä¹±,å› ä¸ºå¯¹äº DirectXå·¦ä¸Šè§’åƒç´ (åŸç‚¹)è€Œè¨€,è¯¥åƒç´ çš„å·¦ä¸Šè§’åæ ‡ä¸º (âˆ’0.5, âˆ’0.5) ã€‚DirectX 10 å­¦ä¹ äº† OpenGL çš„çº¹ç†åæ ‡ç³»ç»Ÿ,è®©æ¯ä¸ªçº¹ç´ çš„ä¸­å¿ƒå€¼ä¸º (0.5, 0.5),å³ä½¿ç”¨äº†æˆªæ–­æ–¹æ³•,æˆ–è€…æ›´å‡†ç¡®åœ°è¯´æ˜¯å‘ä¸‹å–æ•´(floor),å³å°æ•°éƒ¨åˆ†ä¼šè¢«ä¸¢å¼ƒã€‚å‘ä¸‹å–æ•´æ˜¯ä¸€ä¸ªæ›´åŠ ç›´è§‚çš„ç³»ç»Ÿ,å®ƒå¯ä»¥å¾ˆå¥½çš„ç”¨è¯­è¨€è¿›è¡Œè¡¨è¿°,ä¾‹å¦‚:å½“æˆ‘ä»¬è¯´ä¸€ä¸ªåƒç´ ä½äºåæ ‡(5, 9)æ—¶,å®é™…ä¸Šæˆ‘ä»¬æŒ‡çš„æ˜¯æ²¿ uè½´æ–¹å‘ä¸Šä» 5.0-6.0 çš„èŒƒå›´,ä»¥åŠæ²¿ v è½´æ–¹å‘ä¸Šä» 9.0-10.0 çš„èŒƒå›´ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä¾èµ–çº¹ç†è¯»å–&lt;/strong&gt;(dependent texture read)æ˜¯ä¸€ä¸ªå€¼å¾—è§£é‡Šçš„æœ¯è¯­,å®ƒåŒ…å«ä¸¤ä¸ªå®šä¹‰ã€‚&lt;br&gt;
ç¬¬ä¸€ä¸ªå®šä¹‰æ˜¯å¯¹äºç§»åŠ¨è®¾å¤‡è€Œè¨€çš„ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨texture2Dæˆ–è€…ç±»ä¼¼æ–¹å¼è®¿é—®çº¹ç†å¹¶åœ¨ç‰‡å…ƒç€è‰²å™¨å†…æ‰‹åŠ¨è®¡ç®—çº¹ç†åæ ‡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é¡¶ç‚¹ç€è‰²å™¨ä¼ å…¥çš„ã€æœªä¿®æ”¹çš„çº¹ç†åæ ‡æ—¶ï¼Œå°±ä¼šå‘ç”Ÿä¾èµ–çº¹ç†è¯»å–ã€‚æ‰‹åŠ¨è®¡ç®—çº¹ç†ç”šè‡³åŒ…æ‹¬äº¤æ¢uvè¿™ç§ç®€å•æ“ä½œï¼å¯¹äºè€æ—§çš„ä¸æ”¯æŒOpengGL ES 3.0çš„ç§»åŠ¨è®¾å¤‡GPUæ¥è¯´ï¼Œä¸å‘ç”Ÿä¾èµ–çº¹ç†è¯»å–ä¼šæœ‰æ›´é«˜çš„æ•ˆç‡ã€‚å› ä¸ºå¯ä»¥é¢„è¯»å–ã€‚&lt;br&gt;
å¦ä¸€ä¸ªå®šä¹‰åˆ™æ˜¯ä¸€ä¸ªçº¹ç†åæ ‡ä¾èµ–ä¹‹å‰çš„çº¹ç†å€¼ã€‚æ¯”å¦‚æ³•çº¿è´´å›¾æ”¹å˜äº†è¡¨é¢æ³•çº¿ï¼Œè€Œcube mapè®¿é—®åˆä¾èµ–äºæ³•çº¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;çº¹ç†å°ºå¯¸&lt;/strong&gt; é€šå¸¸ä¸º $2^m \times 2^n$ï¼Œè¿™æ ·çš„çº¹ç†è¢«ç§°ä¸º2æ¬¡å¹‚ï¼ˆpower of two ,POT)çº¹ç†ï¼Œç°ä»£GPUå¯ä»¥å¤„ç†ä»»æ„å¤§å°çš„é2æ¬¡å¹‚ï¼ˆnon power of two ï¼ŒNPOT)çº¹ç†ã€‚ä½†æ˜¯è€æ—§è®¾å¤‡å¯èƒ½ä¸æ”¯æŒNOPTçš„mipmapã€‚ä¸åŒçš„å›¾å½¢APIå¯¹äºçº¹ç†å°ºå¯¸æœ‰ç€ä¸åŒçš„ä¸Šé™ã€‚ DirectX12 å…è®¸ä¸€å¼ 16384 *16384åˆ†è¾¨åŠ›çš„çº¹ç†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è®¾æƒ³ä¸€ä¸‹ï¼Œçº¹ç†è¢«æ”¾å¤§å’Œç¼©å°åï¼Œè¿™æ—¶æˆ‘ä»¬åˆä¼šçœ‹åˆ°ä»€ä¹ˆæ ·çš„å›¾åƒï¼Ÿè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå–å†³äºæˆ‘ä»¬ä½¿ç”¨ä»€ä¹ˆæ ·çš„é‡‡æ ·å’Œè¿‡æ»¤æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h2 id="æ”¾å¤§magnification"&gt;æ”¾å¤§ï¼ˆmagnificationï¼‰
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%94%BE%E5%A4%A7%E6%BB%A4%E6%B3%A2.png"
width="1189"
height="744"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%94%BE%E5%A4%A7%E6%BB%A4%E6%B3%A2_hu_67434f03f6f78b38.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%94%BE%E5%A4%A7%E6%BB%A4%E6%B3%A2_hu_ff57a88c1e52145a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="383px"
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å›¾ 6.8 çš„æœ€å·¦ä¾§,æˆ‘ä»¬ä½¿ç”¨äº†é‚»è¿‘è¿‡æ»¤çš„æ–¹æ³•ã€‚è¿™ç§æ”¾å¤§æŠ€æœ¯çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯,å•ä¸ªçº¹ç´ å¯èƒ½ä¼šå˜å¾—ååˆ†æ˜æ˜¾ã€‚è¿™ç§æ•ˆæœè¢«ç§°ä¸ºåƒç´ åŒ–(pixelation);å› ä¸ºè¯¥æ–¹æ³•åœ¨æ”¾å¤§çš„æ—¶å€™,ä¼šé€‰å–è·ç¦»æ¯ä¸ªåƒç´ ä¸­å¿ƒæœ€è¿‘çš„çº¹ç´ ,ä»è€Œäº§ç”Ÿäº†å—çŠ¶å¤–è§‚ã€‚è™½ç„¶è¿™ç§æ–¹æ³•çš„è´¨é‡æœ‰æ—¶ä¼šå¾ˆå·®,ä½†æ˜¯å®ƒçš„å¥½å¤„åœ¨äº,åªéœ€è¦ä¸ºæ¯ä¸ªåƒç´ è·å–ä¸€ä¸ªçº¹ç´ å³å¯ã€‚&lt;br&gt;
åœ¨å›¾ 6.8 çš„ä¸­é—´,æˆ‘ä»¬ä½¿ç”¨äº†åŒçº¿æ€§æ’å€¼(æœ‰æ—¶ä¹Ÿä¼šå«åšçº¿æ€§æ’å€¼)æ–¹æ³•ã€‚å¯¹äºæ¯ä¸ªåƒç´ è€Œè¨€,è¿™ç§è¿‡æ»¤æ–¹æ³•éœ€è¦æ‰¾åˆ°å››ä¸ªç›¸é‚»çš„çº¹ç´ ,å¹¶åœ¨äºŒç»´ä¸Šè¿›è¡Œçº¿æ€§æ’å€¼,ä»è€Œè·å¾—æ··åˆåçš„åƒç´ å€¼ã€‚è™½ç„¶åŒçº¿æ€§æ’å€¼çš„ç»“æœæ˜¯æ¯”è¾ƒæ¨¡ç³Šçš„,ä½†æ˜¯å®ƒå¹¶ä¸ä¼šåƒé‚»è¿‘è¿‡æ»¤é‚£æ ·å‡ºç°é”¯é½¿ã€‚ä½ å¯ä»¥åšä¸€ä¸ªç®€å•çš„å°å®éªŒ,å°è¯•çœ¯ç€çœ¼ç›æ¥çœ‹å·¦è¾¹çš„å›¾åƒ,ä½ å°±ä¼šå‘ç°å›¾åƒçš„é”¯é½¿ä¹Ÿæ¶ˆå¤±äº†,å› ä¸ºè¿™æ ·åš(çœ¯ç€çœ¼ç›è§‚å¯Ÿ)çš„æ•ˆæœå…¶å®å’Œä½é€šæ»¤æ³¢å™¨æ˜¯å¤§è‡´ç›¸åŒçš„,å¹¶ä¸”æ›´èƒ½å±•ç¤ºé¢éƒ¨çš„ç‰¹å¾ã€‚&lt;br&gt;
åœ¨å›¾ 6.8 çš„å³ä¾§,æˆ‘ä»¬ä½¿ç”¨äº†åŒä¸‰æ¬¡æ’å€¼(bicubic filter),å®ƒå¤§å¹…å»é™¤äº†å‰©ä½™çš„æ–¹å—æ„Ÿã€‚éœ€è¦æ³¨æ„çš„æ˜¯,åŒä¸‰æ¬¡æ’å€¼æ¯”åŒçº¿æ€§æ’å€¼çš„è®¡ç®—æˆæœ¬æ›´é«˜,ä½†æ˜¯è®¸å¤šçš„é«˜é˜¶æ»¤æ³¢å™¨éƒ½å¯ä»¥è¢«è¡¨ç¤ºä¸ºé‡å¤çš„çº¿æ€§æ’å€¼,å› æ­¤å¯ä»¥é€šè¿‡è‹¥å¹²æ¬¡ç®€å•çš„çº¿æ€§æ’å€¼,æ¥å……åˆ†åˆ©ç”¨çº¹ç†å•å…ƒä¸­ç”¨äºçº¿æ€§æ’å€¼æ“ä½œçš„ GPU ç¡¬ä»¶ã€‚&lt;/p&gt;
&lt;h3 id="åŒçº¿æ€§æ’å€¼"&gt;åŒçº¿æ€§æ’å€¼
&lt;/h3&gt;&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å›åˆ°æœ¬ç« ä¸€å¼€å§‹æåˆ°çš„ç –å—çº¹ç†ä¾‹å­:åœ¨ä¸èˆå¼ƒå°æ•°çš„æƒ…å†µä¸‹,æˆ‘ä»¬ä¼šè·å¾—åæ ‡ (pu , pv ) = (81.92, 74.24)ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸ OpenGL åŒæ ·çš„çº¹ç†åæ ‡ç³»,å…¶åŸç‚¹ä½äºå·¦ä¸‹è§’,å®ƒä¸æ ‡å‡†çš„ç¬›å¡å°”åæ ‡ç³»æ˜¯ç›¸åŒ¹é…çš„ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨å››ä¸ªæœ€è¿‘çš„çº¹ç´ ä¸­å¿ƒä¹‹é—´,å»ºç«‹ä¸€ä¸ªå±€éƒ¨åæ ‡ç³»,å¹¶åœ¨è¿™å››ä¸ªçº¹ç´ ä¸­å¿ƒä¹‹é—´è¿›è¡Œæ’å€¼,æœ€ç»ˆè·å¾—è¯¥ç‚¹çš„åƒç´ å€¼,å¦‚å›¾ 6.9 æ‰€ç¤ºã€‚ä¸ºäº†æ‰¾åˆ° 4 ä¸ªæœ€è¿‘çš„ç›¸é‚»åƒç´ ,æˆ‘ä»¬ä»é‡‡æ ·ä½ç½®å‡å»åƒç´ ä¸­å¿ƒçš„åˆ†æ•°éƒ¨åˆ† (0.5, 0.5),å¾—åˆ° (81.42, 73.74)ã€‚åœ¨å»æ‰ä¸­å¿ƒçš„å°æ•°éƒ¨åˆ†ä¹‹å,è·ç¦»æœ€è¿‘çš„ 4 ä¸ªåƒç´ èŒƒå›´å³ä¸º (x, y) = (81, 73)åˆ° (x + 1, y + 1) = (82, 74)ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­,åˆ†æ•°éƒ¨åˆ† (0.42, 0.74)æ˜¯è¯¥é‡‡æ ·ç‚¹åœ¨è¿™ä¸ªå±€éƒ¨åæ ‡ç³»(ç”±ç›¸é‚»çš„å››ä¸ªçº¹ç´ ä¸­å¿ƒæ„æˆ)ä¸­çš„ä½ç½®,æˆ‘ä»¬å°†è¿™ä¸ªä½ç½®è¡¨ç¤ºä¸º (uâ€² , vâ€² )ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC.png"
width="1085"
height="466"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC_hu_62d0092ab746782c.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC_hu_3e0a92725d9ffbf0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="232"
data-flex-basis="558px"
&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å°†çº¹ç†è®¿é—®å‡½æ•°å®šä¹‰ä¸º t(x, y),è¯¥å‡½æ•°ä¼šè¿”å›å¯¹åº”çº¹ç´ çš„é¢œè‰²,å…¶ä¸­ xå’Œy æ˜¯æ•´æ•°ã€‚é‚£ä¹ˆä»»æ„ä½ç½® (uâ€² , v â€² )çš„åŒçº¿æ€§æ’å€¼é¢œè‰²å¯ä»¥æŒ‰ç…§ä»¥ä¸‹ä¸¤æ­¥è¿›è¡Œè®¡ç®—:é¦–å…ˆ,ä½¿ç”¨ä¸‹æ–¹çš„ä¸¤ä¸ªçº¹ç´ é¢œè‰² t(x, y)å’Œ t(x + 1, y),æŒ‰ç…§å‚æ•° uâ€² è¿›è¡Œæ’å€¼,å³&lt;/p&gt;
$$(1âˆ’u')\ast t(x,y)+u'\ast t(x+1,y) $$&lt;p&gt;;å†ä½¿ç”¨ä¸Šæ–¹çš„ä¸¤ä¸ªçº¹ç´ é¢œè‰² t(x, y + 1)å’Œt(x + 1, y + 1),æŒ‰ç…§å‚æ•° uâ€² è¿›è¡Œæ’å€¼,å³&lt;/p&gt;
$$(1âˆ’u')\ast t(x,y+1)+u' \ast t(x+1,y+1)$$&lt;p&gt;,å¦‚å›¾ 6.9 å·¦ä¾§çš„ç»¿è‰²åœ†åœˆã€‚ç„¶åå¯¹è¿™ä¸¤ä¸ªå€¼åœ¨ç«–ç›´æ–¹å‘ä¸Š,æŒ‰ç…§å‚æ•° vâ€²è¿›è¡Œæ’å€¼,å³å°†ä¸Šè¿°è¿‡ç¨‹ç»“åˆèµ·æ¥,æœ€ç»ˆ (pu , pv )å¤„çš„åŒçº¿æ€§æ’å€¼é¢œè‰² bä¸º:&lt;/p&gt;
$$b(p_u,p_v) = (1-v')((1âˆ’u') t(x,y)+u' t(x+1,y)) + v'((1âˆ’u') t(x,y+1)+u' t(x+1,y+1)) $$&lt;p&gt;&lt;br&gt;
&lt;/p&gt;
$$= (1-u')(1-v')t(x,y) + u'(1-v')t(x+1,yï¼‰+ï¼ˆ1-u')v't(x,y+1)+u'v't(x+1,y+1)$$&lt;p&gt;ä»ç›´è§‚ä¸Šè¯´ï¼Œè·ç¦»é‡‡æ ·ä½ç½®è¶Šè¿‘çš„çº¹ç´ ï¼Œå¯¹äºé¢œè‰²çš„å½±å“å°±è¶Šå¤§ï¼Œæ³¨æ„åˆ°ï¼šå³ä¸Šè§’çº¹ç´ çš„å½±å“åŠ›å’Œå·¦ä¸‹è§’çš„çŸ©å½¢é¢ç§¯ç›¸åŒã€‚&lt;/p&gt;
&lt;h3 id="åŒä¸‰æ¬¡æ’å€¼"&gt;åŒä¸‰æ¬¡æ’å€¼
&lt;/h3&gt;&lt;p&gt;åœ¨åˆšæ‰é‚£å¼ å›¾çš„å³ä¾§ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åŒä¸‰æ¬¡æ’å€¼ï¼ˆbicubic filter)ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŒä¸‰æ¬¡æ’å€¼æ¯”åŒçº¿æ€§æ’å€¼çš„è®¡ç®—æˆæœ¬æ›´é«˜ã€‚è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æŠ€æœ¯ï¼Œä½¿ç”¨ä¸€ä¸ªç®€å•çš„å¹³æ»‘æ›²çº¿è¿›è¡Œæ’å€¼ã€‚æœ€å¸¸è§çš„æ˜¯smoothstopå’Œquinticæ›²çº¿&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Smoothstepï¼š $x^2(3-2x)$&lt;/li&gt;
&lt;li&gt;Quinticï¼š $x^3(6x^2-15x+10)$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä¸­ï¼Œsmoothstepå‡½æ•°å…·æœ‰ $s&amp;rsquo;(0) = s&amp;rsquo;(1)=0$ çš„æ€§è´¨ï¼ˆ $C^1$ è¿ç»­ï¼‰ï¼Œquinticæ›²çº¿å…·æœ‰ç±»ä¼¼çš„æ€§è´¨ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ $q&amp;rsquo;&amp;rsquo;(0)=q&amp;rsquo;&amp;rsquo;(1)=0$ ( $C^2$è¿ç»­ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/smoothstep.png"
width="956"
height="395"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/smoothstep_hu_864af23d28cf4b2a.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/smoothstep_hu_df077a0503463c8f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="242"
data-flex-basis="580px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E6%8F%92%E5%80%BC.png"
width="1132"
height="436"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E6%8F%92%E5%80%BC_hu_64011b20d194a3dd.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E6%8F%92%E5%80%BC_hu_9a91ff151addc607.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="259"
data-flex-basis="623px"
&gt;&lt;/p&gt;
&lt;h2 id="ç¼©å°minificatioin"&gt;ç¼©å°ï¼ˆminificatioinï¼‰
&lt;/h2&gt;&lt;p&gt;å½“çº¹ç†è¢«å‹ç¼©æ—¶,å¹³é¢ä¸Šçš„ä¸€ä¸ªåƒç´ å•å…ƒæ ¼å¯èƒ½ä¼šå æ®å¥½å‡ ä¸ªçº¹ç´ ã€‚ä¸ºäº†æ­£ç¡®è·å¾—è¿™ä¸ªåƒç´ çš„é¢œè‰²å€¼,æˆ‘ä»¬åº”å½“å°†è¿™å‡ ä¸ªçº¹ç´ å¯¹åƒç´ çš„å½±å“æ•´åˆèµ·æ¥ã€‚ç„¶è€Œ,ç²¾ç¡®ç¡®å®šæŸä¸ªåƒç´ é™„è¿‘æ‰€æœ‰çº¹ç´ å¯¹å…¶çš„å½±å“æ˜¯å¾ˆéš¾çš„,è€Œä¸”æƒ³è¦ä»¥å®æ—¶çš„é€Ÿåº¦æ¥å®Œç¾åœ°å®ç°è¿™ä¸€ç‚¹å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚&lt;br&gt;
&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%BC%A9%E5%B0%8F.png"
width="1231"
height="530"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%BC%A9%E5%B0%8F_hu_b54d1b162a43268b.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E7%BC%A9%E5%B0%8F_hu_6700109ffde82a47.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="232"
data-flex-basis="557px"
&gt;&lt;br&gt;
æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨é‚»è¿‘è¿‡æ»¤ï¼ˆnearest neighborï¼‰è¿™ä¸ªæ–¹æ³•ä¼šäº§ç”Ÿä¸¥é‡çš„é”¯é½¿é—®é¢˜.&lt;br&gt;
&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%9C%80%E8%BF%91%E9%82%BB%E8%BF%87%E6%BB%A4.png"
width="924"
height="238"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%9C%80%E8%BF%91%E9%82%BB%E8%BF%87%E6%BB%A4_hu_4d4c591fceb16a81.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E6%9C%80%E8%BF%91%E9%82%BB%E8%BF%87%E6%BB%A4_hu_43049b3c05a2f1a2.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="388"
data-flex-basis="931px"
&gt;
å½“è¡¨é¢ç›¸å¯¹äºç›¸æœºå‘ç”Ÿç§»åŠ¨æ—¶ï¼Œè¿™ç§ç‘•ç–µä¼šå˜å¾—æ›´åŠ æ˜æ˜¾ï¼Œè¿™ç§åœ¨è¿åŠ¨ä¸­æ‰€äº§ç”Ÿçš„ç‘•ç–µè¢«ç§°ä¸ºæ—¶åŸŸé”¯é½¿ï¼ˆtemporal aliasingï¼‰ã€‚å¦ä¸€ä¸ªå¸¸ç”¨çš„æ‰‹æ³•æ˜¯åŒçº¿æ€§æ’å€¼ï¼Œä½†æ˜¯å½“ä¸€ä¸ªåƒç´ å—åˆ°è¶…è¿‡å››ä¸ªåƒç´ çš„å½±å“æ—¶ï¼ŒåŒçº¿æ€§æ’å€¼å°±ä¼šå¤±æ•ˆå¹¶å¼€å§‹äº§ç”Ÿé”¯é½¿ã€‚&lt;br&gt;
èµ°æ ·æ ¹æ®ä¹‹å‰çš„è®¨è®ºï¼Œèµ°æ ·é—®é¢˜å¯ä»¥é€šè¿‡é‡‡æ ·æŠ€æœ¯å’Œæ»¤æ³¢æŠ€æœ¯æ¥è§£å†³ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬è¦ä¹ˆæé«˜åƒç´ çš„é‡‡æ ·é¢‘ç‡è¦ä¹ˆé™ä½çº¹ç†çš„ä¿¡å·é¢‘ç‡ã€‚ä½†æ˜¯é‡‡æ ·é¢‘ç‡çš„æé«˜æ€»æ˜¯æœ‰é™çš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›æŠ€æœ¯æ¥é™ä½çº¹ç†çš„é¢‘ç‡ã€‚&lt;/p&gt;
&lt;h3 id="mipmap"&gt;Mipmap
&lt;/h3&gt;&lt;p&gt;mipmapæ˜¯æœ€æµè¡Œçš„çº¹ç†æŠ—é”¯é½¿æ–¹æ³•ï¼Œç°å¦‚ä»Šæ‰€æœ‰çš„å›¾å½¢åŠ é€Ÿå™¨éƒ½æ”¯æŒè¿™ç§æ–¹æ³•ã€‚
mipæ˜¯æ‹‰ä¸è¯­multum in parvo çš„ç¼©å†™ï¼Œæ„æ€æ˜¯ä¸€ä¸ªå¾ˆå°çš„åœ°æ–¹æœ‰å¾ˆå¤šä¸œè¥¿ã€‚è¿™æ­ç¤ºäº†mipmapçš„å·¥ä½œåŸç†ï¼šå°†åŸå§‹å›¾åƒåå¤è¿‡æ»¤ä¸ºæ›´å°çš„å›¾åƒã€‚
åœ¨ä½¿ç”¨ mipmap æ»¤æ³¢å™¨çš„æ—¶å€™,åœ¨å®é™…æ¸²æŸ“å‘ç”Ÿä¹‹å‰,åŸå§‹çº¹ç†å›¾åƒä¼šç”Ÿæˆä¸€ç³»åˆ—è¾ƒå°å°ºå¯¸çš„ç‰ˆæœ¬ã€‚åŸå§‹çº¹ç†(ç¬¬ 0 çº§)ä¼šè¢«ä¸‹é‡‡æ ·åˆ°åŸå§‹å°ºå¯¸çš„å››åˆ†ä¹‹ä¸€,æ¯ä¸ªæ–°ç”Ÿæˆçš„çº¹ç´ å€¼,é€šå¸¸ä¸ºåŸå§‹çº¹ç†ä¸­å››ä¸ªç›¸é‚»çº¹ç´ çš„å¹³å‡å€¼,è¿™ä¸ªæ–°ç”Ÿæˆçš„çº¹ç†(ç¬¬ 1 çº§)æœ‰æ—¶ä¹Ÿä¼šè¢«å«åšåŸå§‹çº¹ç†çš„å­çº¹ç†(subtexture)ã€‚è¿™ä¸ªä¸‹é‡‡æ ·çš„è¿‡ç¨‹ä¼šè¢«é€’å½’æ‰§è¡Œ,ç›´åˆ°æœ€ç»ˆç”Ÿæˆçš„æŸä¸ªçº¹ç†çš„ç»´åº¦ä¸º 1ã€‚è¿™ç»„å›¾ç‰‡çš„é›†åˆé€šå¸¸è¢«ç§°ä¸ºä¸€ä¸ª mipmap é“¾(mipmap chain)ã€‚
&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/mipmap%E9%87%91%E5%AD%97%E5%A1%94.png"
width="1118"
height="801"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/mipmap%E9%87%91%E5%AD%97%E5%A1%94_hu_324630b19d77a2da.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/mipmap%E9%87%91%E5%AD%97%E5%A1%94_hu_7cef3c447433ee58.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
&gt;&lt;br&gt;
ç”Ÿæˆé«˜è´¨é‡ mipmap çš„ä¸¤ä¸ªé‡è¦å› ç´ åˆ†åˆ«æ˜¯:ä½¿ç”¨è‰¯å¥½çš„è¿‡æ»¤å’Œä¼½é©¬æ ¡æ­£ã€‚ç”Ÿæˆmipmap çš„å¸¸ç”¨æ–¹æ³•æ˜¯å°†æ¯ 2 Ã— 2çš„çº¹ç´ è¿›è¡Œå¹³å‡,ä»è€Œè·å¾—ä¸‹ä¸€çº§ mip æ‰€å¯¹åº”çš„çº¹ç´ å€¼ã€‚å…·ä½“ä½¿ç”¨çš„æ˜¯ä¸€ä¸ª box æ»¤æ³¢å™¨,è™½ç„¶è¿™å¯èƒ½æ˜¯æœ€ç³Ÿç³•çš„ä¸€ä¸ªæ»¤æ³¢å™¨,ä½¿ç”¨box æ»¤æ³¢å™¨å¯èƒ½ä¼šå¯¼è‡´è¾ƒå·®çš„è´¨é‡,å› ä¸ºå®ƒä¼šå¯¹ä½é¢‘ä¿¡æ¯è¿›è¡Œæ¨¡ç³Š,åŒæ—¶ä¿ç•™ä¸€äº›ä¼šäº§ç”Ÿé”¯é½¿çš„é«˜é¢‘ä¿¡æ¯ã€‚æœ€å¥½æ˜¯ä½¿ç”¨é«˜æ–¯ã€Lanczosã€Kaiser æˆ–è€…ç±»ä¼¼çš„æ»¤æ³¢å™¨,è¿™äº›æ»¤æ³¢å™¨çš„æºä»£ç åŸºæœ¬éƒ½æœ‰å…è´¹é«˜æ•ˆçš„å¼€æºå®ç°,åŒæ—¶æœ‰ä¸€äº› API è¿˜æ”¯æŒåœ¨ GPU ä¸Šè¿›è¡Œè¿‡æ»¤æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é è¿‘çº¹ç†è¾¹ç¼˜è¿›è¡Œè¿‡æ»¤çš„æ—¶å€™çš„åœ°æ–¹,éœ€è¦æ³¨æ„çº¹ç†çš„åŒ…è£…æ¨¡å¼(wrapping mode)ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºåœ¨éçº¿æ€§é¢œè‰²ç©ºé—´ä¸­è¿›è¡Œç¼–ç çš„çº¹ç†(ä¾‹å¦‚å¤§å¤šæ•°çš„å½©è‰²çº¹ç†),åœ¨è¿‡æ»¤æ—¶å¿½ç•¥ä¼½ç›æ ¡æ­£ä¼šä¿®æ”¹è¯¥å±‚çº§ mipmap çš„æ„ŸçŸ¥äº®åº¦ã€‚å¦‚æœä½¿ç”¨äº†æœªæ ¡æ­£çš„mipmap,ç›¸æœºè·ç¦»ç‰©ä½“è¶Šè¿œ,ç‰©ä½“æ•´ä½“çœ‹èµ·æ¥å°±ä¼šè¶Šæš—,å¯¹æ¯”åº¦å’Œè¡¨é¢ç»†èŠ‚ä¹Ÿä¼šå—åˆ°å½±å“ã€‚ç”±äºè¿™ä¸ªåŸå› ,å› æ­¤å°†è¿™ç§çº¹ç†(ä¾‹å¦‚é¢œè‰²çº¹ç†)&lt;strong&gt;ä» sRGB é¢œè‰²ç©ºé—´è½¬æ¢åˆ°çº¿æ€§é¢œè‰²ç©ºé—´&lt;/strong&gt;æ˜¯ååˆ†é‡è¦çš„,æˆ‘ä»¬ä¼šåœ¨çº¿æ€§ç©ºé—´ä¸­å®Œæˆ mipmap çš„ç”Ÿæˆå’Œè¿‡æ»¤,ç„¶åå°†ç”Ÿäº§çš„ç»“æœè½¬æ¢å› sRGB é¢œè‰²ç©ºé—´ä¸­å¹¶è¿›è¡Œå­˜å‚¨ã€‚å¤§å¤šæ•°å›¾å½¢ API éƒ½æ”¯æŒ sRGB çº¹ç†,å› æ­¤å¯ä»¥åœ¨çº¿æ€§ç©ºé—´ä¸­æ­£ç¡®ç”Ÿæˆ mipmap,å¹¶å°†ç»“æœå­˜å‚¨åœ¨ sRGBä¸­ã€‚å½“è®¿é—® sRGB çº¹ç†çš„æ—¶å€™,å®ƒä»¬é¦–å…ˆä¼šè¢«è½¬æ¢åˆ°çº¿æ€§ç©ºé—´ä¸­,ä»¥ä¾¿æ­£ç¡®åœ°æ‰§è¡Œæ”¾å¤§(magnification)å’Œç¼©å°(minification)æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;mipmap çš„å¥½å¤„åœ¨äº,å®ƒå¹¶ä¸æ˜¯å»å•ç‹¬è®¡ç®—æ¯ä¸ªçº¹ç´ å¯¹åƒç´ çš„å½±å“,è€Œæ˜¯å¯¹é¢„å…ˆç”Ÿæˆçš„çº¹ç´ é›†åˆè¿›è¡Œè®¿é—®å’Œæ’å€¼,æ— è®ºçº¹ç†å‹ç¼©çš„ç¨‹åº¦å¦‚ä½•,è¿™ä¸ªè¿‡ç¨‹çš„æ—¶é—´å¼€é”€æ˜¯å›ºå®šçš„ã€‚ç„¶è€Œ,mipmap ä¹Ÿå­˜åœ¨å‡ ä¸ªç¼ºé™·,å…¶ä¸­ä¸€ä¸ªä¸»è¦çš„é—®é¢˜å°±æ˜¯è¿‡åº¦æ¨¡ç³Š(overblurring)ã€‚æˆ‘ä»¬å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªåƒç´ å•å…ƒæ ¼,å®ƒåœ¨ uæ–¹å‘ä¸Šè¦†ç›–äº†å¤§é‡çš„çº¹ç´ ,è€Œåœ¨ væ–¹å‘ä¸Šåªè¦†ç›–äº†å°‘é‡çš„çº¹ç´ ,è¿™ç§æƒ…å†µé€šå¸¸å‘ç”Ÿåœ¨ç›¸æœºä»¥ä¸€ä¸ªæ å°„è§’åº¦æ¥è§‚å¯Ÿçº¹ç†è¡¨é¢çš„æ—¶å€™ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹,éœ€è¦æ²¿ç€çº¹ç†çš„å…¶ä¸­ä¸€ä¸ªè½´è¿›è¡Œç¼©å°,æ²¿ç€å¦ä¸€ä¸ªè½´è¿›è¡Œæ”¾å¤§,è¿™ä¼šå¯¼è‡´åƒç´ åœ¨çº¹ç†ä¸Šçš„æŠ•å½±åŒºåŸŸæ˜¯ä¸€ä¸ªé•¿å®½æ¯”å¾ˆå¤§çš„çŸ©å½¢;è€Œæˆ‘ä»¬åœ¨è®¿é—® mipmap æ—¶,åªèƒ½æ£€ç´¢çº¹ç†ä¸Šçš„æ­£æ–¹å½¢æŠ•å½±åŒºåŸŸ,æ— æ³•æ£€ç´¢çŸ©å½¢æŠ•å½±åŒºåŸŸã€‚ä¸ºäº†é¿å…èµ°æ ·,æˆ‘ä»¬ä¼šé€‰æ‹©è¾ƒé•¿çš„é‚£ä¸ªè¾¹æ‰€å½¢æˆçš„æ­£æ–¹å½¢,æ¥ä½œä¸ºå¯¹åƒç´ å•å…ƒæ ¼è¦†ç›–ç‡çš„è¿‘ä¼¼åº¦é‡,è¿™å¯¼è‡´æ£€ç´¢åˆ°çš„æ ·æœ¬å¾€å¾€ä¼šç›¸å¯¹æ¨¡ç³Šã€‚è¿™ç§ç°è±¡å¯ä»¥åœ¨å›¾ä¸­çœ‹åˆ°,å›¾ç‰‡å³ä¾§å‘è¿œå¤„å»¶ä¼¸çš„çº¿æ¡ä¼šå˜å¾—è¿‡åº¦æ¨¡ç³Šã€‚
&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/mipmap%E8%BF%87%E6%BB%A4.png"
width="919"
height="213"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/mipmap%E8%BF%87%E6%BB%A4_hu_25dfa9ba18632ae0.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/mipmap%E8%BF%87%E6%BB%A4_hu_a32e477afaf89808.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="431"
data-flex-basis="1035px"
&gt;&lt;/p&gt;
&lt;h3 id="summed-area-è¡¨sat"&gt;Summed-Area è¡¨(SAT)
&lt;/h3&gt;&lt;p&gt;å¦ä¸€ç§èƒ½å¤Ÿé¿å…è¿‡åº¦æ¨¡ç³Šçš„æ–¹æ³•æ˜¯é¢ç§¯ç§¯åˆ†è¡¨(summed-area table,SAT,ä¹Ÿå¯ä»¥å«åšæ±‚å’Œé¢ç§¯è¡¨),åæ–‡ä¸­æˆ‘ä»¬ä¼šç®€ç§°ä¸º SATã€‚æƒ³è¦ä½¿ç”¨è¿™ç§æ–¹æ³•,é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªå°ºå¯¸ä¸çº¹ç†ç›¸åŒçš„æ•°ç»„,ä½†æ˜¯é¢œè‰²å­˜å‚¨çš„ç²¾åº¦è¦æ›´é«˜(ä¾‹å¦‚:æ¯ä¸ªçº¢ç»¿è“é¢œè‰²åˆ†é‡éƒ½ä¼šå æ® 16 ä¸ª bit)ã€‚åœ¨æ•°ç»„ä¸­çš„æ¯ä¸ªä½ç½®ä¸Š,è¯¥ä½ç½®ä¸Šçš„çº¹ç´ ä¼šå’Œ (0, 0)å¤„çš„çº¹ç´ (åŸç‚¹)æ„æˆä¸€ä¸ªçŸ©å½¢,è®¡ç®—å¹¶å­˜å‚¨åŒºåŸŸä¸­æ‰€æœ‰çº¹ç´ å€¼çš„æ€»å’Œã€‚åœ¨çº¹ç†åŒ–çš„è¿‡ç¨‹ä¸­,å±å¹•ä¸Šåƒç´ åœ¨çº¹ç†ä¸Šçš„æŠ•å½±åŒºåŸŸæ˜¯ä¸€ä¸ªçŸ©å½¢;ç„¶åä¼šé€šè¿‡ SAT æ¥ç¡®å®šè¿™ä¸ªçŸ©å½¢åŒºåŸŸçš„å¹³å‡é¢œè‰²,å¹¶å°†å…¶ä½œä¸ºè¯¥åƒç´ çš„çº¹ç†é¢œè‰²ã€‚è¿™ä¸ªè®¡ç®—è¿‡ç¨‹å¦‚å›¾ 6.17 æ‰€ç¤º,å…·ä½“çš„å¹³å‡é¢œè‰²è®¡ç®—å…¬å¼å¦‚ä¸‹:&lt;/p&gt;
$$c = \frac{s[x_{ur},y_{ur}]-s[x_{ur},y_{ll}]-s[x_{ll},y_{ur}]+s[x_{ll},y_{ll}]}{(x_{ur}-x_{ll})(y_{ur}-y_{ll})}$$&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/SAT%E8%BF%87%E6%BB%A4.png"
width="918"
height="217"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/SAT%E8%BF%87%E6%BB%A4_hu_9edc4a4fa4a9a0b3.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/SAT%E8%BF%87%E6%BB%A4_hu_576dc732cb524454.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="423"
data-flex-basis="1015px"
&gt;&lt;/p&gt;
&lt;p&gt;å›¾åƒå³ä¾§å‘è¿œå¤„åœ°å¹³çº¿å»¶ç”³çš„çº¿æ¡å˜å¾—æ›´åŠ æ¸…æ™°äº†,ä½†æ˜¯ä¸­é—´å¯¹è§’ç›¸äº¤çš„çº¿æ¡ä»ç„¶æ˜¯å¾ˆæ¨¡ç³Šçš„ã€‚è¿™ä¸ªé—®é¢˜çš„åŸå› åœ¨äº,å½“æˆ‘ä»¬æ²¿ç€å¯¹è§’çº¿è§‚å¯Ÿçº¹ç†çš„æ—¶å€™,åƒç´ æŠ•å½±æ‰€ç”Ÿæˆçš„åŒºåŸŸæ˜¯ä¸€ä¸ªæ²¿å¯¹è§’çº¿çš„ç»†é•¿çŸ©å½¢,è¯¥çŸ©å½¢å¯¹åº”çš„åŒ…å›´ç›’ä¸­åŒ…å«äº†å¤§é‡æ— å…³çš„çº¹ç´ ,ä¾‹å¦‚:åœ¨å›¾ä¸­,æƒ³è±¡æ­¤æ—¶åƒç´ çš„æŠ•å½±åŒºåŸŸæ˜¯ä¸€ä¸ªæ¨ªè·¨çº¹ç†å¯¹è§’çº¿çš„ç»†é•¿åŒºåŸŸ,å®ƒæ‰€å¯¹åº”çš„åŒ…å›´ç›’å‡ ä¹ä¼šå æ®æ•´ä¸ªçº¹ç†,è€ŒçœŸæ­£ä½äºåƒç´ æŠ•å½±åŒºåŸŸå†…çš„çº¹ç´ æ•°é‡åˆ™å¾ˆå°‘ã€‚æ­¤æ—¶è¿™ç§æ–¹æ³•ä¼šå¯¹æ•´ä¸ªçº¹ç†çŸ©å½¢è¿›è¡Œå¹³å‡,è¿™ä¸ªç»“æœåŒ…å«äº†å¤§é‡çš„æ— å…³çº¹ç´ å€¼,ä»è€Œå¯¼è‡´æ¨¡ç³Šçš„äº§ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/SAT%E7%A4%BA%E4%BE%8B.png"
width="1065"
height="555"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/SAT%E7%A4%BA%E4%BE%8B_hu_955a36a760980983.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/SAT%E7%A4%BA%E4%BE%8B_hu_11ecee0b5e71621d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="191"
data-flex-basis="460px"
&gt;&lt;/p&gt;
&lt;p&gt;SAT æ˜¯å„å‘å¼‚æ€§è¿‡æ»¤(anisotropic filtering)ç®—æ³•çš„å…¶ä¸­ä¸€ä¸ªä¾‹å­,è¿™ç±»ç®—æ³•ç”¨äºæ£€ç´¢éæ­£æ–¹å½¢æŠ•å½±åŒºåŸŸçš„çº¹ç†å€¼,SAT å¯¹äºæ¥è¿‘æ°´å¹³æ–¹å‘æˆ–è€…ç«–ç›´æ–¹å‘çš„æŠ•å½±åŒºåŸŸæœ€ä¸ºæœ‰æ•ˆã€‚è¿˜éœ€è¦æ³¨æ„çš„æ˜¯,å¯¹äº 16 Ã— 16æˆ–è€…å°ºå¯¸æ›´å°çš„çº¹ç†,SAT éœ€è¦è‡³å°‘ä¸¤å€çš„å†…å­˜;è€Œå¯¹äºå°ºå¯¸æ›´å¤§çš„çº¹ç†,åˆ™éœ€è¦æ›´é«˜çš„å­˜å‚¨ç²¾åº¦,å› ä¸ºåƒç´ å€¼çš„å’Œä¼šå¾ˆå¤§,ç²¾åº¦è¿‡ä½å¯èƒ½ä¼šå¯¼è‡´æ•°å€¼æº¢å‡ºã€‚&lt;br&gt;
SAT å¯ä»¥æä¾›æ›´å¥½çš„è´¨é‡,å¹¶ä¸”é¢å¤–çš„å†…å­˜å¼€é”€è¿˜ç®—åˆç†,å› æ­¤å®ƒåœ¨ç°ä»£çš„ GPU ä¸Šä¹Ÿè¢«å¹¿æ³›åº”ç”¨ã€‚é«˜è´¨é‡çš„è¿‡æ»¤æ–¹æ³•å¯¹äºé«˜çº§æ¸²æŸ“æŠ€æœ¯çš„è´¨é‡è€Œè¨€è‡³å…³é‡è¦ã€‚ä¾‹å¦‚,Hensley ç­‰äººæå‡ºäº†ä¸€ä¸ªé«˜æ•ˆçš„å®ç°,å¹¶å±•ç¤ºäº†ä½¿ç”¨ SAT é‡‡æ ·æ¥æ”¹å–„glossy åå°„çš„æ–¹æ³•ã€‚å…¶ä»–ä½¿ç”¨åŒºåŸŸé‡‡æ ·çš„ç®—æ³•ä¹Ÿå¯ä»¥é€šè¿‡ SAT æ–¹æ³•è¿›è¡Œæ”¹è¿›,ä¾‹å¦‚å¦‚æ™¯æ·±,é˜´å½±è´´å›¾,å’Œæ¨¡ç³Šåå°„ç­‰ã€‚&lt;/p&gt;
&lt;h4 id="æ— çº¦æŸçš„å„å‘å¼‚æ€§è¿‡æ»¤"&gt;æ— çº¦æŸçš„å„å‘å¼‚æ€§è¿‡æ»¤
&lt;/h4&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%90%84%E5%90%91%E5%BC%82%E6%80%A7%E8%BF%87%E6%BB%A4.png"
width="1116"
height="482"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%90%84%E5%90%91%E5%BC%82%E6%80%A7%E8%BF%87%E6%BB%A4_hu_bed2c34fbc1aa385.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E5%90%84%E5%90%91%E5%BC%82%E6%80%A7%E8%BF%87%E6%BB%A4_hu_1bdbb94e19c1706f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="231"
data-flex-basis="555px"
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¹‹å‰æˆ‘ä»¬æ‰€æåˆ°çš„æ–¹æ³•ä¸­,ä¼šåœ¨ mipmap ä¸­çš„ä¸€ä¸ªæ­£æ–¹å½¢åŒºåŸŸå†…è¿›è¡Œé‡‡æ ·,è¿™å¯èƒ½ä¼šå¯¼è‡´é‡‡æ ·åˆ°å¾ˆå¤šæ— å…³çº¹ç´ ,ä½¿å¾—è¡¨é¢å˜å¾—æ¨¡ç³Šã€‚è¿™é‡Œæˆ‘ä»¬å°†è¦ä»‹ç»çš„ç®—æ³•,å¹¶ä¸æ˜¯ä½¿ç”¨å•ä¸ª mipmap é‡‡æ ·åŒºåŸŸæ¥å¯¹è¯¥æŠ•å½±å½¢æˆå››è¾¹å½¢è¿›è¡Œè¿‘ä¼¼,è€Œæ˜¯ä¼šä½¿ç”¨å¤šä¸ªæ­£æ–¹å½¢æ¥è¿›è¡Œè¿‘ä¼¼ã€‚æˆ‘ä»¬ä½¿ç”¨å››è¾¹å½¢ä¸­è¾ƒçŸ­çš„é‚£ä¸ªè¾¹æ¥ç¡®å®š dçš„å€¼(è€Œåœ¨åŸå§‹çš„ mipmapä¸­,é€šå¸¸ä¼šä½¿ç”¨è¾ƒé•¿çš„è¾¹æ¥ç¡®å®š d),è¿™æ ·åšä¼šä½¿å¾—æ¯ä¸ª mipmap æ ·æœ¬çš„å¹³å‡é¢ç§¯æ›´å°(åŒ…å«äº†æ›´å°‘çš„æ— å…³åƒç´ ,å› æ­¤ä¼šå‡å°‘æ¨¡ç³Šçš„å‡ºç°)ã€‚è€Œå››è¾¹å½¢çš„é•¿è¾¹åˆ™è¢«ç”¨æ¥åˆ›å»ºä¸€æ¡ä¸å…¶å¹³è¡Œ,å¹¶ä¸”ç©¿è¿‡å››è¾¹å½¢ä¸­ç‚¹çš„å„å‘å¼‚æ€§çº¿(line of anisotropy)ã€‚å½“å„å‘å¼‚æ€§çš„æ¯”ä¾‹åœ¨ 1 : 1å’Œ 2 : 1ä¹‹é—´æ—¶,æˆ‘ä»¬ä¼šæ²¿ç€è¿™æ¡çº¿å–ä¸¤ä¸ªæ ·æœ¬(å¦‚å›¾ 6.18 æ‰€ç¤º);å„å‘å¼‚æ€§çš„æ¯”ä¾‹è¶Šé«˜,æ²¿è½´é‡‡é›†çš„æ ·æœ¬å°±è¶Šå¤šã€‚&lt;/p&gt;
&lt;h2 id="ä½“ç§¯çº¹ç†volume-texture"&gt;ä½“ç§¯çº¹ç†ï¼ˆvolume textureï¼‰
&lt;/h2&gt;&lt;p&gt;å¯¹å›¾åƒçº¹ç†ç›´æ¥è¿›è¡Œæ‰©å±•å¯ä»¥å¾—åˆ°ä¸‰ç»´å›¾åƒæ•°æ®,å®ƒé€šè¿‡åæ ‡ (u, v, w)æˆ–è€… (s, t, r)æ¥è¿›è¡Œè®¿é—®,ä¾‹å¦‚:åŒ»å­¦æˆåƒæ•°æ®å¯ä»¥ç”Ÿæˆä¸‰ç»´ç½‘æ ¼,é€šè¿‡åœ¨ç½‘æ ¼ä¸­ç§»åŠ¨æˆåƒå¹³é¢,å¯ä»¥çœ‹åˆ°è¿™äº›æ•°æ®çš„äºŒç»´åˆ‡ç‰‡ã€‚&lt;br&gt;
å¦‚ä»Šå¤§éƒ¨åˆ† GPU éƒ½æ”¯æŒä½“ç§¯çº¹ç†(volume texture)çš„ mipmap,ç”±äºåœ¨ä½“ç§¯çº¹ç†çš„å•ä¸ª mipmap çº§åˆ«å†…,éœ€è¦ä½¿ç”¨ä¸‰çº¿æ€§æ’å€¼æ¥è¿›è¡Œè¿‡æ»¤,å› æ­¤åœ¨ä¸åŒ mipmap çº§åˆ«ä¹‹é—´,éœ€è¦å››çº¿æ€§æ’å€¼(quadrilinear interpolation)æ¥è¿›è¡Œè¿‡æ»¤ã€‚ç”±äºéœ€è¦å¯¹ 16ä¸ªçº¹ç´ çš„ç»“æœè¿›è¡Œæ±‚å¹³å‡,å› æ­¤å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ç²¾åº¦ä¸è¶³çš„é—®é¢˜,è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨æ›´é«˜ç²¾åº¦çš„ä½“ç§¯çº¹ç†æ¥è¿›è¡Œè§£å†³ã€‚&lt;br&gt;
è™½ç„¶ä½“ç§¯çº¹ç†å¯¹äºå­˜å‚¨ç©ºé—´çš„è¦æ±‚æ¯”è¾ƒé«˜,å¹¶ä¸”è¿‡æ»¤çš„è®¡ç®—æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜,ä½†å®ƒç¡®å®å…·æœ‰ä¸€äº›ç‰¹æ®Šçš„ä¼˜åŠ¿ã€‚ç”±äºå¯ä»¥ç›´æ¥ä½¿ç”¨çº¹ç†åæ ‡æ¥è¡¨ç¤ºä¸‰ç»´çš„ç©ºé—´ä½ç½®,å› æ­¤å¯ä»¥è·³è¿‡ä¸ºä¸‰ç»´ç½‘æ ¼å¯»æ‰¾ä¸€ä¸ªè‰¯å¥½äºŒç»´å‚æ•°åŒ–è¡¨ç¤ºçš„å¤æ‚è¿‡ç¨‹(UV æ‹†åˆ†)ã€‚è¿™é¿å…äº†äºŒç»´å‚æ•°åŒ–æ—¶ç»å¸¸å‡ºç°çš„æ‰­æ›²å’Œæ¥ç¼é—®é¢˜ã€‚ä½“ç§¯çº¹ç†ä¹Ÿå¯ä»¥ç”¨æ¥è¡¨ç¤ºæœ¨ææˆ–è€…å¤§ç†çŸ³ç­‰æè´¨çš„ä½“ç§¯ç»“æ„,å…·æœ‰è¿™ç§çº¹ç†çš„æ¨¡å‹,çœ‹èµ·æ¥å°±åƒæ˜¯ä½¿ç”¨è¿™ç§ææ–™é›•åˆ»å‡ºæ¥çš„ä¸€æ ·ã€‚&lt;br&gt;
ä½¿ç”¨ä½“ç§¯çº¹ç†æ¥å¯¹è¡¨é¢è¿›è¡Œçº¹ç†åŒ–æ“ä½œæ˜¯éå¸¸ä½æ•ˆçš„,å› ä¸ºä½“ç§¯çº¹ç†ä¸­çš„ç»å¤§éƒ¨åˆ†æ ·æœ¬éƒ½æ²¡æœ‰è¢«ä½¿ç”¨ã€‚Benson å’Œ Davis ä»¥åŠ DeBry ç­‰äººï¼Œè®¨è®ºäº†å°†çº¹ç†æ•°æ®å­˜å‚¨åœ¨ç¨€ç–å…«å‰æ ‘ä¸­çš„æ–¹æ³•,è¿™ç§æ–¹æ³•éå¸¸é€‚åˆäº¤äº’å¼çš„ä¸‰ç»´ç»˜ç”»ç³»ç»Ÿ,å› ä¸ºæˆ‘ä»¬åœ¨åˆ›å»ºè¡¨é¢çš„æ—¶å€™,ä¸éœ€è¦æ˜¾å¼åœ°æŒ‡å®šå®ƒçš„çº¹ç†åæ ‡,åŒæ—¶å…«å‰æ ‘ç»“æ„å¯ä»¥å°†çº¹ç†ç»†èŠ‚ä¿ç•™åˆ°ä»»ä½•æˆ‘ä»¬æƒ³è¦çš„çº§åˆ«ã€‚Lefebvre ç­‰äººè®¨è®ºäº†åœ¨ç°ä»£ GPU ä¸Šå®ç°å…«å‰æ ‘çº¹ç†çš„ç»†èŠ‚;Lefebvre å’Œ Hoppeæå‡ºäº†ä¸€ç§å°†ç¨€ç–ä½“ç§¯æ•°æ®æ‰“åŒ…æˆè¾ƒå°çº¹ç†çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h2 id="ç«‹æ–¹ä½“è´´å›¾cube-map"&gt;ç«‹æ–¹ä½“è´´å›¾ï¼ˆcube mapï¼‰
&lt;/h2&gt;&lt;p&gt;å¦ä¸€ç§ç±»å‹çš„çº¹ç†å«åšç«‹æ–¹ä½“çº¹ç†(cube texture)æˆ–è€…ç«‹æ–¹ä½“è´´å›¾(cube map),å®ƒå…·æœ‰å…­ä¸ªæ­£æ–¹å½¢çš„çº¹ç†,ç«‹æ–¹ä½“çš„å…­ä¸ªé¢åˆ†åˆ«å¯¹åº”äº†è¿™ä¸ªå…­ä¸ªæ­£æ–¹å½¢çº¹ç†ã€‚è®¿é—®ç«‹æ–¹ä½“è´´å›¾éœ€è¦ä½¿ç”¨ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªåˆ†é‡çš„çº¹ç†åæ ‡å‘é‡,è¿™ä¸ªå‘é‡ä»£è¡¨äº†ä»ç«‹æ–¹ä½“ä¸­å¿ƒå‘å¤–å‘å°„çš„å°„çº¿æ–¹å‘ã€‚è¿™ä¸ªå°„çº¿ä¸ç«‹æ–¹ä½“äº¤ç‚¹çš„è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹:å‘é‡ä¸­ç»å¯¹å€¼æœ€å¤§çš„é‚£ä¸ªåˆ†é‡,å†³å®šäº†å°„çº¿ä¼šå°„å‘å“ªä¸ªç«‹æ–¹ä½“è¡¨é¢(ä¾‹å¦‚:å‘é‡(âˆ’3.2, 5.1, âˆ’8.4)ä»£è¡¨äº†å°„çº¿ä¼šå°„å‘ âˆ’zé¢)ã€‚å°†å‰©ä½™çš„ä¸¤ä¸ªåæ ‡åˆ†é‡åˆ†åˆ«é™¤ä»¥æœ€å¤§åˆ†é‡çš„ç»å¯¹å€¼(å³ 8.4),æ­¤æ—¶è¿™ä¸¤ä¸ªåˆ†é‡çš„å¤§å°ä½äº [âˆ’1, 1]å†…,ç„¶åå†å°†å…¶é‡æ–°æ˜ å°„åˆ° [0, 1]ä¸­ä»¥è®¡ç®—çº¹ç†åæ ‡,ä¾‹å¦‚:åæ ‡ (âˆ’3.2, 5.1)ä¼šè¢«æ˜ å°„ä¸º((âˆ’3.2/8.4 + 1)/2,(5.1/8.4 + 1)/2) â‰ˆ (0.31, 0.80)ã€‚ç«‹æ–¹ä½“è´´å›¾å¯¹äºè¡¨ç¤ºæ–¹å‘å‡½æ•°çš„å€¼è€Œè¨€éå¸¸æœ‰ç”¨;å®ƒä»¬æœ€å¸¸ç”¨äºç¯å¢ƒæ˜ å°„ä¸­ã€‚&lt;/p&gt;
&lt;h1 id="ç¨‹åºåŒ–çº¹ç†"&gt;ç¨‹åºåŒ–çº¹ç†
&lt;/h1&gt;&lt;h2 id="adobe-substance-3d-designer"&gt;&lt;a class="link" href="https://www.youtube.com/watch?v=At3FoFcuN6k&amp;amp;t=6s" target="_blank" rel="noopener"
&gt;Adobe Substance 3D Designer&lt;/a&gt;
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/SD%E7%AA%97%E5%B8%98.png"
width="1280"
height="703"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/SD%E7%AA%97%E5%B8%98_hu_600c43f98a748320.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/SD%E7%AA%97%E5%B8%98_hu_468528600ec95b26.png 1024w"
loading="lazy"
alt="ä¸ªäººçš„ç¨‹åºåŒ–ç”Ÿæˆçº¹ç†"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="436px"
&gt;
ä¸ªäººçš„å…¥é—¨æ•™ç¨‹ï¼Œç¨‹åºåŒ–ç”Ÿæˆä¸ç»¸æè´¨ã€‚&lt;br&gt;
ç¨‹åºåŒ–èƒŒåçš„æœ¬è´¨æ˜¯ç®—æ³•å’Œç¼–ç¨‹æ€ç»´ï¼Œä»¥åŠå¯¹ç°å®ä¸–ç•Œçš„æ‹†åˆ†å’Œå†ç†è§£ã€‚&lt;/p&gt;
&lt;h1 id="çº¹ç†åŠ¨ç”»"&gt;çº¹ç†åŠ¨ç”»
&lt;/h1&gt;&lt;p&gt;çº¹ç†åæ ‡ä¹Ÿä¸ä¸€å®šæ˜¯é™æ€çš„ã€‚æ— è®ºæ˜¯åœ¨ç½‘æ ¼æ•°æ®æœ¬èº«å¯¹çº¹ç†åæ ‡è¿›è¡Œä¿®æ”¹,è¿˜æ˜¯é€šè¿‡é¡¶ç‚¹ç€è‰²å™¨æˆ–è€…åƒç´ ç€è‰²å™¨ä¸­çš„å‡½æ•°,æ¥å¯¹çº¹ç†åæ ‡è¿›è¡Œä¿®æ”¹,åº”ç”¨ç¨‹åºè®¾è®¡äººå‘˜éƒ½å¯ä»¥æ˜¾å¼åœ°æ”¹å˜å¸§ä¸å¸§ä¹‹é—´çš„çº¹ç†åæ ‡ã€‚æƒ³è±¡ä¸€ä¸‹,ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå·²ç»å»ºæ¨¡å¥½çš„ç€‘å¸ƒæ¨¡å‹,å¹¶ä¸”å®ƒå·²ç»è¢«ä¸€ä¸ªå›¾åƒçº¹ç†åŒ–äº†,ä½¿å¾—å®ƒçœ‹èµ·æ¥å¾ˆåƒç€‘å¸ƒã€‚å‡è®¾çº¹ç†åæ ‡væ˜¯æ°´æµçš„æ–¹å‘,ä¸ºäº†è®©æ°´æµåŠ¨èµ·æ¥,å¿…é¡»ä»æ¯ä¸€å¸§çš„åæ ‡ v ä¸­å‡å»ä¸€å®šçš„æ•°å€¼ã€‚çº¹ç†åæ ‡çš„å‡æ³•æ“ä½œä¼šä½¿å¾—çº¹ç†æœ¬èº«çœ‹èµ·æ¥æ­£åœ¨å‘å‰ç§»åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡å¯¹çº¹ç†åæ ‡åº”ç”¨å˜æ¢çŸ©é˜µæ¥ç”Ÿæˆæ›´åŠ ç²¾ç»†çš„æ•ˆæœã€‚é™¤äº†å¹³ç§»ä¹‹å¤–,å®ƒè¿˜å…è®¸å…¶ä»–çš„çº¿æ€§å˜æ¢æ“ä½œ,ä¾‹å¦‚ç¼©æ”¾ã€æ—‹è½¬å’Œå‰ªåˆ‡,å›¾åƒæ‰­æ›²(image warping)å’Œå˜å½¢è½¬æ¢(morphing transforms),ä»¥åŠå¹¿ä¹‰æŠ•å½±ç­‰ã€‚é€šè¿‡åœ¨ CPU æˆ–è€…ç€è‰²å™¨ä¸­åº”ç”¨å˜æ¢å‡½æ•°,å¯ä»¥ç”Ÿæˆæ›´å¤æ‚çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä½¿ç”¨çº¹ç†æ··åˆ(texture blending)æŠ€æœ¯,è¿˜å¯ä»¥å®ç°å…¶ä»–çš„åŠ¨ç”»æ•ˆæœã€‚ä¾‹å¦‚:ä»ä¸€ä¸ªå¤§ç†çŸ³çº¹ç†å‡ºå‘,å°†å…¶æ¸å˜ä¸ºä¸€ä¸ªè‚‰è´¨çº¹ç†,ä»è€Œä½¿å¾—é›•åƒçœ‹èµ·æ¥åƒæ˜¯æ´»è¿‡æ¥ä¸€æ ·ã€‚&lt;/p&gt;
&lt;h1 id="çº¹ç†æ˜ å°„"&gt;çº¹ç†æ˜ å°„
&lt;/h1&gt;&lt;p&gt;çº¹ç†çš„ä¸€ä¸ªå¸¸è§ç”¨é€”æ˜¯å¯¹æè´¨å±æ€§è¿›è¡Œä¿®æ”¹,ä»è€Œå½±å“ç€è‰²æ–¹ç¨‹çš„è®¡ç®—ç»“æœã€‚ç°å®ä¸–ç•Œä¸­çš„ç‰©ä½“é€šå¸¸éƒ½ä¼šå…·æœ‰ä¸åŒçš„è¡¨é¢æè´¨å±æ€§,ä¸ºäº†æ¨¡æ‹Ÿè¿™æ ·çš„ç‰©ä½“,åƒç´ ç€è‰²å™¨å¯ä»¥ä»çº¹ç†ä¸­è¯»å–çº¹ç†å€¼,å¹¶åœ¨è®¡ç®—ç€è‰²æ–¹ç¨‹ä¹‹å‰,ä½¿ç”¨å®ƒä»¬æ¥ä¿®æ”¹æè´¨çš„å‚æ•°ã€‚çº¹ç†æœ€å¸¸ä¿®æ”¹çš„å‚æ•°å°±æ˜¯è¡¨é¢æ˜¯é¢œè‰²,è¿™ç§çº¹ç†é€šå¸¸è¢«ç§°ä¸ºåç…§ç‡é¢œè‰²è´´å›¾(albedo color map)æˆ–è€…æ¼«åå°„é¢œè‰²è´´å›¾(diffuse color map)ã€‚ä½†æ˜¯,ç†è®ºä¸Šä»»ä½•å‚æ•°éƒ½å¯ä»¥è¢«çº¹ç†è¿›è¡Œä¿®æ”¹,ä¾‹å¦‚:æ›¿æ¢ã€ç›¸ä¹˜æˆ–è€…ä»¥å…¶ä»–æ–¹å¼ç­‰ã€‚ä¾‹å¦‚åœ¨å›¾ 6.25 ä¸­çš„è¡¨é¢,åº”ç”¨äº†ä¸‰ç§ä¸åŒçš„çº¹ç†æ¥æ›¿æ¢å¸¸é‡å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E6%98%A0%E5%B0%84.png"
width="1118"
height="451"
srcset="https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E6%98%A0%E5%B0%84_hu_2d5673ada43eae25.png 480w, https://foth0626.github.io/article/rtr4-chapter06-texture/%E7%BA%B9%E7%90%86%E6%98%A0%E5%B0%84_hu_f2b4fe7f0349f73.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="594px"
&gt;&lt;/p&gt;</description></item><item><title>myLittleRenderer02 - ä¸‰è§’é¢</title><link>https://foth0626.github.io/article/tiny-renderer-02/</link><pubDate>Fri, 11 Oct 2024 14:29:28 +0800</pubDate><guid>https://foth0626.github.io/article/tiny-renderer-02/</guid><description>&lt;img src="https://foth0626.github.io/article/tiny-renderer-02/cover.png" alt="Featured image of post myLittleRenderer02 - ä¸‰è§’é¢" /&gt;&lt;p&gt;æ‰˜æ›´äº†å¾ˆä¹…ç»ˆäºæ›´æ–°äº†ï¼Œä¸»è¦æ˜¯å†™åˆ°ç¬¬ä¸‰è¯¾çš„æ—¶å€™å¿ä¸ä½å¼€å§‹æƒ³æ€ä¹ˆé‡æ„è¿™èŠ‚è¯¾å†™çš„ç”»ä¸‰è§’é¢çš„å‡½æ•°ï¼Œç„¶åæ€è€ƒå‡½æ•°æ€ä¹ˆè§£è€¦ï¼Œå¹¶ä¸”å¯¹äºä¼ å…¥çš„ä¸‰è§’é¢ç±»å‹åº”è¯¥æ˜¯æµ®ç‚¹æ•°è¿˜æ˜¯æ•´å½¢çš„çº ç»“äº†å¾ˆä¹…ï¼Œæ— è®ºæ˜¯å“ªç§éƒ½æœ‰è¶³å¤Ÿçš„ç†ç”±ï¼Œæµ®ç‚¹å‹ç²¾ç¡®ï¼Œæ•´å‹ç¬¦åˆæœ€åçš„åƒç´ çš„å†™å…¥ã€‚æœ€åé€‰æ‹©äº†å…ˆå†™å®Œå†è¯´ï¼Œå†™å‡ºä¸€å¨å±å±±å†è¯´ã€‚
è¿™èŠ‚è¯¾ä¸»è¦å†™äº†å¦‚ä½•æŠŠä¸Šæ¬¡å†™çš„çº¿æ¡†ç”»æˆä¸‰è§’é¢ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ä¸‰è§’å½¢çš„åŸºç¡€æ„æƒ³"&gt;ä¸‰è§’å½¢çš„åŸºç¡€æ„æƒ³
&lt;/h2&gt;&lt;p&gt;ä¸éš¾æƒ³åˆ°ï¼Œä¸‰è§’å½¢å¯ä»¥ç”¨ä¸€è¡Œä¸€è¡Œåœ°å¡«å……æ»¡ï¼Œä½†æ˜¯å¦‚æœä»ä¸‹åˆ°ä¸Šçš„å¡«å……ï¼Œé‚£ä¹ˆå°±ä¸å¯é¿å…çš„ä¼šè¢«åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç”±ä¸­é—´çš„ç‚¹åˆ†ä¸ºä¸Šä¸‹ä¸¤éƒ¨åˆ†ï¼Œäºæ˜¯å°±æœ‰åŸºç¡€çš„ä¸‰è§’ç»˜å›¾å‡½æ•° &lt;code&gt;triangle&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-c++" data-lang="c++"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec3i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;verts&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;TGAImage&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;TGAColor&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;verts&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;at&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;verts&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;at&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;point2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;verts&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;at&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//avoid a triangle degenerating into a line
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="mf"&gt;.1&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//sort three point3 , now they sort by y in ascending order, we call them A , B , C
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;swap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;point2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;swap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;point2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;swap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;//calc the slope and draw triangle
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;point2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;pointA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point2&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;static_cast&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;pointB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point2&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;static_cast&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;static_cast&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;point0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pointA&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;pointB&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;swap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pointA&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pointB&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pointA&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;pointB&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id="åŠ é€Ÿç»“æ„"&gt;åŠ é€Ÿç»“æ„
&lt;/h1&gt;&lt;h2 id="åŒ…å›´ç›’"&gt;åŒ…å›´ç›’
&lt;/h2&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬ä½¿ç”¨åŒ…å›´ç›’åŠ é€Ÿï¼Œé€šè¿‡æŠŠéå†èŒƒå›´ä»æ•´ä¸ªå±å¹•ç¼©å°åˆ°åŒ…å›´ç€ä¸‰è§’å½¢çš„æœ€å°å››è¾¹å½¢ï¼Œæˆ‘ä»¬å¯ä»¥åŠ é€Ÿç»˜å›¾ã€‚æˆ‘å·²ç»æŠŠå¯»æ‰¾åŒ…å›´ç›’æŠ½è±¡æˆä¸ºäº†ä¸€ä¸ªå•ç‹¬çš„å‡½æ•° &lt;code&gt;boundingBox&lt;/code&gt; ã€‚å½“ç„¶ï¼Œæœªæ¥å¯èƒ½ä¼šä¿®æ”¹è¿™ä¸ªå‡½æ•°çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-CPP" data-lang="CPP"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="nc"&gt;BoundingBox&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;minX&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;minY&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;maxX&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;maxY&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;BoundingBox&lt;/span&gt; &lt;span class="nf"&gt;boundingBox&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec2i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;TGAImage&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt; &lt;span class="n"&gt;boundingBoxMin&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt; &lt;span class="n"&gt;boundingBoxMax&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt; &lt;span class="n"&gt;clamp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;boundingBoxMin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;boundingBoxMin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;boundingBoxMin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;boundingBoxMin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;boundingBoxMax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;clamp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;boundingBoxMax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;boundingBoxMax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;clamp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;boundingBoxMax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;boundingBoxMin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;boundingBoxMin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;boundingBoxMax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;boundingBoxMax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="é‡å¿ƒåæ ‡"&gt;é‡å¿ƒåæ ‡
&lt;/h2&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬éœ€è¦æ€è€ƒå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªç‚¹åœ¨ä¸‰è§’å½¢å†…è¿˜æ˜¯åœ¨ä¸‰è§’å½¢å¤–ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼šç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å‘é‡ç›¸ä¹˜çš„æ–¹æ³•ï¼Œé€šè¿‡åˆ¤æ–­ç‚¹ä¸ä¸‰ä¸ªé¡¶ç‚¹å½¢æˆçš„å‘é‡å’Œè¾¹çš„å‰ç§¯æ˜¯å¦åŒå·åˆ¤æ–­ã€‚è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨é‡å¿ƒåæ ‡æ³•ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆé‡å¿ƒåæ ‡çš„ç»“æœã€‚è¿™é‡Œä½¿ç”¨é‡å¿ƒåæ ‡æ³•ï¼Œå‘é‡ç›¸ä¹˜å¯ä»¥å‚è€ƒGAMES101ä½œä¸šçš„å®ç°ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-CPP" data-lang="CPP"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="nf"&gt;barycentric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec2f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cross&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Vec3f&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mf"&gt;1.f&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ˜¯æœ€ç»ˆçš„ &lt;code&gt;triangle_bbox&lt;/code&gt; å‡½æ•°&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-CPP" data-lang="CPP"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;triangle_bbox&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec3i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;TGAImage&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;TGAColor&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;BoundingBox&lt;/span&gt; &lt;span class="n"&gt;bbox&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boundingBox&lt;/span&gt;&lt;span class="p"&gt;({{&lt;/span&gt;&lt;span class="n"&gt;Vec2i&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bbox&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;minX&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;bbox&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;maxX&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bbox&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;minY&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;bbox&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;maxY&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt; &lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;bc_screen&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;barycentric&lt;/span&gt;&lt;span class="p"&gt;({{&lt;/span&gt;&lt;span class="n"&gt;Vec2f&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2f&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2f&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;triangle&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt; &lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bc_screen&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="n"&gt;bc_screen&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="n"&gt;bc_screen&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;continue&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬è®¤ä¸ºå…‰å¼ºæ˜¯è¡¨é¢æ³•çº¿å’Œå…‰çº¿æ–¹å‘çš„ä¹˜ç§¯ï¼ˆå…°ä¼¯ç‰¹æ¨¡å‹ï¼‰
æœ€ç»ˆä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;Model&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;../../obj/african_head.obj&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;modelFace&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getFaces&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;modelVerts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getVerts&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;TGAImage&lt;/span&gt; &lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;800&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;800&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TGAImage&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;RGB&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;light_dir&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getFaces&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;modelFace&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt; &lt;span class="n"&gt;face_triangle&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Vec3i&lt;/span&gt;&lt;span class="p"&gt;{(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;)},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3i&lt;/span&gt;&lt;span class="p"&gt;{(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;)},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3&lt;/span&gt;&lt;span class="p"&gt;{(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;)}};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;world_coords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;world_coords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cross&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;world_coords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;world_coords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]),(&lt;/span&gt;&lt;span class="n"&gt;world_coords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;world_coords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normalize&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;intensity&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;light_dir&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;intensity&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;triangle_bbox&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;face_triangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TGAColor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;intensity&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;intensity&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;intensity&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;flip_vertically&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;gamma_head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write_tga_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;lesson2_gamma_head.tga&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="ç»“æœ"&gt;ç»“æœ
&lt;/h2&gt;&lt;p&gt;å¦‚å›¾æ‰€ç¤º
&lt;img src="https://foth0626.github.io/article/tiny-renderer-02/head_without_zbuffer.png"
width="962"
height="954"
srcset="https://foth0626.github.io/article/tiny-renderer-02/head_without_zbuffer_hu_41428dc9d846d6b6.png 480w, https://foth0626.github.io/article/tiny-renderer-02/head_without_zbuffer_hu_1e9cd015ec85432e.png 1024w"
loading="lazy"
alt="head"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="242px"
&gt;&lt;/p&gt;
&lt;h1 id="zbuffer"&gt;ZBuffer
&lt;/h1&gt;&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªZBufferæ¥æ¶ˆé™¤è¿™ä¸ªä¸æ­£ç¡®çš„å˜´å·´&lt;/p&gt;</description></item><item><title>myLittleRender01-ç›´çº¿ä¸çº¿æ¡†</title><link>https://foth0626.github.io/article/tiny-renderer-01/</link><pubDate>Sat, 28 Sep 2024 15:20:01 +0000</pubDate><guid>https://foth0626.github.io/article/tiny-renderer-01/</guid><description>&lt;img src="https://foth0626.github.io/article/tiny-renderer-01/head.png" alt="Featured image of post myLittleRender01-ç›´çº¿ä¸çº¿æ¡†" /&gt;&lt;h1 id="å‰è¨€"&gt;å‰è¨€
&lt;/h1&gt;&lt;p&gt;æœ¬äººæ‰“ç®—æé«˜ä¸ªäººçš„C++åŸºç¡€ç¼–ç¨‹æ°´å¹³å’Œå›¾å½¢å­¦ç†è§£ï¼Œæ‰€ä»¥å†å†å†æ¬¡å¯åŠ¨äº†&lt;a class="link" href="https://github.com/ssloy/tinyrenderer" target="_blank" rel="noopener"
&gt;tinyrenderer&lt;/a&gt;çš„ç¨‹åºç¼–å†™ï¼Œç›¸è¾ƒäºä¹‹å‰è¢«åŠ¨çš„æŠ„å†™ä»£ç ï¼Œæˆ‘å‡†å¤‡é€‰æ‹©ç›´æ¥è§‚å¯Ÿä»–çš„ä»£ç ç»“æœåæ ¹æ®è‡ªå·±çš„ç†è§£è¿›è¡Œç¼–å†™ï¼Œå¹¶è¿›è¡Œç»“æœæ¯”è¾ƒã€‚
å¼€å§‹ç¼–å†™å‰ï¼Œæ€è€ƒå‡ºå¦‚å›¾æ‰€ç¤ºçš„åŸºç¡€æ¶æ„ï¼ˆå¦‚æœè¿™å¯ä»¥ç§°ä¸ºæ¶æ„çš„è¯ï¼‰&lt;img src="https://foth0626.github.io/article/tiny-renderer-01/relation.png"
width="1249"
height="941"
srcset="https://foth0626.github.io/article/tiny-renderer-01/relation_hu_4425aeecf19f1e37.png 480w, https://foth0626.github.io/article/tiny-renderer-01/relation_hu_e19c3164d46e4eee.png 1024w"
loading="lazy"
alt="relation.png"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="318px"
&gt;
é¡¹ç›®ç»“æ„å¦‚ä¸‹&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-txt" data-lang="txt"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ CMakeLists.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ geometry.cpp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ geometry.h
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ main.cpp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ model.cpp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ model.h
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ obj
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”‚Â Â  â””â”€â”€ african_head.obj
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ rasterizer.cpp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ rasterizer.h
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ README.md
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ sandbox.cpp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ tgaimage.cpp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â””â”€â”€ tgaimage.h
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æºç å¯ä»¥åœ¨&lt;a class="link" href="https://github.com/FOTH0626/myLittleRenderer/tree/51ee96966ca9b34c1c311414ce73846cd04d1103" target="_blank" rel="noopener"
&gt;è¿™é‡Œ&lt;/a&gt;çœ‹åˆ°
tgaimage.hå’Œtgaimage.cppå¤åˆ¶è‡ªssloyçš„åˆå§‹æäº¤ï¼Œå¯ä»¥åœ¨lesson01çš„wikiçœ‹åˆ°ï¼Œåœ¨æ­¤ä¸å¤šèµ˜è¿°ã€‚&lt;/p&gt;
&lt;h1 id="åŸºç¡€è®¾æ–½å»ºè®¾"&gt;åŸºç¡€è®¾æ–½å»ºè®¾
&lt;/h1&gt;&lt;h2 id="å‘é‡ç±»"&gt;å‘é‡ç±»
&lt;/h2&gt;&lt;p&gt;åœ¨GAMES101çš„ä½œä¸šä¸­ï¼Œä½¿ç”¨äº†çº¿æ€§ä»£æ•°åº“ &lt;code&gt;Eigen&lt;/code&gt;ï¼Œä½†æ˜¯å¯¹äºæœ¬ç¯å¢ƒçš„ä»£ç æ¥è¯´ï¼Œå¹¶ä¸éœ€è¦è¿™ä¹ˆå¼ºå¤§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å‚è€ƒåŸä»“åº“æ‰‹æ“äº†ä¸€ä»½å‘é‡ç±»&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-C++" data-lang="C++"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;template&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;typename&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="nc"&gt;Vec2&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;union&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;_x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;_y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;template&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;typename&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="nc"&gt;Matrix4&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Matrix4&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;}){}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="nf"&gt;get_index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Matrix4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;initializer_list&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;requires&lt;/span&gt; &lt;span class="k"&gt;requires&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;;}{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»…åšä¸¾ä¾‹ï¼Œå…³äºé‡è½½è¿ç®—ç¬¦ç­‰æ“ä½œä¸å¤šèµ˜è¿°ã€‚&lt;br&gt;
å…¶ä¸­ï¼Œä½¿ç”¨ &lt;code&gt;union&lt;/code&gt; å†…çš„ åŒ¿å &lt;code&gt;struct&lt;/code&gt; è¾¾åˆ°äº†&lt;code&gt;.x&lt;/code&gt; ä¸&lt;code&gt;.u&lt;/code&gt; è®¿é—®åŒä¸€å†…å­˜çš„æ•ˆæœã€‚
&lt;code&gt;Matrix4(std::initializer_list&amp;lt;T&amp;gt; list) requires requires{list.size() == 16;&lt;/code&gt; çš„å†™æ³•æ¥è‡ªè½¯ç ”C++ç»„çš„æ”¯æŒï¼Œ &lt;code&gt;requires requires{list.size() == 16}&lt;/code&gt; è¡¨æ˜åœ¨æ„é€ å‡½æ•°æ—¶å¿…é¡»è°ƒç”¨ä¸€ä¸ª16ä¸ªå…ƒç´ çš„åˆ—è¡¨ã€‚&lt;br&gt;
&lt;code&gt;Matrix&lt;/code&gt; ç»“æ„ä½“å°šæœªç»è¿‡æµ‹è¯•ï¼Œå¯èƒ½å­˜åœ¨bugã€‚&lt;/p&gt;
&lt;h2 id="modelç±»"&gt;Modelç±»
&lt;/h2&gt;&lt;h2 id="å¤´æ–‡ä»¶å®šä¹‰"&gt;å¤´æ–‡ä»¶å®šä¹‰
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-C++" data-lang="C++"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;delete&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;explicit&lt;/span&gt; &lt;span class="nf"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="na"&gt;[[nodiscard]]&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec3f&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;getVerts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;verts_&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="na"&gt;[[nodiscard]]&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec2f&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;getUV&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;uv_&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="na"&gt;[[nodiscard]]&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec3f&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;getNorms&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;norms_&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="na"&gt;[[nodiscard]]&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;short&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;getFaces&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;faces_&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec3f&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;verts_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec2f&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;uv_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vec3f&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;norms_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;short&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;faces_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;wavefront obj æ–‡ä»¶æ˜¯ç”±wavefront å…¬å¸æ‰€åˆ›å»ºçš„æ¨¡å‹æ ¼å¼ï¼Œå—åˆ°å„ç±»å»ºæ¨¡è½¯ä»¶çš„å¹¿æ³›æ”¯æŒã€‚è¯¥æ¨¡å‹ä¼šåœ¨è¡Œé¦–å£°æ˜æ•°æ®ç±»å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vä»£è¡¨verticeï¼Œé¡¶ç‚¹&lt;/li&gt;
&lt;li&gt;vt ä»£è¡¨vertice texcoordï¼Œçº¹ç†åæ ‡&lt;/li&gt;
&lt;li&gt;vnä»£è¡¨nromalï¼Œæ³•çº¿&lt;/li&gt;
&lt;li&gt;fä»£è¡¨faceï¼Œå³é¢&lt;br&gt;
faceåº”è¯¥æ˜¯æœ€ç‰¹æ®Šçš„è¡Œæ•°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-txt" data-lang="txt"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;f 321/304/321 318/302/318 147/127/147
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;f 456/446/456 321/304/321 525/517/525
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;f 456/446/456 525/517/525 457/447/457
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ•°æ®æ¯ä¸€è¡Œåˆ†æˆäº†ä¸‰éƒ¨åˆ†ï¼Œæ¯ä¸€éƒ¨åˆ†éƒ½ä»£è¡¨äº†ä¸€ä¸ªé¡¶ç‚¹æ•°æ®ï¼Œåˆ†åˆ«ä»£è¡¨é¡¶ç‚¹ç´¢å¼•ï¼Œè´´å›¾ç´¢å¼•å’Œæ³•çº¿ç´¢å¼•ï¼Œå³&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-txt" data-lang="txt"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vert/texture/normal vert/texture/normal vert/texture/normal
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ‰€ä»¥ä½¿ç”¨äº† &lt;code&gt;std::vector&amp;lt;std::array&amp;lt;std::array&amp;lt;unsigned short, 3&amp;gt;, 3&amp;gt;&amp;gt;&lt;/code&gt; è¿™ç§è‡ƒè‚¿çš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;h2 id="æ„é€ å‡½æ•°"&gt;æ„é€ å‡½æ•°
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;span class="lnt"&gt;37
&lt;/span&gt;&lt;span class="lnt"&gt;38
&lt;/span&gt;&lt;span class="lnt"&gt;39
&lt;/span&gt;&lt;span class="lnt"&gt;40
&lt;/span&gt;&lt;span class="lnt"&gt;41
&lt;/span&gt;&lt;span class="lnt"&gt;42
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-c++" data-lang="c++"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ifstream&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;is_open&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cerr&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Error opening file &amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;filename&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;getline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;istringstream&lt;/span&gt; &lt;span class="n"&gt;iss&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;iss&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;v&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;iss&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;verts_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push_back&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="nf"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;vt&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec2f&lt;/span&gt; &lt;span class="n"&gt;vt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;iss&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;vt&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;vt&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;uv_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push_back&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vt&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="nf"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;vn&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;vn&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;iss&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;vn&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;vn&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;vn&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;norms_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push_back&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vn&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="nf"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;f&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;short&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;{};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="n"&gt;slash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;iss&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;slash&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;slash&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;faces_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push_back&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Loaded&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;verts_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34; vertices&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Loaded&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;uv_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34; uv&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Loaded&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;norms_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34; normals&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Loaded&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;faces_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34; faces&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ„é€ å‡½æ•°ä¼šæ‰“å¼€æ–‡ä»¶åæŒ‰è¡Œè¯»å–ï¼Œæ ¹æ®è¡Œé¦–çš„ç±»å‹å‹å…¥å¯¹åº”çš„åŠ¨æ€æ•°ç»„ï¼Œå¹¶åœ¨è¯»å–å®Œåè¾“å‡ºæ¶ˆæ¯è¯»å–æ•°é‡ã€‚ï¼ˆä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œswitchè¯­å¥ä¸æ”¯æŒstringç±»å‹ï¼Œæ‰€ä»¥ä½¿ç”¨è¿ç»­çš„ &lt;code&gt;ifelse&lt;/code&gt; è¿›è¡Œé€»è¾‘åˆ¤æ–­ã€‚ï¼‰&lt;/p&gt;
&lt;h1 id="å¸ƒé›·æ£®æ±‰å§†ç›´çº¿ç®—æ³•"&gt;å¸ƒé›·æ£®æ±‰å§†ç›´çº¿ç®—æ³•
&lt;/h1&gt;&lt;p&gt;å¸ƒé›·æ£®æ±‰å§†çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡æ•´å½¢çš„è®¡ç®—ä»£æ›¿æµ®ç‚¹æ•°çš„è®¡ç®—ï¼Œè·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚&lt;br&gt;
å¯¹äºæ–œç‡å¤§äº1æˆ–æ–œç‡ä¸ºè´Ÿæ•°è¿™ç±»æƒ…å†µï¼Œå¸ƒé›·æ£®æ±‰å§†ç®—æ³•ä¼šäº¤æ¢èµ·å§‹ç‚¹ï¼Œç”±xæ­¥è¿›æ”¹ä¸ºyæ­¥è¿›ç­‰æ–¹æ³•ä¿è¯é€‚ç”¨äºå„ç§æƒ…å†µã€‚ç®—æ³•å®ç°æ¥è‡ªGAMES101çš„ä½œä¸šå®ç°ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;span class="lnt"&gt;37
&lt;/span&gt;&lt;span class="lnt"&gt;38
&lt;/span&gt;&lt;span class="lnt"&gt;39
&lt;/span&gt;&lt;span class="lnt"&gt;40
&lt;/span&gt;&lt;span class="lnt"&gt;41
&lt;/span&gt;&lt;span class="lnt"&gt;42
&lt;/span&gt;&lt;span class="lnt"&gt;43
&lt;/span&gt;&lt;span class="lnt"&gt;44
&lt;/span&gt;&lt;span class="lnt"&gt;45
&lt;/span&gt;&lt;span class="lnt"&gt;46
&lt;/span&gt;&lt;span class="lnt"&gt;47
&lt;/span&gt;&lt;span class="lnt"&gt;48
&lt;/span&gt;&lt;span class="lnt"&gt;49
&lt;/span&gt;&lt;span class="lnt"&gt;50
&lt;/span&gt;&lt;span class="lnt"&gt;51
&lt;/span&gt;&lt;span class="lnt"&gt;52
&lt;/span&gt;&lt;span class="lnt"&gt;53
&lt;/span&gt;&lt;span class="lnt"&gt;54
&lt;/span&gt;&lt;span class="lnt"&gt;55
&lt;/span&gt;&lt;span class="lnt"&gt;56
&lt;/span&gt;&lt;span class="lnt"&gt;57
&lt;/span&gt;&lt;span class="lnt"&gt;58
&lt;/span&gt;&lt;span class="lnt"&gt;59
&lt;/span&gt;&lt;span class="lnt"&gt;60
&lt;/span&gt;&lt;span class="lnt"&gt;61
&lt;/span&gt;&lt;span class="lnt"&gt;62
&lt;/span&gt;&lt;span class="lnt"&gt;63
&lt;/span&gt;&lt;span class="lnt"&gt;64
&lt;/span&gt;&lt;span class="lnt"&gt;65
&lt;/span&gt;&lt;span class="lnt"&gt;66
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-C++" data-lang="C++"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;line&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt; &lt;span class="n"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;Vec2i&lt;/span&gt; &lt;span class="n"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TGAImage&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;TGAColor&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xe&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ye&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x2&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y2&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;dx1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;dy1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;px&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;dy1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;dx1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;py&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;dx1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;dy1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dy1&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;dx1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;xe&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;xe&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;xe&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;px&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;px&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;px&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;dy1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;px&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;px&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dy1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;dx1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ye&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ye&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;ye&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;py&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;py&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;dx1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;py&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;py&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;dy1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id="ç»˜å›¾"&gt;ç»˜å›¾
&lt;/h1&gt;&lt;p&gt;æ­¤æ—¶æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†æ‰€æœ‰åŸºæœ¬è®¾å¤‡ï¼Œå‡†å¤‡å¥½æµ‹è¯•æ–‡ä»¶ &lt;code&gt;sandbox.cpp&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-C++" data-lang="C++"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;#34;rasterizer.h&amp;#34;&lt;/span&gt;&lt;span class="cp"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;#34;tgaimage.h&amp;#34;&lt;/span&gt;&lt;span class="cp"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;#34;common.h&amp;#34;&lt;/span&gt;&lt;span class="cp"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;#34;model.h&amp;#34;&lt;/span&gt;&lt;span class="cp"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;TGAImage&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;800&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;800&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TGAImage&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;RGB&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;Model&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;../../obj/african_head.obj&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;modelFace&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getFaces&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;modelVerts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getVerts&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getFaces&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;modelFace&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;v0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Vec3f&lt;/span&gt; &lt;span class="n"&gt;v1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;modelVerts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;({(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;v0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;v0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;)},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;v1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)((&lt;/span&gt;&lt;span class="n"&gt;v1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;)},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;white&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;flip_vertically&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write_tga_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;lesson1.tga&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç”»å‡ºå°é¢å›¾&lt;img src="https://foth0626.github.io/article/tiny-renderer-01/head.png"
width="1598"
height="1599"
srcset="https://foth0626.github.io/article/tiny-renderer-01/head_hu_c53a25c3d08990be.png 480w, https://foth0626.github.io/article/tiny-renderer-01/head_hu_9f7fc21b0644ce88.png 1024w"
loading="lazy"
alt="head"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="239px"
&gt;&lt;/p&gt;</description></item></channel></rss>