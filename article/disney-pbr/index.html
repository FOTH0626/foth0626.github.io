<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="a simple understand about disney pbr"><title>è¿ªå£«å°¼åŸåˆ™çš„BRDF</title><link rel=canonical href=https://foth0626.github.io/article/disney-pbr/><link rel=stylesheet href=/scss/style.min.b0e76e98cdd4f7082d1fc36f7af7e0843a81201db2197c03ca426751dc923735.css><meta property='og:title' content="è¿ªå£«å°¼åŸåˆ™çš„BRDF"><meta property='og:description' content="a simple understand about disney pbr"><meta property='og:url' content='https://foth0626.github.io/article/disney-pbr/'><meta property='og:site_name' content='FOTH0626'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2025-05-27T22:54:21+08:00'><meta property='article:modified_time' content='2025-05-27T22:54:21+08:00'><meta property='og:image' content='https://foth0626.github.io/article/disney-pbr/aglina.png'><meta name=twitter:title content="è¿ªå£«å°¼åŸåˆ™çš„BRDF"><meta name=twitter:description content="a simple understand about disney pbr"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://foth0626.github.io/article/disney-pbr/aglina.png'><link rel="shortcut icon" href=/heart-code.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/foth_hu_4eff4256c12406c3.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>FOTH0626</a></h1><h2 class=site-description>å°å°çš„äººå¶ï¼Œæƒ³è¦æ‘˜æœˆäº®</h2></div></header><ol class=menu-social><li><a href=https://space.bilibili.com/351177307 target=_blank title=Bilibili rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7a4 4 0 01-4-4v-6z"/><path d="M8 3l2 3"/><path d="M16 3l-2 3"/><path d="M9 13v-2"/><path d="M15 11v2"/></svg></a></li><li><a href=https://github.com/FOTH0626 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:fothli0626@gmail.com target=_blank title=Gmail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#å‰è¨€>å‰è¨€</a></li><li><a href=#disneybrdf-çš„æ¥æº>DisneyBRDF çš„æ¥æº</a></li><li><a href=#disney-principled-brdf-è§£æä¸å®ç°>Disney â€œprincipledâ€ BRDF è§£æä¸å®ç°</a><ul><li><a href=#diffuse>diffuse</a></li><li><a href=#d>D</a></li><li><a href=#f>F</a></li><li><a href=#g>G</a></li></ul></li><li><a href=#å¼€å‘ç»éªŒ>å¼€å‘ç»éªŒ</a></li><li><a href=#other>Other</a></li><li><a href=#implementation>Implementation</a></li></ul></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/article/disney-pbr/><img src=/article/disney-pbr/aglina_hu_23426bb8e4fa432.png srcset="/article/disney-pbr/aglina_hu_23426bb8e4fa432.png 800w, /article/disney-pbr/aglina_hu_68d55848ddfe6d8f.png 1600w" width=800 height=475 loading=lazy alt="Featured image of post è¿ªå£«å°¼åŸåˆ™çš„BRDF"></a></div><div class=article-details><header class=article-category><a href=/categories/graphics/>Graphics</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/article/disney-pbr/>è¿ªå£«å°¼åŸåˆ™çš„BRDF</a></h2><h3 class=article-subtitle>a simple understand about disney pbr</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-05-27T22:54:21+08:00>2025-05-27</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>5 minute read</time></div></footer></div></header><section class=article-content><h1 id=å‰è¨€>å‰è¨€</h1><p>PBRåœ¨12å¹´æå‡ºäº†Disney Principled BRDFï¼Œä»¥ç®€æ´ä¸”ä¸€è‡´çš„å·¥ä½œæµå’Œå¼ºå¤§çš„è¡¨ç°æ•ˆæœè¢«å„å¤§å¼•æ“å’ŒDCCå¿«é€Ÿæ”¯æŒï¼Œå¹¶æˆä¸ºäº†ä¸šç•Œå…¬è®¤çš„æ ‡å‡†ã€‚æœ¬æ–‡å°†ä¾æ®Disney å‘è¡¨çš„è®ºæ–‡ <a class=link href=https://disneyanimation.com/publications/physically-based-shading-at-disney/ target=_blank rel=noopener>Physically-Based Shading at Disney</a> ï¼Œä½œDisney Principled BRDFçš„ä¸€ä¸ªç®€è¦ç¬”è®°å¹¶ä½¿ç”¨HLSLè¯­è¨€å®ç°ã€‚</p><p>æœ¬äººæ‰ç–å­¦æµ…ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ•¬è¯·æŒ‡æ­£ï¼Œæœ¬äººä¸èƒœæ„Ÿæ¿€ã€‚</p><h1 id=disneybrdf-çš„æ¥æº>DisneyBRDF çš„æ¥æº</h1><p>Disney BRDF ä½¿ç”¨çš„æ˜¯ å¾®è¡¨é¢æ¨¡å‹ï¼Œå³</p>$$
f(l,v) = diffuse + \frac{D(\theta_h)F(\theta_d)G(\theta_l,\theta_v)}{4 \cos\theta_l\cos\theta_v}
$$<p>å…¶ä¸­ï¼ŒdiffuseæœªçŸ¥ï¼Œé€šå¸¸ç”¨ lambert æ¨¡å‹è¡¨è¿°ï¼Œè€Œé«˜å…‰é¡¹åˆ™åŒ…å« $D$,$F$,$G$ ä¸‰é¡¹ï¼Œåˆ†åˆ«è¡¨ç¤ºæ³•çº¿åˆ†å¸ƒå‡½æ•°ï¼Œè²æ¶…å°”åå°„ç³»æ•°ï¼Œå‡ ä½•é®è”½å‡½æ•°ã€‚</p><p>å…³äº $h$ ï¼Œå³åŠè§’å‘é‡ï¼Œè™½ç„¶åœ¨è¿ç®—ä¸­ï¼Œå®ƒä»…ä»…æ˜¯ $lightDir$, $viewDir$ ä¹‹å’Œçš„å½’ä¸€åŒ–å‘é‡ï¼ˆå³$\frac{l + v}{ |l + v| }$ï¼‰ã€‚ä½†å®ƒæœ‰ç€æ›´æ·±åˆ»çš„å«ä¹‰ï¼šå¦‚æœç»™å®šå…‰çº¿æ–¹å‘ $l$ å’Œè§†çº¿æ–¹å‘ $v$ èƒ½å¤Ÿå‘ç”Ÿé•œé¢åå°„ï¼Œè¯´æ˜å­˜åœ¨å¾®è¡¨é¢ï¼Œä¸”è¿™äº›å¾®è¡¨é¢çš„æ³•çº¿ä¸åŠè§’å‘é‡ $h$ çš„æ–¹å‘ç›¸åŒã€‚æ‰€ä»¥å¯¹äº $D$ é¡¹ï¼Œæˆ‘ä»¬ä½¿ç”¨åŠè§’å‘é‡è€Œä¸æ˜¯ pixel çš„ normalã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒDisney æŒ‡å‡ºï¼š å¯¹äºæœªæ˜ç¡®é‡‡ç”¨å¾®è¡¨é¢æ¨¡å‹çš„PBRï¼Œä»å¯ä»¥è§£è¯»ä¸ºå¾®è¡¨é¢æ¨¡å‹ï¼Œåªè¦åŒ…å« $D$ ï¼Œ$F$ é¡¹ä»¥åŠå¯ä»¥è¢«çœ‹ä½œ $G$ é¡¹çš„æŸç§å› å­ã€‚å¾®è¡¨é¢æ¨¡å‹ä¸åˆ«çš„æ¨¡å‹çš„æœ€å¤§åŒºåˆ«æ˜¯æ˜¯å¦æ˜¾å¼åœ°åŒ…å« $\frac{1}{4 cos\theta_l cos\theta_v}$ ã€‚å¯¹äºæœªåŒ…å«è¯¥å› å­çš„æ¨¡å‹ï¼Œå¯é€šè¿‡æå–Då’ŒFå› å­åï¼Œå°†æ¨¡å‹ä¹˜ä»¥Â $4cos\theta_lcos\theta_v$Â æ¥æ¨å¯¼å…¶éšå«çš„é˜´å½±å› å­ã€‚</p><p>Disneyä½¿ç”¨äº† &ldquo;MERL 100&rdquo; æ•°æ®åº“è®°å½•çš„æè´¨æ•°æ®å’ŒDisneyBRDFè¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®ä¿è‡ªå·±çš„æè´¨æ˜¯çœŸå®å¯ä¿¡çš„ã€‚&ldquo;MERL 100"è®°å½•äº†100ä¸ªå„å‘åŒæ€§çš„æè´¨ï¼Œè¯¦ç»†è®°å½•äº†ä»–ä»¬çš„æ•°æ®ã€‚Disney å¯¹äºMERL100æ•°æ®åº“çš„è§‚å¯Ÿæˆ‘ä»¬ä¸æï¼Œå¯ä»¥å‚è€ƒæ¯›æ˜Ÿäº‘å¤§ç¥çš„æ–‡ç« <a class=link href=https://zhuanlan.zhihu.com/p/60977923 target=_blank rel=noopener>ã€åŸºäºç‰©ç†çš„æ¸²æŸ“ï¼ˆPBRï¼‰ç™½çš®ä¹¦ã€‘ï¼ˆä¸‰ï¼‰è¿ªå£«å°¼åŸåˆ™çš„BRDFä¸BSDFç›¸å…³æ€»ç»“</a>ã€‚</p><h1 id=disney-principled-brdf-è§£æä¸å®ç°>Disney â€œprincipledâ€ BRDF è§£æä¸å®ç°</h1><h2 id=diffuse>diffuse</h2><p>diffuseæ˜¯æ¬¡è¡¨é¢æ•£å°„çš„ä¸€ä¸ªæŠ½è±¡/ç®€åŒ–ï¼Œæ‰€ä»¥å¾ˆå¤šæ¨¡å‹ä¼šåŠ ä¸Šè²æ¶…å°”é¡¹ä½¿å…¶æ›´åŠ ç‰©ç†ï¼Œdisneyçš„å…¬å¼å½¢ä¼¼ï¼š</p>$$(1 âˆ’ F(\theta_l))(1 âˆ’ F(\theta_d ))$$<p>ä½¿ç”¨ä¸¤ä¸ªè²æ¶…å°”æ˜¯ä¸ºäº†ä¿æŒHelmholtzäº’æ˜“ï¼ˆå³å…‰è·¯å¯é€†æ€§ï¼‰ã€‚</p>$$f_d = \frac{baseColor}{\pi}(1+F_{D90}-1)(1-\cos\theta_l)^5(1 + (F_D90-1)(1-\cos\theta_v)^5)$$$$F_{D90} = 0.5 + 2 roughness \cos^2\theta_d $$<p>$\theta_d$ æ˜¯å…‰çº¿å’ŒåŠè§’å‘é‡çš„å¤¹è§’ã€‚</p><p>è¿™ä¸ªæ¨¡å‹å’ŒMERL100æ‹Ÿåˆçš„ç›¸å½“ä¼˜ç§€ï¼Œå¹¶ä¸”è‰ºæœ¯å‹å¥½ã€‚</p><p>æ¬¡è¡¨é¢é¡¹ä½¿ç”¨å¦ä¸€ä¸ªdiffuseæ¨¡å‹è¿›è¡Œæ‹Ÿåˆï¼Œä¸è¿‡ç”±äºå¹¶ä¸æ˜¯çœŸæ­£çš„æ¨¡æ‹Ÿå…‰çš„æ¬¡è¡¨é¢æ•£å°„ï¼Œæ‰€ä»¥è¡¨ç°èƒ½åŠ›åªèƒ½è¯´èŠèƒœäºæ— ï¼Œå®Œæ•´çš„æ¬¡è¡¨é¢æ•£å°„åº”è¯¥å‚è€ƒ2015å¹´çš„Disney BSDFï¼Œä¸è¿‡è¿™å°±ä¸æ˜¯å®æ—¶æ¸²æŸ“çš„è¯é¢˜äº†ã€‚</p><h2 id=d>D</h2><p>åŸºäºå¯¹äºå¤šä¸ªæ¨¡å‹çš„è§‚å¯Ÿï¼Œå°¤å…¶æ˜¯GGXï¼ˆTrowbridge-Reitzï¼‰åˆ†å¸ƒå’ŒBerryåˆ†å¸ƒã€‚Disneyåœ¨è¿™ç¯‡æ–‡ç« ä¸­æå‡ºäº†GTRï¼ˆGeneralized-Trowbridge-Reitzï¼‰æ¨¡å‹ã€‚</p>$$D_{GTR}= c/(\alpha^2\cos^2\theta_h+\sin^2\theta_h)^\gamma$$<p>è¡¥ï¼šå®Œæ•´å…¬å¼ä¸ºï¼š</p>$$D_{GTR}(\theta_h) = \frac{(\gamma-1)(\alpha^2-1)}{\pi(1-(\alpha^2)^{1-\gamma})} \frac{1}{(1 + (\alpha^2-1)\cos^2\theta_h)^\gamma}$$$$\phi_h = 2\pi\xi_1$$$$\cos\theta_h = \sqrt{\frac{1-[(\alpha^2)^{1-\gamma}(1-\xi_2)+\xi_2]^{\frac{1}{1-\gamma}}}{1-\alpha^2}}$$<p>å…¶ä¸­ï¼Œ$\xi$ ä¸ºé‡‡æ ·éšæœºæ•°ï¼Œ $\phi_h$ ä¸º åŠè§’çš„è§’åº¦ã€‚</p><blockquote><p>ç¢ç¢å¿µï¼šç°åœ¨è¿å¸Œè…Šå­—æ¯éƒ½ä¸ä¼šå¿µäº†ï¼Œé«˜ä¸­å­¦çš„ç‰©ç«éƒ½è¿˜ç»™è€å¸ˆäº†ï¼Œå”‰</p></blockquote><ul><li><p>å½“ $\gamma$ ä¸º2æ—¶ç­‰æ•ˆGGXï¼Œ$\gamma$ ä¸º1æ—¶ç­‰æ•ˆBerryåˆ†å¸ƒï¼Œå½“ $\gamma$ ä¸º10æ—¶ï¼Œæ‹Ÿåˆåˆ°Beckmannåˆ†å¸ƒã€‚éšç€$\gamma$çš„å¢å¤§ï¼Œé«˜å…‰å°¾éƒ¨é€æ¸ç¼©çŸ­ã€‚</p></li><li><p>Dé¡¹ä½¿ç”¨äº†ä¸¤ä¸ªSpecular lobeï¼Œä¸»æ³¢ç“£ä½¿ç”¨GTR2ï¼ˆGGXï¼‰ï¼Œå‰¯æ³¢ç“£ï¼ˆæ¸…æ¼†å±‚ï¼‰ä½¿ç”¨GTR1ã€‚å¹¶ä¸”ä¸»æ³¢ç“£æ”¯æŒå„å‘å¼‚æ€§å’Œé‡‘å±ï¼Œè€Œå‰¯æ³¢ç“£ä¸æ”¯æŒã€‚</p></li><li><p>ä½¿ç”¨$a = roughness^2$ æ˜ å°„ï¼Œè¾¾åˆ°æ›´å¥½çš„çº¿æ€§å˜åŒ–çš„å¤–è§‚ã€‚</p></li></ul><p>å…³äºç¼©æ”¾å¸¸æ•°cï¼Œä¸ºäº†æ»¡è¶³èƒ½é‡å®ˆæ’ï¼Œå› æ­¤æ•´ä¸ªå‡½æ•°åº”å½“ç§¯åˆ†ä¸º1ï¼Œéœ€è¦ä¸€ä¸ªå¸¸æ•°Cç¼©æ”¾ï¼Œå¯¹äºä¸åŒçš„ $\gamma$ ä¼šæœ‰ä¸åŒçš„Cï¼Œå¯ä»¥è‡ªå·±ç§¯åˆ†å¾—å‡ºï¼ˆæˆ‘ä¸ä¼šç®—*ï¼‰ã€‚</p><h2 id=f>F</h2><p>ç»å…¸çš„Schlickè¿‘ä¼¼ã€‚</p>$$F_{Schlick} = F_0 + (1 âˆ’ F_0 )(1 âˆ’ cosÎ¸_d)^5$$<h2 id=g>G</h2><p>æ²¡æœ‰è¢«maskingå’Œshadowingçš„æ¯”ä¾‹ã€‚ä¸å®Œå…¨ç‰©ç†ï¼Œå‚è€ƒäº†è‰ºæœ¯å®¶çš„æ„è§è¿›è¡Œäº†ä¿®æ”¹ã€‚</p><h1 id=å¼€å‘ç»éªŒ>å¼€å‘ç»éªŒ</h1><p>æè´¨å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹è¿›è¡Œä¸€è‡´çš„å“åº”ã€‚è‰ºæœ¯å®¶ä»¬å¯ä»¥å®æ—¶ç¼–è¾‘æ‰€æœ‰å‚æ•°å¹¶ç«‹åˆ»çœ‹åˆ°ç»“æœï¼Œå¹¶ä¸”å¯ä»¥è·å¾—å’Œæœ€ç»ˆçš„å±•ç¤ºæ•ˆæœä¸€æ ·çš„æ¨¡å‹ï¼Œè¿™ä½¿å¾—è‰ºæœ¯å®¶æ— éœ€åœ¨ç…§æ˜é˜¶æ®µè¿”å·¥ï¼Œå¹¶è·å¾—äº†ä¸€è‡´çš„é«˜è´¨é‡æ¸²æŸ“ç»“æœã€‚ç»Ÿä¸€æ¨¡å‹è¿˜å¸¦æ¥äº†ä¸€ä¸ªä¼˜åŠ¿ï¼šå¯ä»¥é€šè¿‡ä¿å­˜ä¸€ç»„å‚æ•°é¢„è®¾æ¥è·å¾—ä¸€ä¸ªç®€å•çš„æè´¨åº“ã€‚</p><h1 id=other>Other</h1><ul><li><p>å¾®è¡¨é¢åˆ†å¸ƒå‡½æ•° $D(\theta_h)$æ˜¯å…³äºåŠè§’å‘é‡ h çš„åˆ†å¸ƒå‡½æ•°ã€‚</p></li><li><p>ä¸ºäº†ä¿æŒç‰©ç†åˆç†æ€§ï¼Œå…¶åœ¨åŠçƒä¸Šçš„æŠ•å½±é¢ç§¯ç§¯åˆ†å¿…é¡»ä¸º 1ï¼š $\int_{\Omega} D(\theta_h) \cos \theta_h , d\omega = 1$ å³ç§¯åˆ†è€ƒè™‘äº† $\cos \theta_hâ€‹$ çš„æŠ•å½±å› å­ã€‚</p></li><li><p>ä¸ºäº†é‡è¦æ€§é‡‡æ ·ï¼ˆimportance samplingï¼‰ï¼Œå¯ä»¥å°†é‡‡æ ·æ¦‚ç‡å¯†åº¦å‡½æ•°é€‰ä¸ºï¼š$\text{pdf}_h = D(\theta_h) \cos \theta_h$ ã€‚ï¼ˆæˆ‘ä¹Ÿä¸ä¼šç®—ï¼‰</p></li><li><p>å„å‘å¼‚æ€§çš„0.9ä¸»è¦ç”¨äºé™åˆ¶äº†é•¿å®½æ¯”ä¸º 10:1</p></li><li><p>sheenç”±ä¸€ä¸ªé¢å¤–çš„BRDF lobeæ¨¡æ‹Ÿã€‚</p></li></ul><h1 id=implementation>Implementation</h1><p>æˆ‘å‚è€ƒ<a class=link href=https://github.com/wdas/brdf/blob/main/src/brdfs/disney.brdf target=_blank rel=noopener>Disney BRDF Explorer çš„å®˜æ–¹å®ç°</a> Copy äº†ä¸€ä»½HLSLå®ç°:<a class=link href=https://github.com/FOTH0626/FothUrpShaderTemplate/blob/main/DisneyBRDF.hlsl target=_blank rel=noopener>DisneyBRDF</a>.<br>ç¢ç¢å¿µä¸€ä¸‹: ä¸€å¼€å§‹æˆ‘çš„å®ç°ç”¨äº† <code>PI</code> è¿™ä¸ªå®ï¼Œè¿™ä¸ªå®è¢«Unityå®šä¹‰è¿‡ï¼Œæ‰€ä»¥å¼•å…¥åˆ°Unity Shaderä¸­å°±ä¼šæŠ¥é”™ï¼Œç„¶åç”¨äº† <code>const float MY_PI = 3.1415926535</code> ä¸€ä¸ªconstå˜é‡ï¼Œç»“æœå¼•å…¥åˆ°UnityShderåä¸çŸ¥é“ä¸ºä»€ä¹ˆ <code>MY_PI</code> å˜æˆ0äº†ï¼Œæçš„æ•´ä¸ªæè´¨çˆ†ç™½ï¼Œæˆ‘è¿˜æŒ‚ç€Bloomç»™æˆ‘é—ªçäº†ï¼Œçè¯•äº†åŠå¤©æ‰æƒ³åˆ°æŠ“å¸§æ‰å‘ç°è¿™ä¸ªç¦»è°±Bugï¼ˆï¼‰ã€‚æœ€ååˆç”¨å›å® <code>#define MY_PI </code>æ€€ç–‘æ˜¯Shaderlabçš„é—®é¢˜ï¼ˆæ€»ä¹‹fuck Unityï¼‰ï¼Œä»¥åæœ‰æ—¶é—´æ¢ç©¶ä¸€ä¸‹åº•å±‚å®ç°ï¼ˆï¼‰ã€‚</p><p><img src=/article/disney-pbr/aglina.png width=1320 height=783 srcset="/article/disney-pbr/aglina_hu_7e2e397083ce2e38.png 480w, /article/disney-pbr/aglina_hu_c33eca36eba803e7.png 1024w" loading=lazy alt=aglina class=gallery-image data-flex-grow=168 data-flex-basis=404px></p><p>æ´å°”ä½©å¡”çš„è¡£æœä½¿ç”¨äº†DisneyBRDFã€‚ï¼ˆå¤´å‘æ˜¯æˆ‘åœ¨è°ƒçƒå£³æ³•çº¿ï¼Œæ— è§†å°±å¥½ï¼‰</p></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=[".main-article",".widget--toc"];e.forEach(e=>{const t=document.querySelector(e);t&&renderMathInElement(t,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/article/gdc-2024-hifirush-toonrendering-notes/><div class=article-image><img src=/article/gdc-2024-hifirush-toonrendering-notes/face2.8fcdef04559fcb0b080d86d98034a419_hu_41ddbcf4c78d3186.png width=250 height=150 loading=lazy alt="Featured image of post [GDC]3D Toon Rendering in 'Hi-Fi Rush'" data-key=gdc-2024-hifirush-toonrendering-notes data-hash="md5-j83vBFWfywsIDYbZgDSkGQ=="></div><div class=article-details><h2 class=article-title>[GDC]3D Toon Rendering in 'Hi-Fi Rush'</h2></div></a></article><article><a href=/article/urp-shader-template/><div class=article-details><h2 class=article-title>URP Shader æ¨¡æ¿</h2></div></a></article><article><a href=/article/performance-optimization/><div class=article-details><h2 class=article-title>a brief discussion of performance optimization</h2></div></a></article><article class=has-image><a href=/article/brdf-and-rendering-equation/><div class=article-image><img src=/article/brdf-and-rendering-equation/frostbite_pbr.91d7b7bb56e548d0587bc5fd6889fdd9_hu_2a3c599113f3312b.png width=250 height=150 loading=lazy alt="Featured image of post The BRDF and Rendering Equation" data-key=brdf-and-rendering-equation data-hash="md5-kde3u1blSNBYe8X9aIn92Q=="></div><div class=article-details><h2 class=article-title>The BRDF and Rendering Equation</h2></div></a></article><article class=has-image><a href=/article/introduction-to-graphics-and-gpu/><div class=article-image><img src=/article/introduction-to-graphics-and-gpu/ADA_Arttibutes.d8f3da25e99aa342385b99558adaba21_hu_3a17054c5d67e5e4.png width=250 height=150 loading=lazy alt="Featured image of post è®¡ç®—æœºå›¾å½¢å­¦ä¸GPUæ¶æ„ç®€ä»‹" data-key=Introduction-to-graphics-and-gpu data-hash="md5-2PPaJemao0I4W5lVitq6IQ=="></div><div class=article-details><h2 class=article-title>è®¡ç®—æœºå›¾å½¢å­¦ä¸GPUæ¶æ„ç®€ä»‹</h2></div></a></article></div></div></aside><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script><link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({avatar:"",dark:'html[data-scheme="dark"]',el:"#waline",emoji:[],lang:"zh-CN",locale:{admin:"Admin",placeholder:null},placeholder:"leave a comment",requiredMeta:["name","email","url"],serverURL:"https://comment.foth.top",visitor:"Anonymous"})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 FOTH0626</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.32.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>